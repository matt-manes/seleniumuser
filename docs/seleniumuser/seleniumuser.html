<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 12.3.1"/>
    <title>seleniumuser.seleniumuser API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent }nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .pdoc-alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:1rem center;margin-bottom:1rem;}.pdoc .pdoc-alert > *:last-child{margin-bottom:0;}.pdoc .pdoc-alert-note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--code);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../seleniumuser.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;seleniumuser</a>


            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



        <h2>API Documentation</h2>
            <ul class="memberlist">
            <li>
                    <a class="class" href="#User">User</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#User.__init__">User</a>
                        </li>
                        <li>
                                <a class="function" href="#User.configure_firefox">configure_firefox</a>
                        </li>
                        <li>
                                <a class="function" href="#User.configure_chrome">configure_chrome</a>
                        </li>
                        <li>
                                <a class="function" href="#User.search_for_driver">search_for_driver</a>
                        </li>
                        <li>
                                <a class="function" href="#User.set_implicit_wait">set_implicit_wait</a>
                        </li>
                        <li>
                                <a class="function" href="#User.open_browser">open_browser</a>
                        </li>
                        <li>
                                <a class="function" href="#User.close_browser">close_browser</a>
                        </li>
                        <li>
                                <a class="function" href="#User.open_tab">open_tab</a>
                        </li>
                        <li>
                                <a class="function" href="#User.switch_to_tab">switch_to_tab</a>
                        </li>
                        <li>
                                <a class="function" href="#User.get_num_tabs">get_num_tabs</a>
                        </li>
                        <li>
                                <a class="function" href="#User.close_tab">close_tab</a>
                        </li>
                        <li>
                                <a class="function" href="#User.get">get</a>
                        </li>
                        <li>
                                <a class="function" href="#User.get_soup">get_soup</a>
                        </li>
                        <li>
                                <a class="function" href="#User.current_url">current_url</a>
                        </li>
                        <li>
                                <a class="function" href="#User.delete_cookies">delete_cookies</a>
                        </li>
                        <li>
                                <a class="function" href="#User.turbo">turbo</a>
                        </li>
                        <li>
                                <a class="function" href="#User.chill">chill</a>
                        </li>
                        <li>
                                <a class="function" href="#User.script">script</a>
                        </li>
                        <li>
                                <a class="function" href="#User.remove">remove</a>
                        </li>
                        <li>
                                <a class="function" href="#User.get_length">get_length</a>
                        </li>
                        <li>
                                <a class="function" href="#User.find">find</a>
                        </li>
                        <li>
                                <a class="function" href="#User.find_children">find_children</a>
                        </li>
                        <li>
                                <a class="function" href="#User.scroll">scroll</a>
                        </li>
                        <li>
                                <a class="function" href="#User.scroll_into_view">scroll_into_view</a>
                        </li>
                        <li>
                                <a class="function" href="#User.text">text</a>
                        </li>
                        <li>
                                <a class="function" href="#User.click">click</a>
                        </li>
                        <li>
                                <a class="function" href="#User.clear">clear</a>
                        </li>
                        <li>
                                <a class="function" href="#User.switch_to_iframe">switch_to_iframe</a>
                        </li>
                        <li>
                                <a class="function" href="#User.switch_to_parent_frame">switch_to_parent_frame</a>
                        </li>
                        <li>
                                <a class="function" href="#User.select">select</a>
                        </li>
                        <li>
                                <a class="function" href="#User.click_elements">click_elements</a>
                        </li>
                        <li>
                                <a class="function" href="#User.get_click_list">get_click_list</a>
                        </li>
                        <li>
                                <a class="function" href="#User.send_keys">send_keys</a>
                        </li>
                        <li>
                                <a class="function" href="#User.fill_next">fill_next</a>
                        </li>
                        <li>
                                <a class="function" href="#User.wait_until">wait_until</a>
                        </li>
                        <li>
                                <a class="function" href="#User.dismiss_alert">dismiss_alert</a>
                        </li>
                        <li>
                                <a class="function" href="#User.solve_recaptcha_v3">solve_recaptcha_v3</a>
                        </li>
                </ul>

            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
<a href="./../seleniumuser.html">seleniumuser</a><wbr>.seleniumuser    </h1>

                
                        <input id="mod-seleniumuser-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-seleniumuser-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">  1</span></a><span class="kn">import</span> <span class="nn">atexit</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">  2</span></a><span class="kn">import</span> <span class="nn">os</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos">  3</span></a><span class="kn">import</span> <span class="nn">random</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos">  4</span></a><span class="kn">import</span> <span class="nn">sys</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos">  5</span></a><span class="kn">import</span> <span class="nn">time</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">  6</span></a><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos">  7</span></a><span class="kn">from</span> <span class="nn">types</span> <span class="kn">import</span> <span class="n">LambdaType</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos">  8</span></a><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos">  9</span></a><span class="kn">from</span> <span class="nn">warnings</span> <span class="kn">import</span> <span class="n">warn</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos"> 10</span></a>
</span><span id="L-11"><a href="#L-11"><span class="linenos"> 11</span></a><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos"> 12</span></a><span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos"> 13</span></a><span class="kn">from</span> <span class="nn">selenium.webdriver.chrome.options</span> <span class="kn">import</span> <span class="n">Options</span> <span class="k">as</span> <span class="n">ChromeOptions</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos"> 14</span></a><span class="kn">from</span> <span class="nn">selenium.webdriver.chrome.service</span> <span class="kn">import</span> <span class="n">Service</span> <span class="k">as</span> <span class="n">ChromeService</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos"> 15</span></a><span class="kn">from</span> <span class="nn">selenium.webdriver.common.by</span> <span class="kn">import</span> <span class="n">By</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos"> 16</span></a><span class="kn">from</span> <span class="nn">selenium.webdriver.common.keys</span> <span class="kn">import</span> <span class="n">Keys</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos"> 17</span></a><span class="kn">from</span> <span class="nn">selenium.webdriver.firefox.firefox_profile</span> <span class="kn">import</span> <span class="n">FirefoxProfile</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos"> 18</span></a><span class="kn">from</span> <span class="nn">selenium.webdriver.firefox.options</span> <span class="kn">import</span> <span class="n">Options</span> <span class="k">as</span> <span class="n">FirefoxOptions</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos"> 19</span></a><span class="kn">from</span> <span class="nn">selenium.webdriver.firefox.service</span> <span class="kn">import</span> <span class="n">Service</span> <span class="k">as</span> <span class="n">FirefoxService</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos"> 20</span></a><span class="kn">from</span> <span class="nn">selenium.webdriver.remote.webelement</span> <span class="kn">import</span> <span class="n">WebElement</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos"> 21</span></a><span class="kn">from</span> <span class="nn">selenium.webdriver.support.ui</span> <span class="kn">import</span> <span class="n">Select</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos"> 22</span></a>
</span><span id="L-23"><a href="#L-23"><span class="linenos"> 23</span></a><span class="kn">from</span> <span class="nn">noiftimer</span> <span class="kn">import</span> <span class="n">Timer</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos"> 24</span></a><span class="kn">from</span> <span class="nn">voxscribe</span> <span class="kn">import</span> <span class="n">get_text_from_url</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos"> 25</span></a><span class="kn">from</span> <span class="nn">whosyouragent</span> <span class="kn">import</span> <span class="n">get_agent</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos"> 26</span></a>
</span><span id="L-27"><a href="#L-27"><span class="linenos"> 27</span></a>
</span><span id="L-28"><a href="#L-28"><span class="linenos"> 28</span></a><span class="k">class</span> <span class="nc">User</span><span class="p">:</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos"> 29</span></a>    <span class="sd">&quot;&quot;&quot;Sits on top of selenium to streamline</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos"> 30</span></a><span class="sd">    automation and scraping tasks.&quot;&quot;&quot;</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos"> 31</span></a>
</span><span id="L-32"><a href="#L-32"><span class="linenos"> 32</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos"> 33</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos"> 34</span></a>        <span class="n">headless</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos"> 35</span></a>        <span class="n">browser_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;firefox&quot;</span><span class="p">,</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos"> 36</span></a>        <span class="n">implicit_wait</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos"> 37</span></a>        <span class="n">page_load_timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">60</span><span class="p">,</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos"> 38</span></a>        <span class="n">open_browser</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos"> 39</span></a>        <span class="n">locator_method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;xpath&quot;</span><span class="p">,</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos"> 40</span></a>        <span class="n">randomize_user_agent</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos"> 41</span></a>        <span class="n">user_agent_rotation_period</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos"> 42</span></a>        <span class="n">move_window_by</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1000</span><span class="p">),</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos"> 43</span></a>        <span class="n">download_dir</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Path</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos"> 44</span></a>        <span class="n">driver_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Path</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos"> 45</span></a>    <span class="p">):</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos"> 46</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos"> 47</span></a><span class="sd">        :param headless: If True, browser window will not be visible.</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos"> 48</span></a>
</span><span id="L-49"><a href="#L-49"><span class="linenos"> 49</span></a><span class="sd">        :param browser_type: Which browser to use. Can be &#39;firefox&#39; or &#39;chrome&#39;.</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos"> 50</span></a>
</span><span id="L-51"><a href="#L-51"><span class="linenos"> 51</span></a><span class="sd">        :param implicit_wait: Number of seconds to look for a specified element before</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos"> 52</span></a><span class="sd">        selenium considers it missing and throws an exception.</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos"> 53</span></a>
</span><span id="L-54"><a href="#L-54"><span class="linenos"> 54</span></a><span class="sd">        :param page_load_timeout: Time in seconds for selenium to wait for a page to load</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos"> 55</span></a><span class="sd">        before throwing an exception.</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos"> 56</span></a>
</span><span id="L-57"><a href="#L-57"><span class="linenos"> 57</span></a><span class="sd">        :param open_browser: If True, opens a browser window when a User object is created.</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos"> 58</span></a><span class="sd">        If False, a manual call to self.open_browser() must be made.</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos"> 59</span></a>
</span><span id="L-60"><a href="#L-60"><span class="linenos"> 60</span></a><span class="sd">        :param locator_method: The locator type User should expect to be given.</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos"> 61</span></a><span class="sd">        Can be &#39;xpath&#39;, &#39;id&#39;, &#39;className&#39;, &#39;name&#39;, or &#39;cssSelector&#39;.</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos"> 62</span></a><span class="sd">        Every member function with a &#39;locator&#39; argument refers to a string matching</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos"> 63</span></a><span class="sd">        the current locator_method.</span>
</span><span id="L-64"><a href="#L-64"><span class="linenos"> 64</span></a>
</span><span id="L-65"><a href="#L-65"><span class="linenos"> 65</span></a><span class="sd">        :param randomize_user_agent: If True, a random useragent will be used whenever</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos"> 66</span></a><span class="sd">        the browser is opened. If False, the native useragent will be used.</span>
</span><span id="L-67"><a href="#L-67"><span class="linenos"> 67</span></a>
</span><span id="L-68"><a href="#L-68"><span class="linenos"> 68</span></a><span class="sd">        :param user_agent_rotation_period: If not None, the browser window will be closed</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos"> 69</span></a><span class="sd">        and reopened with a new useragent every user_agent_rotation_period number of minutes.</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos"> 70</span></a><span class="sd">        Rotation occurs on the first call to self.get() after the time period has elapsed.</span>
</span><span id="L-71"><a href="#L-71"><span class="linenos"> 71</span></a><span class="sd">        Ignored if randomize_user_agent is False.</span>
</span><span id="L-72"><a href="#L-72"><span class="linenos"> 72</span></a>
</span><span id="L-73"><a href="#L-73"><span class="linenos"> 73</span></a><span class="sd">        :param move_window_by: The x and y amount of pixels to move the browser window by after opening.</span>
</span><span id="L-74"><a href="#L-74"><span class="linenos"> 74</span></a>
</span><span id="L-75"><a href="#L-75"><span class="linenos"> 75</span></a><span class="sd">        :param download_dir: The download folder to use. If None, the default folder will be used.</span>
</span><span id="L-76"><a href="#L-76"><span class="linenos"> 76</span></a>
</span><span id="L-77"><a href="#L-77"><span class="linenos"> 77</span></a><span class="sd">        :param driver_path: The path to the webdriver executable selenium should use.</span>
</span><span id="L-78"><a href="#L-78"><span class="linenos"> 78</span></a><span class="sd">        If None, the system PATH will be checked for the executable.</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos"> 79</span></a><span class="sd">        If the executable isn&#39;t found, the parent directories and the immediate child directories</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos"> 80</span></a><span class="sd">        of the current working directory will be searched.</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos"> 81</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos"> 82</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">headless</span> <span class="o">=</span> <span class="n">headless</span>
</span><span id="L-83"><a href="#L-83"><span class="linenos"> 83</span></a>        <span class="n">browser_type</span> <span class="o">=</span> <span class="n">browser_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos"> 84</span></a>        <span class="k">if</span> <span class="n">browser_type</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;firefox&quot;</span><span class="p">,</span> <span class="s2">&quot;chrome&quot;</span><span class="p">]:</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos"> 85</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser_type</span> <span class="o">=</span> <span class="n">browser_type</span>
</span><span id="L-86"><a href="#L-86"><span class="linenos"> 86</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-87"><a href="#L-87"><span class="linenos"> 87</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;browser_type&#39; parameter must be &#39;firefox&#39; or &#39;chrome&#39;&quot;</span><span class="p">)</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos"> 88</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">browser_open</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos"> 89</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">implicit_wait</span> <span class="o">=</span> <span class="n">implicit_wait</span>
</span><span id="L-90"><a href="#L-90"><span class="linenos"> 90</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">page_load_timeout</span> <span class="o">=</span> <span class="n">page_load_timeout</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos"> 91</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rotation_timer</span> <span class="o">=</span> <span class="n">Timer</span><span class="p">()</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos"> 92</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">timer</span> <span class="o">=</span> <span class="n">Timer</span><span class="p">()</span>
</span><span id="L-93"><a href="#L-93"><span class="linenos"> 93</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</span><span id="L-94"><a href="#L-94"><span class="linenos"> 94</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">randomize_user_agent</span> <span class="o">=</span> <span class="n">randomize_user_agent</span>
</span><span id="L-95"><a href="#L-95"><span class="linenos"> 95</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">user_agent_rotation_period</span> <span class="o">=</span> <span class="n">user_agent_rotation_period</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos"> 96</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">locator_method</span> <span class="o">=</span> <span class="n">locator_method</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos"> 97</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">turbo</span><span class="p">()</span>
</span><span id="L-98"><a href="#L-98"><span class="linenos"> 98</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">keys</span> <span class="o">=</span> <span class="n">Keys</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos"> 99</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">move_window_by</span> <span class="o">=</span> <span class="n">move_window_by</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos">100</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">download_dir</span> <span class="o">=</span> <span class="n">download_dir</span>
</span><span id="L-101"><a href="#L-101"><span class="linenos">101</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">driver_path</span> <span class="o">=</span> <span class="n">driver_path</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos">102</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver_path</span><span class="p">:</span>
</span><span id="L-103"><a href="#L-103"><span class="linenos">103</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">search_for_driver</span><span class="p">()</span>
</span><span id="L-104"><a href="#L-104"><span class="linenos">104</span></a>        <span class="k">if</span> <span class="n">open_browser</span><span class="p">:</span>
</span><span id="L-105"><a href="#L-105"><span class="linenos">105</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">open_browser</span><span class="p">()</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos">106</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos">107</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-108"><a href="#L-108"><span class="linenos">108</span></a>        <span class="n">atexit</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">close_browser</span><span class="p">)</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos">109</span></a>
</span><span id="L-110"><a href="#L-110"><span class="linenos">110</span></a>    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos">111</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="L-112"><a href="#L-112"><span class="linenos">112</span></a>
</span><span id="L-113"><a href="#L-113"><span class="linenos">113</span></a>    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos">114</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">close_browser</span><span class="p">()</span>
</span><span id="L-115"><a href="#L-115"><span class="linenos">115</span></a>
</span><span id="L-116"><a href="#L-116"><span class="linenos">116</span></a>    <span class="k">def</span> <span class="nf">configure_firefox</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FirefoxService</span><span class="p">:</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos">117</span></a>        <span class="sd">&quot;&quot;&quot;Configure options and profile for firefox.&quot;&quot;&quot;</span>
</span><span id="L-118"><a href="#L-118"><span class="linenos">118</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span> <span class="o">=</span> <span class="n">FirefoxOptions</span><span class="p">()</span>
</span><span id="L-119"><a href="#L-119"><span class="linenos">119</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">headless</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">headless</span>
</span><span id="L-120"><a href="#L-120"><span class="linenos">120</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">set_preference</span><span class="p">(</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos">121</span></a>            <span class="s2">&quot;widget.windows.window_occlusion_tracking.enabled&quot;</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos">122</span></a>        <span class="p">)</span>
</span><span id="L-123"><a href="#L-123"><span class="linenos">123</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">set_preference</span><span class="p">(</span><span class="s2">&quot;dom.webaudio.enabled&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="L-124"><a href="#L-124"><span class="linenos">124</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">randomize_user_agent</span><span class="p">:</span>
</span><span id="L-125"><a href="#L-125"><span class="linenos">125</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">set_preference</span><span class="p">(</span><span class="s2">&quot;general.useragent.override&quot;</span><span class="p">,</span> <span class="n">get_agent</span><span class="p">())</span>
</span><span id="L-126"><a href="#L-126"><span class="linenos">126</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">download_dir</span><span class="p">:</span>
</span><span id="L-127"><a href="#L-127"><span class="linenos">127</span></a>            <span class="n">Path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">download_dir</span><span class="p">)</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos">128</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">profile</span> <span class="o">=</span> <span class="n">FirefoxProfile</span><span class="p">()</span>
</span><span id="L-129"><a href="#L-129"><span class="linenos">129</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">set_preference</span><span class="p">(</span><span class="s2">&quot;browser.download.dir&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">download_dir</span><span class="p">))</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos">130</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">set_preference</span><span class="p">(</span><span class="s2">&quot;browser.download.folderList&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="L-131"><a href="#L-131"><span class="linenos">131</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos">132</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">profile</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-133"><a href="#L-133"><span class="linenos">133</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">service</span> <span class="o">=</span> <span class="n">FirefoxService</span><span class="p">(</span>
</span><span id="L-134"><a href="#L-134"><span class="linenos">134</span></a>            <span class="n">executable_path</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">driver_path</span><span class="p">),</span> <span class="n">log_path</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">devnull</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos">135</span></a>        <span class="p">)</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos">136</span></a>
</span><span id="L-137"><a href="#L-137"><span class="linenos">137</span></a>    <span class="k">def</span> <span class="nf">configure_chrome</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ChromeService</span><span class="p">:</span>
</span><span id="L-138"><a href="#L-138"><span class="linenos">138</span></a>        <span class="sd">&quot;&quot;&quot;Configure options and profile for chrome.&quot;&quot;&quot;</span>
</span><span id="L-139"><a href="#L-139"><span class="linenos">139</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span> <span class="o">=</span> <span class="n">ChromeOptions</span><span class="p">()</span>
</span><span id="L-140"><a href="#L-140"><span class="linenos">140</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">headless</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">headless</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos">141</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--disable-blink-features=AutomationControlled&quot;</span><span class="p">)</span>
</span><span id="L-142"><a href="#L-142"><span class="linenos">142</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--mute-audio&quot;</span><span class="p">)</span>
</span><span id="L-143"><a href="#L-143"><span class="linenos">143</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--disable-infobars&quot;</span><span class="p">)</span>
</span><span id="L-144"><a href="#L-144"><span class="linenos">144</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--disable-notifications&quot;</span><span class="p">)</span>
</span><span id="L-145"><a href="#L-145"><span class="linenos">145</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--log-level=3&quot;</span><span class="p">)</span>
</span><span id="L-146"><a href="#L-146"><span class="linenos">146</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">randomize_user_agent</span><span class="p">:</span>
</span><span id="L-147"><a href="#L-147"><span class="linenos">147</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;--user-agent=</span><span class="si">{</span><span class="n">get_agent</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-148"><a href="#L-148"><span class="linenos">148</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">add_experimental_option</span><span class="p">(</span><span class="s2">&quot;useAutomationExtension&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="L-149"><a href="#L-149"><span class="linenos">149</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">download_dir</span><span class="p">:</span>
</span><span id="L-150"><a href="#L-150"><span class="linenos">150</span></a>            <span class="n">Path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">download_dir</span><span class="p">)</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-151"><a href="#L-151"><span class="linenos">151</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">add_experimental_option</span><span class="p">(</span>
</span><span id="L-152"><a href="#L-152"><span class="linenos">152</span></a>                <span class="s2">&quot;prefs&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;download.default_directory&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">download_dir</span><span class="p">)}</span>
</span><span id="L-153"><a href="#L-153"><span class="linenos">153</span></a>            <span class="p">)</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos">154</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">service</span> <span class="o">=</span> <span class="n">ChromeService</span><span class="p">(</span>
</span><span id="L-155"><a href="#L-155"><span class="linenos">155</span></a>            <span class="n">executable_path</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">driver_path</span><span class="p">),</span> <span class="n">log_path</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">devnull</span>
</span><span id="L-156"><a href="#L-156"><span class="linenos">156</span></a>        <span class="p">)</span>
</span><span id="L-157"><a href="#L-157"><span class="linenos">157</span></a>
</span><span id="L-158"><a href="#L-158"><span class="linenos">158</span></a>    <span class="k">def</span> <span class="nf">search_for_driver</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-159"><a href="#L-159"><span class="linenos">159</span></a>        <span class="sd">&quot;&quot;&quot;Searches for the webdriver executable.&quot;&quot;&quot;</span>
</span><span id="L-160"><a href="#L-160"><span class="linenos">160</span></a>        <span class="n">cwd</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span>
</span><span id="L-161"><a href="#L-161"><span class="linenos">161</span></a>        <span class="n">found</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-162"><a href="#L-162"><span class="linenos">162</span></a>        <span class="k">match</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser_type</span><span class="p">:</span>
</span><span id="L-163"><a href="#L-163"><span class="linenos">163</span></a>            <span class="k">case</span> <span class="s2">&quot;firefox&quot;</span><span class="p">:</span>
</span><span id="L-164"><a href="#L-164"><span class="linenos">164</span></a>                <span class="n">driver</span> <span class="o">=</span> <span class="s2">&quot;geckodriver.exe&quot;</span>
</span><span id="L-165"><a href="#L-165"><span class="linenos">165</span></a>            <span class="k">case</span> <span class="s2">&quot;chrome&quot;</span><span class="p">:</span>
</span><span id="L-166"><a href="#L-166"><span class="linenos">166</span></a>                <span class="n">driver</span> <span class="o">=</span> <span class="s2">&quot;chromedriver.exe&quot;</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos">167</span></a>        <span class="c1"># search PATH</span>
</span><span id="L-168"><a href="#L-168"><span class="linenos">168</span></a>        <span class="n">env_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;PATH&quot;</span><span class="p">]</span>
</span><span id="L-169"><a href="#L-169"><span class="linenos">169</span></a>        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s2">&quot;win32&quot;</span><span class="p">:</span>
</span><span id="L-170"><a href="#L-170"><span class="linenos">170</span></a>            <span class="n">env_paths</span> <span class="o">=</span> <span class="n">env_path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">)</span>
</span><span id="L-171"><a href="#L-171"><span class="linenos">171</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-172"><a href="#L-172"><span class="linenos">172</span></a>            <span class="n">env_paths</span> <span class="o">=</span> <span class="n">env_path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
</span><span id="L-173"><a href="#L-173"><span class="linenos">173</span></a>            <span class="n">driver</span> <span class="o">=</span> <span class="n">driver</span><span class="p">[:</span> <span class="n">driver</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)]</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos">174</span></a>        <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">env_paths</span><span class="p">:</span>
</span><span id="L-175"><a href="#L-175"><span class="linenos">175</span></a>            <span class="k">if</span> <span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="o">/</span> <span class="n">driver</span><span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
</span><span id="L-176"><a href="#L-176"><span class="linenos">176</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">driver_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="o">/</span> <span class="n">driver</span>
</span><span id="L-177"><a href="#L-177"><span class="linenos">177</span></a>                <span class="n">found</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-178"><a href="#L-178"><span class="linenos">178</span></a>                <span class="k">break</span>
</span><span id="L-179"><a href="#L-179"><span class="linenos">179</span></a>        <span class="c1"># check current working directory and parent folders</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos">180</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">found</span><span class="p">:</span>
</span><span id="L-181"><a href="#L-181"><span class="linenos">181</span></a>            <span class="k">while</span> <span class="n">cwd</span> <span class="o">!=</span> <span class="n">cwd</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span>
</span><span id="L-182"><a href="#L-182"><span class="linenos">182</span></a>                <span class="k">if</span> <span class="p">(</span><span class="n">cwd</span> <span class="o">/</span> <span class="n">driver</span><span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos">183</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">driver_path</span> <span class="o">=</span> <span class="n">cwd</span> <span class="o">/</span> <span class="n">driver</span>
</span><span id="L-184"><a href="#L-184"><span class="linenos">184</span></a>                    <span class="n">found</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-185"><a href="#L-185"><span class="linenos">185</span></a>                    <span class="k">break</span>
</span><span id="L-186"><a href="#L-186"><span class="linenos">186</span></a>                <span class="n">cwd</span> <span class="o">=</span> <span class="n">cwd</span><span class="o">.</span><span class="n">parent</span>
</span><span id="L-187"><a href="#L-187"><span class="linenos">187</span></a>            <span class="c1"># check top most level</span>
</span><span id="L-188"><a href="#L-188"><span class="linenos">188</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">found</span> <span class="ow">and</span> <span class="p">(</span><span class="n">cwd</span> <span class="o">/</span> <span class="n">driver</span><span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
</span><span id="L-189"><a href="#L-189"><span class="linenos">189</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">driver_path</span> <span class="o">=</span> <span class="n">cwd</span> <span class="o">/</span> <span class="n">driver</span>
</span><span id="L-190"><a href="#L-190"><span class="linenos">190</span></a>                <span class="n">found</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-191"><a href="#L-191"><span class="linenos">191</span></a>        <span class="c1"># check child folders (only 1 level down)</span>
</span><span id="L-192"><a href="#L-192"><span class="linenos">192</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">found</span><span class="p">:</span>
</span><span id="L-193"><a href="#L-193"><span class="linenos">193</span></a>            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">Path</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span><span class="o">.</span><span class="n">iterdir</span><span class="p">():</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos">194</span></a>                <span class="k">if</span> <span class="n">child</span><span class="o">.</span><span class="n">is_dir</span><span class="p">()</span> <span class="ow">and</span> <span class="p">(</span><span class="n">child</span> <span class="o">/</span> <span class="n">driver</span><span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos">195</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">driver_path</span> <span class="o">=</span> <span class="n">child</span> <span class="o">/</span> <span class="n">driver</span>
</span><span id="L-196"><a href="#L-196"><span class="linenos">196</span></a>                    <span class="n">found</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-197"><a href="#L-197"><span class="linenos">197</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">found</span><span class="p">:</span>
</span><span id="L-198"><a href="#L-198"><span class="linenos">198</span></a>            <span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not find </span><span class="si">{</span><span class="n">driver</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-199"><a href="#L-199"><span class="linenos">199</span></a>
</span><span id="L-200"><a href="#L-200"><span class="linenos">200</span></a>    <span class="k">def</span> <span class="nf">set_implicit_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wait_time</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="L-201"><a href="#L-201"><span class="linenos">201</span></a>        <span class="sd">&quot;&quot;&quot;Sets to default time if no arg given.&quot;&quot;&quot;</span>
</span><span id="L-202"><a href="#L-202"><span class="linenos">202</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">wait_time</span><span class="p">:</span>
</span><span id="L-203"><a href="#L-203"><span class="linenos">203</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">implicitly_wait</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">implicit_wait</span><span class="p">)</span>
</span><span id="L-204"><a href="#L-204"><span class="linenos">204</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos">205</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">implicitly_wait</span><span class="p">(</span><span class="n">wait_time</span><span class="p">)</span>
</span><span id="L-206"><a href="#L-206"><span class="linenos">206</span></a>
</span><span id="L-207"><a href="#L-207"><span class="linenos">207</span></a>    <span class="k">def</span> <span class="nf">open_browser</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-208"><a href="#L-208"><span class="linenos">208</span></a>        <span class="sd">&quot;&quot;&quot;Configures and opens selenium browser.&quot;&quot;&quot;</span>
</span><span id="L-209"><a href="#L-209"><span class="linenos">209</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser_open</span><span class="p">:</span>
</span><span id="L-210"><a href="#L-210"><span class="linenos">210</span></a>            <span class="k">match</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser_type</span><span class="p">:</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos">211</span></a>                <span class="k">case</span> <span class="s2">&quot;firefox&quot;</span><span class="p">:</span>
</span><span id="L-212"><a href="#L-212"><span class="linenos">212</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">configure_firefox</span><span class="p">()</span>
</span><span id="L-213"><a href="#L-213"><span class="linenos">213</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">browser</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Firefox</span><span class="p">(</span>
</span><span id="L-214"><a href="#L-214"><span class="linenos">214</span></a>                        <span class="n">options</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">,</span>
</span><span id="L-215"><a href="#L-215"><span class="linenos">215</span></a>                        <span class="n">service</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">service</span><span class="p">,</span>
</span><span id="L-216"><a href="#L-216"><span class="linenos">216</span></a>                        <span class="n">firefox_profile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">profile</span><span class="p">,</span>
</span><span id="L-217"><a href="#L-217"><span class="linenos">217</span></a>                    <span class="p">)</span>
</span><span id="L-218"><a href="#L-218"><span class="linenos">218</span></a>                <span class="k">case</span> <span class="s2">&quot;chrome&quot;</span><span class="p">:</span>
</span><span id="L-219"><a href="#L-219"><span class="linenos">219</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">configure_chrome</span><span class="p">()</span>
</span><span id="L-220"><a href="#L-220"><span class="linenos">220</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">browser</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Chrome</span><span class="p">(</span>
</span><span id="L-221"><a href="#L-221"><span class="linenos">221</span></a>                        <span class="n">options</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">,</span> <span class="n">service</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">service</span>
</span><span id="L-222"><a href="#L-222"><span class="linenos">222</span></a>                    <span class="p">)</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos">223</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">set_implicit_wait</span><span class="p">()</span>
</span><span id="L-224"><a href="#L-224"><span class="linenos">224</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">maximize_window</span><span class="p">()</span>
</span><span id="L-225"><a href="#L-225"><span class="linenos">225</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">set_window_position</span><span class="p">(</span>
</span><span id="L-226"><a href="#L-226"><span class="linenos">226</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">move_window_by</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">move_window_by</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="L-227"><a href="#L-227"><span class="linenos">227</span></a>            <span class="p">)</span>
</span><span id="L-228"><a href="#L-228"><span class="linenos">228</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">maximize_window</span><span class="p">()</span>
</span><span id="L-229"><a href="#L-229"><span class="linenos">229</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">set_page_load_timeout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">page_load_timeout</span><span class="p">)</span>
</span><span id="L-230"><a href="#L-230"><span class="linenos">230</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser_open</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-231"><a href="#L-231"><span class="linenos">231</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tab_index</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-232"><a href="#L-232"><span class="linenos">232</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">rotation_timer</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</span><span id="L-233"><a href="#L-233"><span class="linenos">233</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-234"><a href="#L-234"><span class="linenos">234</span></a>            <span class="n">warn</span><span class="p">(</span><span class="s2">&quot;Browser already open.&quot;</span><span class="p">)</span>
</span><span id="L-235"><a href="#L-235"><span class="linenos">235</span></a>
</span><span id="L-236"><a href="#L-236"><span class="linenos">236</span></a>    <span class="k">def</span> <span class="nf">close_browser</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos">237</span></a>        <span class="sd">&quot;&quot;&quot;Close browser window.&quot;&quot;&quot;</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos">238</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser_open</span><span class="p">:</span>
</span><span id="L-239"><a href="#L-239"><span class="linenos">239</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser_open</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-240"><a href="#L-240"><span class="linenos">240</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</span><span id="L-241"><a href="#L-241"><span class="linenos">241</span></a>
</span><span id="L-242"><a href="#L-242"><span class="linenos">242</span></a>    <span class="k">def</span> <span class="nf">open_tab</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">switch_to_tab</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
</span><span id="L-243"><a href="#L-243"><span class="linenos">243</span></a>        <span class="sd">&quot;&quot;&quot;Opens new tab and, if provided, goes to url.</span>
</span><span id="L-244"><a href="#L-244"><span class="linenos">244</span></a>
</span><span id="L-245"><a href="#L-245"><span class="linenos">245</span></a><span class="sd">        New tab is inserted after currently active tab.&quot;&quot;&quot;</span>
</span><span id="L-246"><a href="#L-246"><span class="linenos">246</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="s2">&quot;window.open(arguments[0]);&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
</span><span id="L-247"><a href="#L-247"><span class="linenos">247</span></a>        <span class="k">if</span> <span class="n">switch_to_tab</span><span class="p">:</span>
</span><span id="L-248"><a href="#L-248"><span class="linenos">248</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">switch_to_tab</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tab_index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="L-249"><a href="#L-249"><span class="linenos">249</span></a>
</span><span id="L-250"><a href="#L-250"><span class="linenos">250</span></a>    <span class="k">def</span> <span class="nf">switch_to_tab</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tab_index</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="L-251"><a href="#L-251"><span class="linenos">251</span></a>        <span class="sd">&quot;&quot;&quot;Switch to a tab in browser, zero indexed.&quot;&quot;&quot;</span>
</span><span id="L-252"><a href="#L-252"><span class="linenos">252</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">switch_to</span><span class="o">.</span><span class="n">window</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">window_handles</span><span class="p">[</span><span class="n">tab_index</span><span class="p">])</span>
</span><span id="L-253"><a href="#L-253"><span class="linenos">253</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tab_index</span> <span class="o">=</span> <span class="n">tab_index</span>
</span><span id="L-254"><a href="#L-254"><span class="linenos">254</span></a>
</span><span id="L-255"><a href="#L-255"><span class="linenos">255</span></a>    <span class="k">def</span> <span class="nf">get_num_tabs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="L-256"><a href="#L-256"><span class="linenos">256</span></a>        <span class="sd">&quot;&quot;&quot;Returns number of tabs open.&quot;&quot;&quot;</span>
</span><span id="L-257"><a href="#L-257"><span class="linenos">257</span></a>        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">window_handles</span><span class="p">)</span>
</span><span id="L-258"><a href="#L-258"><span class="linenos">258</span></a>
</span><span id="L-259"><a href="#L-259"><span class="linenos">259</span></a>    <span class="k">def</span> <span class="nf">close_tab</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tab_index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">):</span>
</span><span id="L-260"><a href="#L-260"><span class="linenos">260</span></a>        <span class="sd">&quot;&quot;&quot;Close specified tab and</span>
</span><span id="L-261"><a href="#L-261"><span class="linenos">261</span></a><span class="sd">        switches to tab index 0.&quot;&quot;&quot;</span>
</span><span id="L-262"><a href="#L-262"><span class="linenos">262</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">switch_to_tab</span><span class="p">(</span><span class="n">tab_index</span><span class="p">)</span>
</span><span id="L-263"><a href="#L-263"><span class="linenos">263</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="L-264"><a href="#L-264"><span class="linenos">264</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">switch_to_tab</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos">265</span></a>
</span><span id="L-266"><a href="#L-266"><span class="linenos">266</span></a>    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="L-267"><a href="#L-267"><span class="linenos">267</span></a>        <span class="sd">&quot;&quot;&quot;Requests webpage at given url and rotates userAgent if necessary.&quot;&quot;&quot;</span>
</span><span id="L-268"><a href="#L-268"><span class="linenos">268</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser_open</span><span class="p">:</span>
</span><span id="L-269"><a href="#L-269"><span class="linenos">269</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">open_browser</span><span class="p">()</span>
</span><span id="L-270"><a href="#L-270"><span class="linenos">270</span></a>        <span class="k">if</span> <span class="p">(</span>
</span><span id="L-271"><a href="#L-271"><span class="linenos">271</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">randomize_user_agent</span>
</span><span id="L-272"><a href="#L-272"><span class="linenos">272</span></a>            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_agent_rotation_period</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</span><span id="L-273"><a href="#L-273"><span class="linenos">273</span></a>            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">rotation_timer</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="L-274"><a href="#L-274"><span class="linenos">274</span></a>            <span class="o">&gt;</span> <span class="p">(</span><span class="mi">60</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_agent_rotation_period</span><span class="p">)</span>
</span><span id="L-275"><a href="#L-275"><span class="linenos">275</span></a>        <span class="p">):</span>
</span><span id="L-276"><a href="#L-276"><span class="linenos">276</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">rotation_timer</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</span><span id="L-277"><a href="#L-277"><span class="linenos">277</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">close_browser</span><span class="p">()</span>
</span><span id="L-278"><a href="#L-278"><span class="linenos">278</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">open_browser</span><span class="p">()</span>
</span><span id="L-279"><a href="#L-279"><span class="linenos">279</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</span><span id="L-280"><a href="#L-280"><span class="linenos">280</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="s2">&quot;Object.defineProperty(navigator, &#39;webdriver&#39;, {get: () =&gt; false})&quot;</span><span class="p">)</span>
</span><span id="L-281"><a href="#L-281"><span class="linenos">281</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arrival_wait</span><span class="p">)</span>
</span><span id="L-282"><a href="#L-282"><span class="linenos">282</span></a>
</span><span id="L-283"><a href="#L-283"><span class="linenos">283</span></a>    <span class="k">def</span> <span class="nf">get_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BeautifulSoup</span><span class="p">:</span>
</span><span id="L-284"><a href="#L-284"><span class="linenos">284</span></a>        <span class="sd">&quot;&quot;&quot;Returns a BeautifulSoup object</span>
</span><span id="L-285"><a href="#L-285"><span class="linenos">285</span></a><span class="sd">        of the current page source.&quot;&quot;&quot;</span>
</span><span id="L-286"><a href="#L-286"><span class="linenos">286</span></a>        <span class="k">return</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">page_source</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>
</span><span id="L-287"><a href="#L-287"><span class="linenos">287</span></a>
</span><span id="L-288"><a href="#L-288"><span class="linenos">288</span></a>    <span class="k">def</span> <span class="nf">current_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-289"><a href="#L-289"><span class="linenos">289</span></a>        <span class="sd">&quot;&quot;&quot;Returns current url of active tab.&quot;&quot;&quot;</span>
</span><span id="L-290"><a href="#L-290"><span class="linenos">290</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">current_url</span>
</span><span id="L-291"><a href="#L-291"><span class="linenos">291</span></a>
</span><span id="L-292"><a href="#L-292"><span class="linenos">292</span></a>    <span class="k">def</span> <span class="nf">delete_cookies</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-293"><a href="#L-293"><span class="linenos">293</span></a>        <span class="sd">&quot;&quot;&quot;Delete all cookies for</span>
</span><span id="L-294"><a href="#L-294"><span class="linenos">294</span></a><span class="sd">        this browser instance.&quot;&quot;&quot;</span>
</span><span id="L-295"><a href="#L-295"><span class="linenos">295</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">delete_all_cookies</span><span class="p">()</span>
</span><span id="L-296"><a href="#L-296"><span class="linenos">296</span></a>
</span><span id="L-297"><a href="#L-297"><span class="linenos">297</span></a>    <span class="k">def</span> <span class="nf">turbo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">engage</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
</span><span id="L-298"><a href="#L-298"><span class="linenos">298</span></a>        <span class="sd">&quot;&quot;&quot;When engaged, strings will be sent</span>
</span><span id="L-299"><a href="#L-299"><span class="linenos">299</span></a><span class="sd">        to elements all at once and there will be</span>
</span><span id="L-300"><a href="#L-300"><span class="linenos">300</span></a><span class="sd">        no waiting after actions.</span>
</span><span id="L-301"><a href="#L-301"><span class="linenos">301</span></a>
</span><span id="L-302"><a href="#L-302"><span class="linenos">302</span></a><span class="sd">        When disengaged, strings will be sent to elements</span>
</span><span id="L-303"><a href="#L-303"><span class="linenos">303</span></a><span class="sd">        &#39;one key at a time&#39; with randomized amounts of</span>
</span><span id="L-304"><a href="#L-304"><span class="linenos">304</span></a><span class="sd">        time between successive keys and after actions.&quot;&quot;&quot;</span>
</span><span id="L-305"><a href="#L-305"><span class="linenos">305</span></a>        <span class="k">if</span> <span class="n">engage</span><span class="p">:</span>
</span><span id="L-306"><a href="#L-306"><span class="linenos">306</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">after_key_wait</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="L-307"><a href="#L-307"><span class="linenos">307</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">after_field_wait</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="L-308"><a href="#L-308"><span class="linenos">308</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">after_click_wait</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="L-309"><a href="#L-309"><span class="linenos">309</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">arrival_wait</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="L-310"><a href="#L-310"><span class="linenos">310</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">one_key_at_a_time</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-311"><a href="#L-311"><span class="linenos">311</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">turbo_engaged</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-312"><a href="#L-312"><span class="linenos">312</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-313"><a href="#L-313"><span class="linenos">313</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">after_key_wait</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
</span><span id="L-314"><a href="#L-314"><span class="linenos">314</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">after_field_wait</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="L-315"><a href="#L-315"><span class="linenos">315</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">after_click_wait</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">)</span>
</span><span id="L-316"><a href="#L-316"><span class="linenos">316</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">arrival_wait</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</span><span id="L-317"><a href="#L-317"><span class="linenos">317</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">one_key_at_a_time</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-318"><a href="#L-318"><span class="linenos">318</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">turbo_engaged</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-319"><a href="#L-319"><span class="linenos">319</span></a>
</span><span id="L-320"><a href="#L-320"><span class="linenos">320</span></a>    <span class="k">def</span> <span class="nf">chill</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">min_max</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]):</span>
</span><span id="L-321"><a href="#L-321"><span class="linenos">321</span></a>        <span class="sd">&quot;&quot;&quot;Sleeps a random amount</span>
</span><span id="L-322"><a href="#L-322"><span class="linenos">322</span></a><span class="sd">        between min_max[0] and min_max[1].&quot;&quot;&quot;</span>
</span><span id="L-323"><a href="#L-323"><span class="linenos">323</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">min_max</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">min_max</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
</span><span id="L-324"><a href="#L-324"><span class="linenos">324</span></a>
</span><span id="L-325"><a href="#L-325"><span class="linenos">325</span></a>    <span class="k">def</span> <span class="nf">script</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">script</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
</span><span id="L-326"><a href="#L-326"><span class="linenos">326</span></a>        <span class="sd">&quot;&quot;&quot;Execute javascript code and returns result.&quot;&quot;&quot;</span>
</span><span id="L-327"><a href="#L-327"><span class="linenos">327</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">execute_script</span><span class="p">(</span><span class="n">script</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
</span><span id="L-328"><a href="#L-328"><span class="linenos">328</span></a>
</span><span id="L-329"><a href="#L-329"><span class="linenos">329</span></a>    <span class="k">def</span> <span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="L-330"><a href="#L-330"><span class="linenos">330</span></a>        <span class="sd">&quot;&quot;&quot;Removes element from DOM.&quot;&quot;&quot;</span>
</span><span id="L-331"><a href="#L-331"><span class="linenos">331</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="s2">&quot;arguments[0].remove();&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">locator</span><span class="p">))</span>
</span><span id="L-332"><a href="#L-332"><span class="linenos">332</span></a>
</span><span id="L-333"><a href="#L-333"><span class="linenos">333</span></a>    <span class="k">def</span> <span class="nf">get_length</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="L-334"><a href="#L-334"><span class="linenos">334</span></a>        <span class="sd">&quot;&quot;&quot;Returns number of child elements for a given element.&quot;&quot;&quot;</span>
</span><span id="L-335"><a href="#L-335"><span class="linenos">335</span></a>        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="s2">&quot;return arguments[0].length;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">locator</span><span class="p">)))</span>
</span><span id="L-336"><a href="#L-336"><span class="linenos">336</span></a>
</span><span id="L-337"><a href="#L-337"><span class="linenos">337</span></a>    <span class="k">def</span> <span class="nf">find</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WebElement</span><span class="p">:</span>
</span><span id="L-338"><a href="#L-338"><span class="linenos">338</span></a>        <span class="sd">&quot;&quot;&quot;Finds and returns a WebElement.&quot;&quot;&quot;</span>
</span><span id="L-339"><a href="#L-339"><span class="linenos">339</span></a>        <span class="k">match</span> <span class="bp">self</span><span class="o">.</span><span class="n">locator_method</span><span class="p">:</span>
</span><span id="L-340"><a href="#L-340"><span class="linenos">340</span></a>            <span class="k">case</span> <span class="s2">&quot;xpath&quot;</span><span class="p">:</span>
</span><span id="L-341"><a href="#L-341"><span class="linenos">341</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">XPATH</span><span class="p">,</span> <span class="n">locator</span><span class="p">)</span>
</span><span id="L-342"><a href="#L-342"><span class="linenos">342</span></a>            <span class="k">case</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span>
</span><span id="L-343"><a href="#L-343"><span class="linenos">343</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">ID</span><span class="p">,</span> <span class="n">locator</span><span class="p">)</span>
</span><span id="L-344"><a href="#L-344"><span class="linenos">344</span></a>            <span class="k">case</span> <span class="s2">&quot;className&quot;</span><span class="p">:</span>
</span><span id="L-345"><a href="#L-345"><span class="linenos">345</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">CLASS_NAME</span><span class="p">,</span> <span class="n">locator</span><span class="p">)</span>
</span><span id="L-346"><a href="#L-346"><span class="linenos">346</span></a>            <span class="k">case</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span>
</span><span id="L-347"><a href="#L-347"><span class="linenos">347</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span> <span class="n">locator</span><span class="p">)</span>
</span><span id="L-348"><a href="#L-348"><span class="linenos">348</span></a>            <span class="k">case</span> <span class="s2">&quot;cssSelector&quot;</span><span class="p">:</span>
</span><span id="L-349"><a href="#L-349"><span class="linenos">349</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">CSS_SELECTOR</span><span class="p">,</span> <span class="n">locator</span><span class="p">)</span>
</span><span id="L-350"><a href="#L-350"><span class="linenos">350</span></a>
</span><span id="L-351"><a href="#L-351"><span class="linenos">351</span></a>    <span class="k">def</span> <span class="nf">find_children</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">WebElement</span><span class="p">]:</span>
</span><span id="L-352"><a href="#L-352"><span class="linenos">352</span></a>        <span class="sd">&quot;&quot;&quot;Returns a list of child WebElements</span>
</span><span id="L-353"><a href="#L-353"><span class="linenos">353</span></a><span class="sd">        for given locator arg.&quot;&quot;&quot;</span>
</span><span id="L-354"><a href="#L-354"><span class="linenos">354</span></a>        <span class="n">element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">locator</span><span class="p">)</span>
</span><span id="L-355"><a href="#L-355"><span class="linenos">355</span></a>        <span class="k">return</span> <span class="n">element</span><span class="o">.</span><span class="n">find_elements</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;./*&quot;</span><span class="p">)</span>
</span><span id="L-356"><a href="#L-356"><span class="linenos">356</span></a>
</span><span id="L-357"><a href="#L-357"><span class="linenos">357</span></a>    <span class="k">def</span> <span class="nf">scroll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">fraction</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="L-358"><a href="#L-358"><span class="linenos">358</span></a>        <span class="sd">&quot;&quot;&quot;Scroll web page.</span>
</span><span id="L-359"><a href="#L-359"><span class="linenos">359</span></a><span class="sd">        :param amount: The number of lines to scroll if not None.</span>
</span><span id="L-360"><a href="#L-360"><span class="linenos">360</span></a>
</span><span id="L-361"><a href="#L-361"><span class="linenos">361</span></a><span class="sd">        :param fraction: The amount between 0.0 and 1.0</span>
</span><span id="L-362"><a href="#L-362"><span class="linenos">362</span></a><span class="sd">        of the page height to scroll.</span>
</span><span id="L-363"><a href="#L-363"><span class="linenos">363</span></a>
</span><span id="L-364"><a href="#L-364"><span class="linenos">364</span></a><span class="sd">        If values are provided for both arguments,</span>
</span><span id="L-365"><a href="#L-365"><span class="linenos">365</span></a><span class="sd">        amount will be used.</span>
</span><span id="L-366"><a href="#L-366"><span class="linenos">366</span></a>
</span><span id="L-367"><a href="#L-367"><span class="linenos">367</span></a><span class="sd">        If values are provided for neither argument,</span>
</span><span id="L-368"><a href="#L-368"><span class="linenos">368</span></a><span class="sd">        the entire page length will be scrolled.</span>
</span><span id="L-369"><a href="#L-369"><span class="linenos">369</span></a>
</span><span id="L-370"><a href="#L-370"><span class="linenos">370</span></a><span class="sd">        Scrolls one line at a time if self.turbo is False.&quot;&quot;&quot;</span>
</span><span id="L-371"><a href="#L-371"><span class="linenos">371</span></a>        <span class="k">if</span> <span class="n">amount</span><span class="p">:</span>
</span><span id="L-372"><a href="#L-372"><span class="linenos">372</span></a>            <span class="n">amount_to_scroll</span> <span class="o">=</span> <span class="n">amount</span>
</span><span id="L-373"><a href="#L-373"><span class="linenos">373</span></a>        <span class="k">elif</span> <span class="n">fraction</span><span class="p">:</span>
</span><span id="L-374"><a href="#L-374"><span class="linenos">374</span></a>            <span class="n">amount_to_scroll</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span>
</span><span id="L-375"><a href="#L-375"><span class="linenos">375</span></a>                <span class="n">fraction</span>
</span><span id="L-376"><a href="#L-376"><span class="linenos">376</span></a>                <span class="o">*</span> <span class="p">(</span>
</span><span id="L-377"><a href="#L-377"><span class="linenos">377</span></a>                    <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="s2">&quot;return document.body.scrollHeight;&quot;</span><span class="p">))</span>
</span><span id="L-378"><a href="#L-378"><span class="linenos">378</span></a>                    <span class="o">-</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="s2">&quot;return window.pageYOffset;&quot;</span><span class="p">))</span>
</span><span id="L-379"><a href="#L-379"><span class="linenos">379</span></a>                <span class="p">)</span>
</span><span id="L-380"><a href="#L-380"><span class="linenos">380</span></a>            <span class="p">)</span>
</span><span id="L-381"><a href="#L-381"><span class="linenos">381</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-382"><a href="#L-382"><span class="linenos">382</span></a>            <span class="n">amount_to_scroll</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="s2">&quot;return document.body.scrollHeight;&quot;</span><span class="p">))</span>
</span><span id="L-383"><a href="#L-383"><span class="linenos">383</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">turbo_engaged</span><span class="p">:</span>
</span><span id="L-384"><a href="#L-384"><span class="linenos">384</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="s2">&quot;window.scrollBy(0,arguments[0]);&quot;</span><span class="p">,</span> <span class="n">amount_to_scroll</span><span class="p">)</span>
</span><span id="L-385"><a href="#L-385"><span class="linenos">385</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-386"><a href="#L-386"><span class="linenos">386</span></a>            <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">amount_to_scroll</span><span class="p">)):</span>
</span><span id="L-387"><a href="#L-387"><span class="linenos">387</span></a>                <span class="k">if</span> <span class="n">amount_to_scroll</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-388"><a href="#L-388"><span class="linenos">388</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="s2">&quot;window.scrollBy(0,1);&quot;</span><span class="p">)</span>
</span><span id="L-389"><a href="#L-389"><span class="linenos">389</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="L-390"><a href="#L-390"><span class="linenos">390</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="s2">&quot;window.scrollBy(0,-1);&quot;</span><span class="p">)</span>
</span><span id="L-391"><a href="#L-391"><span class="linenos">391</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_click_wait</span><span class="p">)</span>
</span><span id="L-392"><a href="#L-392"><span class="linenos">392</span></a>
</span><span id="L-393"><a href="#L-393"><span class="linenos">393</span></a>    <span class="k">def</span> <span class="nf">scroll_into_view</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WebElement</span><span class="p">:</span>
</span><span id="L-394"><a href="#L-394"><span class="linenos">394</span></a>        <span class="sd">&quot;&quot;&quot;Scrolls to a given element and returns the element.&quot;&quot;&quot;</span>
</span><span id="L-395"><a href="#L-395"><span class="linenos">395</span></a>        <span class="n">element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">locator</span><span class="p">)</span>
</span><span id="L-396"><a href="#L-396"><span class="linenos">396</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="s2">&quot;arguments[0].scroll_into_view();&quot;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
</span><span id="L-397"><a href="#L-397"><span class="linenos">397</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_click_wait</span><span class="p">)</span>
</span><span id="L-398"><a href="#L-398"><span class="linenos">398</span></a>        <span class="k">return</span> <span class="n">element</span>
</span><span id="L-399"><a href="#L-399"><span class="linenos">399</span></a>
</span><span id="L-400"><a href="#L-400"><span class="linenos">400</span></a>    <span class="k">def</span> <span class="nf">text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-401"><a href="#L-401"><span class="linenos">401</span></a>        <span class="sd">&quot;&quot;&quot;Returns text of WebElement.&quot;&quot;&quot;</span>
</span><span id="L-402"><a href="#L-402"><span class="linenos">402</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">locator</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
</span><span id="L-403"><a href="#L-403"><span class="linenos">403</span></a>
</span><span id="L-404"><a href="#L-404"><span class="linenos">404</span></a>    <span class="k">def</span> <span class="nf">click</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WebElement</span><span class="p">:</span>
</span><span id="L-405"><a href="#L-405"><span class="linenos">405</span></a>        <span class="sd">&quot;&quot;&quot;Clicks on and returns WebElement.&quot;&quot;&quot;</span>
</span><span id="L-406"><a href="#L-406"><span class="linenos">406</span></a>        <span class="n">element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">locator</span><span class="p">)</span>
</span><span id="L-407"><a href="#L-407"><span class="linenos">407</span></a>        <span class="n">element</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
</span><span id="L-408"><a href="#L-408"><span class="linenos">408</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_click_wait</span><span class="p">)</span>
</span><span id="L-409"><a href="#L-409"><span class="linenos">409</span></a>        <span class="k">return</span> <span class="n">element</span>
</span><span id="L-410"><a href="#L-410"><span class="linenos">410</span></a>
</span><span id="L-411"><a href="#L-411"><span class="linenos">411</span></a>    <span class="k">def</span> <span class="nf">clear</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WebElement</span><span class="p">:</span>
</span><span id="L-412"><a href="#L-412"><span class="linenos">412</span></a>        <span class="sd">&quot;&quot;&quot;Clears content of WebElement if able</span>
</span><span id="L-413"><a href="#L-413"><span class="linenos">413</span></a><span class="sd">        and then returns WebElement.&quot;&quot;&quot;</span>
</span><span id="L-414"><a href="#L-414"><span class="linenos">414</span></a>        <span class="n">element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">locator</span><span class="p">)</span>
</span><span id="L-415"><a href="#L-415"><span class="linenos">415</span></a>        <span class="n">element</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="L-416"><a href="#L-416"><span class="linenos">416</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_click_wait</span><span class="p">)</span>
</span><span id="L-417"><a href="#L-417"><span class="linenos">417</span></a>        <span class="k">return</span> <span class="n">element</span>
</span><span id="L-418"><a href="#L-418"><span class="linenos">418</span></a>
</span><span id="L-419"><a href="#L-419"><span class="linenos">419</span></a>    <span class="k">def</span> <span class="nf">switch_to_iframe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="L-420"><a href="#L-420"><span class="linenos">420</span></a>        <span class="sd">&quot;&quot;&quot;Switch to an iframe from given locator.&quot;&quot;&quot;</span>
</span><span id="L-421"><a href="#L-421"><span class="linenos">421</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">switch_to</span><span class="o">.</span><span class="n">frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">locator</span><span class="p">))</span>
</span><span id="L-422"><a href="#L-422"><span class="linenos">422</span></a>
</span><span id="L-423"><a href="#L-423"><span class="linenos">423</span></a>    <span class="k">def</span> <span class="nf">switch_to_parent_frame</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-424"><a href="#L-424"><span class="linenos">424</span></a>        <span class="sd">&quot;&quot;&quot;Move up a frame level from current frame.&quot;&quot;&quot;</span>
</span><span id="L-425"><a href="#L-425"><span class="linenos">425</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">switch_to</span><span class="o">.</span><span class="n">parent_frame</span><span class="p">()</span>
</span><span id="L-426"><a href="#L-426"><span class="linenos">426</span></a>
</span><span id="L-427"><a href="#L-427"><span class="linenos">427</span></a>    <span class="k">def</span> <span class="nf">select</span><span class="p">(</span>
</span><span id="L-428"><a href="#L-428"><span class="linenos">428</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">choice</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">tuple</span>
</span><span id="L-429"><a href="#L-429"><span class="linenos">429</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WebElement</span><span class="p">:</span>
</span><span id="L-430"><a href="#L-430"><span class="linenos">430</span></a>        <span class="sd">&quot;&quot;&quot;Select a choice from Select element.</span>
</span><span id="L-431"><a href="#L-431"><span class="linenos">431</span></a><span class="sd">        Returns the Select element from the locator string,</span>
</span><span id="L-432"><a href="#L-432"><span class="linenos">432</span></a><span class="sd">        not the option element that is selected.</span>
</span><span id="L-433"><a href="#L-433"><span class="linenos">433</span></a>
</span><span id="L-434"><a href="#L-434"><span class="linenos">434</span></a><span class="sd">        :param method: Can be &#39;value&#39; or &#39;index&#39;</span>
</span><span id="L-435"><a href="#L-435"><span class="linenos">435</span></a>
</span><span id="L-436"><a href="#L-436"><span class="linenos">436</span></a><span class="sd">        :param choice: The option to select.</span>
</span><span id="L-437"><a href="#L-437"><span class="linenos">437</span></a>
</span><span id="L-438"><a href="#L-438"><span class="linenos">438</span></a><span class="sd">        If method is &#39;value&#39;, then choice should be</span>
</span><span id="L-439"><a href="#L-439"><span class="linenos">439</span></a><span class="sd">        the html &#39;value&#39; attribute of the desired option.</span>
</span><span id="L-440"><a href="#L-440"><span class="linenos">440</span></a>
</span><span id="L-441"><a href="#L-441"><span class="linenos">441</span></a><span class="sd">        If method is &#39;index&#39;, choice can either be a single</span>
</span><span id="L-442"><a href="#L-442"><span class="linenos">442</span></a><span class="sd">        int for the desired option or it can be a two-tuple.</span>
</span><span id="L-443"><a href="#L-443"><span class="linenos">443</span></a><span class="sd">        If the tuple is provided, a random option between the</span>
</span><span id="L-444"><a href="#L-444"><span class="linenos">444</span></a><span class="sd">        two indicies (inclusive) will be selected.&quot;&quot;&quot;</span>
</span><span id="L-445"><a href="#L-445"><span class="linenos">445</span></a>        <span class="n">element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="n">locator</span><span class="p">)</span>
</span><span id="L-446"><a href="#L-446"><span class="linenos">446</span></a>        <span class="k">match</span> <span class="n">method</span><span class="p">:</span>
</span><span id="L-447"><a href="#L-447"><span class="linenos">447</span></a>            <span class="k">case</span> <span class="s2">&quot;value&quot;</span><span class="p">:</span>
</span><span id="L-448"><a href="#L-448"><span class="linenos">448</span></a>                <span class="n">Select</span><span class="p">(</span><span class="n">element</span><span class="p">)</span><span class="o">.</span><span class="n">select_by_value</span><span class="p">(</span><span class="n">choice</span><span class="p">)</span>
</span><span id="L-449"><a href="#L-449"><span class="linenos">449</span></a>            <span class="k">case</span> <span class="s2">&quot;index&quot;</span><span class="p">:</span>
</span><span id="L-450"><a href="#L-450"><span class="linenos">450</span></a>                <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">choice</span><span class="p">)</span> <span class="o">==</span> <span class="nb">tuple</span><span class="p">:</span>
</span><span id="L-451"><a href="#L-451"><span class="linenos">451</span></a>                    <span class="n">choice</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">choice</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">choice</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="L-452"><a href="#L-452"><span class="linenos">452</span></a>                <span class="n">Select</span><span class="p">(</span><span class="n">element</span><span class="p">)</span><span class="o">.</span><span class="n">select_by_index</span><span class="p">(</span><span class="n">choice</span><span class="p">)</span>
</span><span id="L-453"><a href="#L-453"><span class="linenos">453</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_field_wait</span><span class="p">)</span>
</span><span id="L-454"><a href="#L-454"><span class="linenos">454</span></a>        <span class="k">return</span> <span class="n">element</span>
</span><span id="L-455"><a href="#L-455"><span class="linenos">455</span></a>
</span><span id="L-456"><a href="#L-456"><span class="linenos">456</span></a>    <span class="k">def</span> <span class="nf">click_elements</span><span class="p">(</span>
</span><span id="L-457"><a href="#L-457"><span class="linenos">457</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">locators</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">max_selections</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">min_selections</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="L-458"><a href="#L-458"><span class="linenos">458</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WebElement</span><span class="p">:</span>
</span><span id="L-459"><a href="#L-459"><span class="linenos">459</span></a>        <span class="sd">&quot;&quot;&quot;Click a random number of WebElements</span>
</span><span id="L-460"><a href="#L-460"><span class="linenos">460</span></a><span class="sd">        and return the last WebElement clicked.</span>
</span><span id="L-461"><a href="#L-461"><span class="linenos">461</span></a>
</span><span id="L-462"><a href="#L-462"><span class="linenos">462</span></a><span class="sd">        :param locators: A list of element locators to choose from.</span>
</span><span id="L-463"><a href="#L-463"><span class="linenos">463</span></a>
</span><span id="L-464"><a href="#L-464"><span class="linenos">464</span></a><span class="sd">        :param max_selections: The maximum number of elements to click.</span>
</span><span id="L-465"><a href="#L-465"><span class="linenos">465</span></a><span class="sd">        If None, the maximum will be the length of the locators list.</span>
</span><span id="L-466"><a href="#L-466"><span class="linenos">466</span></a>
</span><span id="L-467"><a href="#L-467"><span class="linenos">467</span></a><span class="sd">        :param min_selections: The minimum number of elements to click.</span>
</span><span id="L-468"><a href="#L-468"><span class="linenos">468</span></a>
</span><span id="L-469"><a href="#L-469"><span class="linenos">469</span></a><span class="sd">        e.g. self.click_elements([xpath1, xpath2, xpath3, xpath4], max_selections=3)</span>
</span><span id="L-470"><a href="#L-470"><span class="linenos">470</span></a><span class="sd">        will click between 1 and 3 random elements from the list.</span>
</span><span id="L-471"><a href="#L-471"><span class="linenos">471</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-472"><a href="#L-472"><span class="linenos">472</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">max_selections</span><span class="p">:</span>
</span><span id="L-473"><a href="#L-473"><span class="linenos">473</span></a>            <span class="n">max_selections</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">locators</span><span class="p">)</span>
</span><span id="L-474"><a href="#L-474"><span class="linenos">474</span></a>        <span class="k">for</span> <span class="n">option</span> <span class="ow">in</span> <span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span>
</span><span id="L-475"><a href="#L-475"><span class="linenos">475</span></a>            <span class="n">locators</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">min_selections</span><span class="p">,</span> <span class="n">max_selections</span><span class="p">)</span>
</span><span id="L-476"><a href="#L-476"><span class="linenos">476</span></a>        <span class="p">):</span>
</span><span id="L-477"><a href="#L-477"><span class="linenos">477</span></a>            <span class="n">element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
</span><span id="L-478"><a href="#L-478"><span class="linenos">478</span></a>        <span class="k">return</span> <span class="n">element</span>
</span><span id="L-479"><a href="#L-479"><span class="linenos">479</span></a>
</span><span id="L-480"><a href="#L-480"><span class="linenos">480</span></a>    <span class="k">def</span> <span class="nf">get_click_list</span><span class="p">(</span>
</span><span id="L-481"><a href="#L-481"><span class="linenos">481</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">num_options</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">max_choices</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">min_choices</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="L-482"><a href="#L-482"><span class="linenos">482</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="L-483"><a href="#L-483"><span class="linenos">483</span></a>        <span class="sd">&quot;&quot;&quot;Similar to self.click_elements(), but for use with the self.fill_next() method.</span>
</span><span id="L-484"><a href="#L-484"><span class="linenos">484</span></a>
</span><span id="L-485"><a href="#L-485"><span class="linenos">485</span></a><span class="sd">        Creates a list of length &#39;num_options&#39; where every element is &#39;skip&#39;.</span>
</span><span id="L-486"><a href="#L-486"><span class="linenos">486</span></a>
</span><span id="L-487"><a href="#L-487"><span class="linenos">487</span></a><span class="sd">        A random number of elements in the list between &#39;min_choices&#39; and &#39;max_choices&#39; are</span>
</span><span id="L-488"><a href="#L-488"><span class="linenos">488</span></a><span class="sd">        replaced with &#39;keys.SPACE&#39; (interpreted as a click by almost all web forms).&quot;&quot;&quot;</span>
</span><span id="L-489"><a href="#L-489"><span class="linenos">489</span></a>        <span class="n">click_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;skip&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">num_options</span>
</span><span id="L-490"><a href="#L-490"><span class="linenos">490</span></a>        <span class="n">selected_indexes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-491"><a href="#L-491"><span class="linenos">491</span></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">min_choices</span><span class="p">,</span> <span class="n">max_choices</span><span class="p">)):</span>
</span><span id="L-492"><a href="#L-492"><span class="linenos">492</span></a>            <span class="n">index</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">num_options</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="L-493"><a href="#L-493"><span class="linenos">493</span></a>            <span class="k">while</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">selected_indexes</span><span class="p">:</span>
</span><span id="L-494"><a href="#L-494"><span class="linenos">494</span></a>                <span class="n">index</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">num_options</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="L-495"><a href="#L-495"><span class="linenos">495</span></a>            <span class="n">selected_indexes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
</span><span id="L-496"><a href="#L-496"><span class="linenos">496</span></a>            <span class="n">click_list</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">SPACE</span>
</span><span id="L-497"><a href="#L-497"><span class="linenos">497</span></a>        <span class="k">return</span> <span class="n">click_list</span>
</span><span id="L-498"><a href="#L-498"><span class="linenos">498</span></a>
</span><span id="L-499"><a href="#L-499"><span class="linenos">499</span></a>    <span class="k">def</span> <span class="nf">send_keys</span><span class="p">(</span>
</span><span id="L-500"><a href="#L-500"><span class="linenos">500</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-501"><a href="#L-501"><span class="linenos">501</span></a>        <span class="n">locator</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-502"><a href="#L-502"><span class="linenos">502</span></a>        <span class="n">data</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-503"><a href="#L-503"><span class="linenos">503</span></a>        <span class="n">click_first</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="L-504"><a href="#L-504"><span class="linenos">504</span></a>        <span class="n">clear_first</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-505"><a href="#L-505"><span class="linenos">505</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WebElement</span><span class="p">:</span>
</span><span id="L-506"><a href="#L-506"><span class="linenos">506</span></a>        <span class="sd">&quot;&quot;&quot;Types data into element and returns the element.</span>
</span><span id="L-507"><a href="#L-507"><span class="linenos">507</span></a>
</span><span id="L-508"><a href="#L-508"><span class="linenos">508</span></a><span class="sd">        :param data: The string to send to the element.</span>
</span><span id="L-509"><a href="#L-509"><span class="linenos">509</span></a>
</span><span id="L-510"><a href="#L-510"><span class="linenos">510</span></a><span class="sd">        :param click_first: If True, the element is clicked on</span>
</span><span id="L-511"><a href="#L-511"><span class="linenos">511</span></a><span class="sd">        before the data is sent.</span>
</span><span id="L-512"><a href="#L-512"><span class="linenos">512</span></a>
</span><span id="L-513"><a href="#L-513"><span class="linenos">513</span></a><span class="sd">        :param clear_first: If True, the current text of the element</span>
</span><span id="L-514"><a href="#L-514"><span class="linenos">514</span></a><span class="sd">        is cleared before the data is sent.&quot;&quot;&quot;</span>
</span><span id="L-515"><a href="#L-515"><span class="linenos">515</span></a>        <span class="n">element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="n">locator</span><span class="p">)</span> <span class="k">if</span> <span class="n">click_first</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">locator</span><span class="p">)</span>
</span><span id="L-516"><a href="#L-516"><span class="linenos">516</span></a>        <span class="k">if</span> <span class="n">clear_first</span><span class="p">:</span>
</span><span id="L-517"><a href="#L-517"><span class="linenos">517</span></a>            <span class="n">element</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="L-518"><a href="#L-518"><span class="linenos">518</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_click_wait</span><span class="p">)</span>
</span><span id="L-519"><a href="#L-519"><span class="linenos">519</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">one_key_at_a_time</span><span class="p">:</span>
</span><span id="L-520"><a href="#L-520"><span class="linenos">520</span></a>            <span class="k">for</span> <span class="n">ch</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
</span><span id="L-521"><a href="#L-521"><span class="linenos">521</span></a>                <span class="n">element</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">ch</span><span class="p">)</span>
</span><span id="L-522"><a href="#L-522"><span class="linenos">522</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_key_wait</span><span class="p">)</span>
</span><span id="L-523"><a href="#L-523"><span class="linenos">523</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-524"><a href="#L-524"><span class="linenos">524</span></a>            <span class="n">element</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
</span><span id="L-525"><a href="#L-525"><span class="linenos">525</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_field_wait</span><span class="p">)</span>
</span><span id="L-526"><a href="#L-526"><span class="linenos">526</span></a>        <span class="k">return</span> <span class="n">element</span>
</span><span id="L-527"><a href="#L-527"><span class="linenos">527</span></a>
</span><span id="L-528"><a href="#L-528"><span class="linenos">528</span></a>    <span class="k">def</span> <span class="nf">fill_next</span><span class="p">(</span>
</span><span id="L-529"><a href="#L-529"><span class="linenos">529</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">],</span> <span class="n">start_element</span><span class="p">:</span> <span class="n">WebElement</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-530"><a href="#L-530"><span class="linenos">530</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WebElement</span><span class="p">:</span>
</span><span id="L-531"><a href="#L-531"><span class="linenos">531</span></a>        <span class="sd">&quot;&quot;&quot;Fills a form by tabbing from the current WebElement</span>
</span><span id="L-532"><a href="#L-532"><span class="linenos">532</span></a><span class="sd">        to the next one and using the corresponding item in data.</span>
</span><span id="L-533"><a href="#L-533"><span class="linenos">533</span></a><span class="sd">        Returns the last WebElement.</span>
</span><span id="L-534"><a href="#L-534"><span class="linenos">534</span></a>
</span><span id="L-535"><a href="#L-535"><span class="linenos">535</span></a><span class="sd">        :param data: A list of form data. If an item is a string (except for &#39;skip&#39;)</span>
</span><span id="L-536"><a href="#L-536"><span class="linenos">536</span></a><span class="sd">        it will be typed into the current WebElement.</span>
</span><span id="L-537"><a href="#L-537"><span class="linenos">537</span></a>
</span><span id="L-538"><a href="#L-538"><span class="linenos">538</span></a><span class="sd">        An item in data can be a two-tuple of the form</span>
</span><span id="L-539"><a href="#L-539"><span class="linenos">539</span></a><span class="sd">        (&#39;downArrow&#39;, numberOfPresses:int|tuple[int, int]).</span>
</span><span id="L-540"><a href="#L-540"><span class="linenos">540</span></a>
</span><span id="L-541"><a href="#L-541"><span class="linenos">541</span></a><span class="sd">        If numberOfPresses is a single int, Keys.ARROW_DOWN will be sent</span>
</span><span id="L-542"><a href="#L-542"><span class="linenos">542</span></a><span class="sd">        that many times to the WebElement.</span>
</span><span id="L-543"><a href="#L-543"><span class="linenos">543</span></a>
</span><span id="L-544"><a href="#L-544"><span class="linenos">544</span></a><span class="sd">        If numberOfPresses is a tuple, Keys.ARROW_DOWN will be sent a random</span>
</span><span id="L-545"><a href="#L-545"><span class="linenos">545</span></a><span class="sd">        number of times between numberOfPresses[0] and numberOfPresses[1] inclusive.</span>
</span><span id="L-546"><a href="#L-546"><span class="linenos">546</span></a><span class="sd">        This is typically for use with Select elements.</span>
</span><span id="L-547"><a href="#L-547"><span class="linenos">547</span></a>
</span><span id="L-548"><a href="#L-548"><span class="linenos">548</span></a><span class="sd">        An item in data can also be &#39;skip&#39;, which will perform no action on the current</span>
</span><span id="L-549"><a href="#L-549"><span class="linenos">549</span></a><span class="sd">        WebElement and will continue to the next one.</span>
</span><span id="L-550"><a href="#L-550"><span class="linenos">550</span></a>
</span><span id="L-551"><a href="#L-551"><span class="linenos">551</span></a><span class="sd">        :param start_element: The WebElement to start tabbing from.</span>
</span><span id="L-552"><a href="#L-552"><span class="linenos">552</span></a><span class="sd">        The currently active element will be used if start_element is None.</span>
</span><span id="L-553"><a href="#L-553"><span class="linenos">553</span></a>
</span><span id="L-554"><a href="#L-554"><span class="linenos">554</span></a><span class="sd">        Note: The function tabs to the next element before sending data,</span>
</span><span id="L-555"><a href="#L-555"><span class="linenos">555</span></a><span class="sd">        so the start_element should the WebElement before the one</span>
</span><span id="L-556"><a href="#L-556"><span class="linenos">556</span></a><span class="sd">        that should receive data[0].</span>
</span><span id="L-557"><a href="#L-557"><span class="linenos">557</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-558"><a href="#L-558"><span class="linenos">558</span></a>        <span class="n">element</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="L-559"><a href="#L-559"><span class="linenos">559</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">switch_to</span><span class="o">.</span><span class="n">active_element</span>
</span><span id="L-560"><a href="#L-560"><span class="linenos">560</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">start_element</span>
</span><span id="L-561"><a href="#L-561"><span class="linenos">561</span></a>            <span class="k">else</span> <span class="n">start_element</span>
</span><span id="L-562"><a href="#L-562"><span class="linenos">562</span></a>        <span class="p">)</span>
</span><span id="L-563"><a href="#L-563"><span class="linenos">563</span></a>        <span class="k">for</span> <span class="n">datum</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
</span><span id="L-564"><a href="#L-564"><span class="linenos">564</span></a>            <span class="n">element</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">Keys</span><span class="o">.</span><span class="n">TAB</span><span class="p">)</span>
</span><span id="L-565"><a href="#L-565"><span class="linenos">565</span></a>            <span class="n">element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">switch_to</span><span class="o">.</span><span class="n">active_element</span>
</span><span id="L-566"><a href="#L-566"><span class="linenos">566</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_key_wait</span><span class="p">)</span>
</span><span id="L-567"><a href="#L-567"><span class="linenos">567</span></a>            <span class="k">if</span> <span class="n">datum</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;downArrow&quot;</span><span class="p">:</span>
</span><span id="L-568"><a href="#L-568"><span class="linenos">568</span></a>                <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">datum</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">==</span> <span class="nb">tuple</span><span class="p">:</span>
</span><span id="L-569"><a href="#L-569"><span class="linenos">569</span></a>                    <span class="n">times</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">datum</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">datum</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
</span><span id="L-570"><a href="#L-570"><span class="linenos">570</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="L-571"><a href="#L-571"><span class="linenos">571</span></a>                    <span class="n">times</span> <span class="o">=</span> <span class="n">datum</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="L-572"><a href="#L-572"><span class="linenos">572</span></a>                <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">times</span><span class="p">):</span>
</span><span id="L-573"><a href="#L-573"><span class="linenos">573</span></a>                    <span class="n">element</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">Keys</span><span class="o">.</span><span class="n">ARROW_DOWN</span><span class="p">)</span>
</span><span id="L-574"><a href="#L-574"><span class="linenos">574</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_key_wait</span><span class="p">)</span>
</span><span id="L-575"><a href="#L-575"><span class="linenos">575</span></a>            <span class="k">elif</span> <span class="n">datum</span> <span class="o">==</span> <span class="s2">&quot;skip&quot;</span><span class="p">:</span>
</span><span id="L-576"><a href="#L-576"><span class="linenos">576</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_key_wait</span><span class="p">)</span>
</span><span id="L-577"><a href="#L-577"><span class="linenos">577</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-578"><a href="#L-578"><span class="linenos">578</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">turbo_engaged</span><span class="p">:</span>
</span><span id="L-579"><a href="#L-579"><span class="linenos">579</span></a>                    <span class="n">element</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">datum</span><span class="p">))</span>
</span><span id="L-580"><a href="#L-580"><span class="linenos">580</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="L-581"><a href="#L-581"><span class="linenos">581</span></a>                    <span class="k">for</span> <span class="n">ch</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">datum</span><span class="p">):</span>
</span><span id="L-582"><a href="#L-582"><span class="linenos">582</span></a>                        <span class="n">element</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">ch</span><span class="p">)</span>
</span><span id="L-583"><a href="#L-583"><span class="linenos">583</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_key_wait</span><span class="p">)</span>
</span><span id="L-584"><a href="#L-584"><span class="linenos">584</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_field_wait</span><span class="p">)</span>
</span><span id="L-585"><a href="#L-585"><span class="linenos">585</span></a>        <span class="k">return</span> <span class="n">element</span>
</span><span id="L-586"><a href="#L-586"><span class="linenos">586</span></a>
</span><span id="L-587"><a href="#L-587"><span class="linenos">587</span></a>    <span class="k">def</span> <span class="nf">wait_until</span><span class="p">(</span>
</span><span id="L-588"><a href="#L-588"><span class="linenos">588</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">condition</span><span class="p">:</span> <span class="n">LambdaType</span><span class="p">,</span> <span class="n">max_wait</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">polling_interval</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span>
</span><span id="L-589"><a href="#L-589"><span class="linenos">589</span></a>    <span class="p">):</span>
</span><span id="L-590"><a href="#L-590"><span class="linenos">590</span></a>        <span class="sd">&quot;&quot;&quot;Checks condition repeatedly until either it is true,</span>
</span><span id="L-591"><a href="#L-591"><span class="linenos">591</span></a><span class="sd">        or the max_wait is exceeded.</span>
</span><span id="L-592"><a href="#L-592"><span class="linenos">592</span></a>
</span><span id="L-593"><a href="#L-593"><span class="linenos">593</span></a><span class="sd">        Raises a TimeoutError if the condition doesn&#39;t success within max_wait.</span>
</span><span id="L-594"><a href="#L-594"><span class="linenos">594</span></a>
</span><span id="L-595"><a href="#L-595"><span class="linenos">595</span></a><span class="sd">        Useful for determing whether a form has been successfully submitted.</span>
</span><span id="L-596"><a href="#L-596"><span class="linenos">596</span></a>
</span><span id="L-597"><a href="#L-597"><span class="linenos">597</span></a><span class="sd">        :param condition: The condition function to check.</span>
</span><span id="L-598"><a href="#L-598"><span class="linenos">598</span></a>
</span><span id="L-599"><a href="#L-599"><span class="linenos">599</span></a><span class="sd">        :param max_wait: Number of seconds to continue checking condition</span>
</span><span id="L-600"><a href="#L-600"><span class="linenos">600</span></a><span class="sd">        before throwing a TimeoutError.</span>
</span><span id="L-601"><a href="#L-601"><span class="linenos">601</span></a>
</span><span id="L-602"><a href="#L-602"><span class="linenos">602</span></a><span class="sd">        :param polling_interval: The number of seconds to sleep before</span>
</span><span id="L-603"><a href="#L-603"><span class="linenos">603</span></a><span class="sd">        checking the condition function again after it fails.</span>
</span><span id="L-604"><a href="#L-604"><span class="linenos">604</span></a>
</span><span id="L-605"><a href="#L-605"><span class="linenos">605</span></a><span class="sd">        e.g. self.wait_until(lambda: &#39;Successfully Submitted&#39; in self.text(&#39;//p[@id=&quot;form-output&quot;]))&quot;&quot;&quot;</span>
</span><span id="L-606"><a href="#L-606"><span class="linenos">606</span></a>        <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</span><span id="L-607"><a href="#L-607"><span class="linenos">607</span></a>        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span><span id="L-608"><a href="#L-608"><span class="linenos">608</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="L-609"><a href="#L-609"><span class="linenos">609</span></a>                <span class="k">if</span> <span class="n">condition</span><span class="p">():</span>
</span><span id="L-610"><a href="#L-610"><span class="linenos">610</span></a>                    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-611"><a href="#L-611"><span class="linenos">611</span></a>                    <span class="k">break</span>
</span><span id="L-612"><a href="#L-612"><span class="linenos">612</span></a>                <span class="k">elif</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">max_wait</span><span class="p">:</span>
</span><span id="L-613"><a href="#L-613"><span class="linenos">613</span></a>                    <span class="k">raise</span> <span class="ne">TimeoutError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;max_wait exceeded in wait_until(</span><span class="si">{</span><span class="n">condition</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</span><span id="L-614"><a href="#L-614"><span class="linenos">614</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="L-615"><a href="#L-615"><span class="linenos">615</span></a>                    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">polling_interval</span><span class="p">)</span>
</span><span id="L-616"><a href="#L-616"><span class="linenos">616</span></a>            <span class="k">except</span><span class="p">:</span>
</span><span id="L-617"><a href="#L-617"><span class="linenos">617</span></a>                <span class="k">if</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">max_wait</span><span class="p">:</span>
</span><span id="L-618"><a href="#L-618"><span class="linenos">618</span></a>                    <span class="k">raise</span> <span class="ne">TimeoutError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;max_wait exceeded in wait_until(</span><span class="si">{</span><span class="n">condition</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</span><span id="L-619"><a href="#L-619"><span class="linenos">619</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="L-620"><a href="#L-620"><span class="linenos">620</span></a>                    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">polling_interval</span><span class="p">)</span>
</span><span id="L-621"><a href="#L-621"><span class="linenos">621</span></a>
</span><span id="L-622"><a href="#L-622"><span class="linenos">622</span></a>    <span class="k">def</span> <span class="nf">dismiss_alert</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-623"><a href="#L-623"><span class="linenos">623</span></a>        <span class="sd">&quot;&quot;&quot;Dismiss alert dialog.&quot;&quot;&quot;</span>
</span><span id="L-624"><a href="#L-624"><span class="linenos">624</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">switch_to</span><span class="o">.</span><span class="n">alert</span><span class="o">.</span><span class="n">dismiss</span><span class="p">()</span>
</span><span id="L-625"><a href="#L-625"><span class="linenos">625</span></a>
</span><span id="L-626"><a href="#L-626"><span class="linenos">626</span></a>    <span class="k">def</span> <span class="nf">solve_recaptcha_v3</span><span class="p">(</span>
</span><span id="L-627"><a href="#L-627"><span class="linenos">627</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-628"><a href="#L-628"><span class="linenos">628</span></a>        <span class="n">outer_iframe_xpath</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;//iframe[@title=&quot;reCAPTCHA&quot;]&#39;</span><span class="p">,</span>
</span><span id="L-629"><a href="#L-629"><span class="linenos">629</span></a>        <span class="n">inner_iframe_xpath</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;//iframe[@title=&quot;recaptcha challenge expires in two minutes&quot;]&#39;</span><span class="p">,</span>
</span><span id="L-630"><a href="#L-630"><span class="linenos">630</span></a>    <span class="p">):</span>
</span><span id="L-631"><a href="#L-631"><span class="linenos">631</span></a>        <span class="sd">&quot;&quot;&quot;Pass google recaptcha v3 by solving an audio puzzle.</span>
</span><span id="L-632"><a href="#L-632"><span class="linenos">632</span></a>
</span><span id="L-633"><a href="#L-633"><span class="linenos">633</span></a><span class="sd">        :param outer_iframe_xpath: Xpath to the iframe containing the recaptcha checkbox.</span>
</span><span id="L-634"><a href="#L-634"><span class="linenos">634</span></a><span class="sd">        If it&#39;s the recaptcha without the initial checkbox that just shows the image puzzle,</span>
</span><span id="L-635"><a href="#L-635"><span class="linenos">635</span></a><span class="sd">        pass None to this argument.</span>
</span><span id="L-636"><a href="#L-636"><span class="linenos">636</span></a>
</span><span id="L-637"><a href="#L-637"><span class="linenos">637</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-638"><a href="#L-638"><span class="linenos">638</span></a>        <span class="n">locator_method</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">locator_method</span>
</span><span id="L-639"><a href="#L-639"><span class="linenos">639</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">locator_method</span> <span class="o">=</span> <span class="s2">&quot;xpath&quot;</span>
</span><span id="L-640"><a href="#L-640"><span class="linenos">640</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-641"><a href="#L-641"><span class="linenos">641</span></a>            <span class="k">if</span> <span class="n">outer_iframe_xpath</span><span class="p">:</span>
</span><span id="L-642"><a href="#L-642"><span class="linenos">642</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">switch_to_iframe</span><span class="p">(</span><span class="n">outer_iframe_xpath</span><span class="p">)</span>
</span><span id="L-643"><a href="#L-643"><span class="linenos">643</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;recaptcha-anchor&quot;]&#39;</span><span class="p">)</span>
</span><span id="L-644"><a href="#L-644"><span class="linenos">644</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">switch_to_parent_frame</span><span class="p">()</span>
</span><span id="L-645"><a href="#L-645"><span class="linenos">645</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">switch_to_iframe</span><span class="p">(</span><span class="n">inner_iframe_xpath</span><span class="p">)</span>
</span><span id="L-646"><a href="#L-646"><span class="linenos">646</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;recaptcha-audio-button&quot;]&#39;</span><span class="p">)</span>
</span><span id="L-647"><a href="#L-647"><span class="linenos">647</span></a>            <span class="n">mp3_url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span>
</span><span id="L-648"><a href="#L-648"><span class="linenos">648</span></a>                <span class="s1">&#39;//a[@class=&quot;rc-audiochallenge-tdownload-link&quot;]&#39;</span>
</span><span id="L-649"><a href="#L-649"><span class="linenos">649</span></a>            <span class="p">)</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="s2">&quot;href&quot;</span><span class="p">)</span>
</span><span id="L-650"><a href="#L-650"><span class="linenos">650</span></a>            <span class="n">text</span> <span class="o">=</span> <span class="n">get_text_from_url</span><span class="p">(</span><span class="n">mp3_url</span><span class="p">,</span> <span class="s2">&quot;.mp3&quot;</span><span class="p">)</span>
</span><span id="L-651"><a href="#L-651"><span class="linenos">651</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;audio-response&quot;]&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
</span><span id="L-652"><a href="#L-652"><span class="linenos">652</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;recaptcha-verify-button&quot;]&#39;</span><span class="p">)</span>
</span><span id="L-653"><a href="#L-653"><span class="linenos">653</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-654"><a href="#L-654"><span class="linenos">654</span></a>            <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="L-655"><a href="#L-655"><span class="linenos">655</span></a>            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Could not solve captcha&quot;</span><span class="p">)</span>
</span><span id="L-656"><a href="#L-656"><span class="linenos">656</span></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="L-657"><a href="#L-657"><span class="linenos">657</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">switch_to_parent_frame</span><span class="p">()</span>
</span><span id="L-658"><a href="#L-658"><span class="linenos">658</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">locator_method</span> <span class="o">=</span> <span class="n">locator_method</span>
</span></pre></div>


            </section>
                <section id="User">
                            <input id="User-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">User</span>:

                <label class="view-source-button" for="User-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User-29"><a href="#User-29"><span class="linenos"> 29</span></a><span class="k">class</span> <span class="nc">User</span><span class="p">:</span>
</span><span id="User-30"><a href="#User-30"><span class="linenos"> 30</span></a>    <span class="sd">&quot;&quot;&quot;Sits on top of selenium to streamline</span>
</span><span id="User-31"><a href="#User-31"><span class="linenos"> 31</span></a><span class="sd">    automation and scraping tasks.&quot;&quot;&quot;</span>
</span><span id="User-32"><a href="#User-32"><span class="linenos"> 32</span></a>
</span><span id="User-33"><a href="#User-33"><span class="linenos"> 33</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
</span><span id="User-34"><a href="#User-34"><span class="linenos"> 34</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="User-35"><a href="#User-35"><span class="linenos"> 35</span></a>        <span class="n">headless</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="User-36"><a href="#User-36"><span class="linenos"> 36</span></a>        <span class="n">browser_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;firefox&quot;</span><span class="p">,</span>
</span><span id="User-37"><a href="#User-37"><span class="linenos"> 37</span></a>        <span class="n">implicit_wait</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
</span><span id="User-38"><a href="#User-38"><span class="linenos"> 38</span></a>        <span class="n">page_load_timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">60</span><span class="p">,</span>
</span><span id="User-39"><a href="#User-39"><span class="linenos"> 39</span></a>        <span class="n">open_browser</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="User-40"><a href="#User-40"><span class="linenos"> 40</span></a>        <span class="n">locator_method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;xpath&quot;</span><span class="p">,</span>
</span><span id="User-41"><a href="#User-41"><span class="linenos"> 41</span></a>        <span class="n">randomize_user_agent</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="User-42"><a href="#User-42"><span class="linenos"> 42</span></a>        <span class="n">user_agent_rotation_period</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="User-43"><a href="#User-43"><span class="linenos"> 43</span></a>        <span class="n">move_window_by</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1000</span><span class="p">),</span>
</span><span id="User-44"><a href="#User-44"><span class="linenos"> 44</span></a>        <span class="n">download_dir</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Path</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="User-45"><a href="#User-45"><span class="linenos"> 45</span></a>        <span class="n">driver_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Path</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="User-46"><a href="#User-46"><span class="linenos"> 46</span></a>    <span class="p">):</span>
</span><span id="User-47"><a href="#User-47"><span class="linenos"> 47</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="User-48"><a href="#User-48"><span class="linenos"> 48</span></a><span class="sd">        :param headless: If True, browser window will not be visible.</span>
</span><span id="User-49"><a href="#User-49"><span class="linenos"> 49</span></a>
</span><span id="User-50"><a href="#User-50"><span class="linenos"> 50</span></a><span class="sd">        :param browser_type: Which browser to use. Can be &#39;firefox&#39; or &#39;chrome&#39;.</span>
</span><span id="User-51"><a href="#User-51"><span class="linenos"> 51</span></a>
</span><span id="User-52"><a href="#User-52"><span class="linenos"> 52</span></a><span class="sd">        :param implicit_wait: Number of seconds to look for a specified element before</span>
</span><span id="User-53"><a href="#User-53"><span class="linenos"> 53</span></a><span class="sd">        selenium considers it missing and throws an exception.</span>
</span><span id="User-54"><a href="#User-54"><span class="linenos"> 54</span></a>
</span><span id="User-55"><a href="#User-55"><span class="linenos"> 55</span></a><span class="sd">        :param page_load_timeout: Time in seconds for selenium to wait for a page to load</span>
</span><span id="User-56"><a href="#User-56"><span class="linenos"> 56</span></a><span class="sd">        before throwing an exception.</span>
</span><span id="User-57"><a href="#User-57"><span class="linenos"> 57</span></a>
</span><span id="User-58"><a href="#User-58"><span class="linenos"> 58</span></a><span class="sd">        :param open_browser: If True, opens a browser window when a User object is created.</span>
</span><span id="User-59"><a href="#User-59"><span class="linenos"> 59</span></a><span class="sd">        If False, a manual call to self.open_browser() must be made.</span>
</span><span id="User-60"><a href="#User-60"><span class="linenos"> 60</span></a>
</span><span id="User-61"><a href="#User-61"><span class="linenos"> 61</span></a><span class="sd">        :param locator_method: The locator type User should expect to be given.</span>
</span><span id="User-62"><a href="#User-62"><span class="linenos"> 62</span></a><span class="sd">        Can be &#39;xpath&#39;, &#39;id&#39;, &#39;className&#39;, &#39;name&#39;, or &#39;cssSelector&#39;.</span>
</span><span id="User-63"><a href="#User-63"><span class="linenos"> 63</span></a><span class="sd">        Every member function with a &#39;locator&#39; argument refers to a string matching</span>
</span><span id="User-64"><a href="#User-64"><span class="linenos"> 64</span></a><span class="sd">        the current locator_method.</span>
</span><span id="User-65"><a href="#User-65"><span class="linenos"> 65</span></a>
</span><span id="User-66"><a href="#User-66"><span class="linenos"> 66</span></a><span class="sd">        :param randomize_user_agent: If True, a random useragent will be used whenever</span>
</span><span id="User-67"><a href="#User-67"><span class="linenos"> 67</span></a><span class="sd">        the browser is opened. If False, the native useragent will be used.</span>
</span><span id="User-68"><a href="#User-68"><span class="linenos"> 68</span></a>
</span><span id="User-69"><a href="#User-69"><span class="linenos"> 69</span></a><span class="sd">        :param user_agent_rotation_period: If not None, the browser window will be closed</span>
</span><span id="User-70"><a href="#User-70"><span class="linenos"> 70</span></a><span class="sd">        and reopened with a new useragent every user_agent_rotation_period number of minutes.</span>
</span><span id="User-71"><a href="#User-71"><span class="linenos"> 71</span></a><span class="sd">        Rotation occurs on the first call to self.get() after the time period has elapsed.</span>
</span><span id="User-72"><a href="#User-72"><span class="linenos"> 72</span></a><span class="sd">        Ignored if randomize_user_agent is False.</span>
</span><span id="User-73"><a href="#User-73"><span class="linenos"> 73</span></a>
</span><span id="User-74"><a href="#User-74"><span class="linenos"> 74</span></a><span class="sd">        :param move_window_by: The x and y amount of pixels to move the browser window by after opening.</span>
</span><span id="User-75"><a href="#User-75"><span class="linenos"> 75</span></a>
</span><span id="User-76"><a href="#User-76"><span class="linenos"> 76</span></a><span class="sd">        :param download_dir: The download folder to use. If None, the default folder will be used.</span>
</span><span id="User-77"><a href="#User-77"><span class="linenos"> 77</span></a>
</span><span id="User-78"><a href="#User-78"><span class="linenos"> 78</span></a><span class="sd">        :param driver_path: The path to the webdriver executable selenium should use.</span>
</span><span id="User-79"><a href="#User-79"><span class="linenos"> 79</span></a><span class="sd">        If None, the system PATH will be checked for the executable.</span>
</span><span id="User-80"><a href="#User-80"><span class="linenos"> 80</span></a><span class="sd">        If the executable isn&#39;t found, the parent directories and the immediate child directories</span>
</span><span id="User-81"><a href="#User-81"><span class="linenos"> 81</span></a><span class="sd">        of the current working directory will be searched.</span>
</span><span id="User-82"><a href="#User-82"><span class="linenos"> 82</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="User-83"><a href="#User-83"><span class="linenos"> 83</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">headless</span> <span class="o">=</span> <span class="n">headless</span>
</span><span id="User-84"><a href="#User-84"><span class="linenos"> 84</span></a>        <span class="n">browser_type</span> <span class="o">=</span> <span class="n">browser_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</span><span id="User-85"><a href="#User-85"><span class="linenos"> 85</span></a>        <span class="k">if</span> <span class="n">browser_type</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;firefox&quot;</span><span class="p">,</span> <span class="s2">&quot;chrome&quot;</span><span class="p">]:</span>
</span><span id="User-86"><a href="#User-86"><span class="linenos"> 86</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser_type</span> <span class="o">=</span> <span class="n">browser_type</span>
</span><span id="User-87"><a href="#User-87"><span class="linenos"> 87</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="User-88"><a href="#User-88"><span class="linenos"> 88</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;browser_type&#39; parameter must be &#39;firefox&#39; or &#39;chrome&#39;&quot;</span><span class="p">)</span>
</span><span id="User-89"><a href="#User-89"><span class="linenos"> 89</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">browser_open</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="User-90"><a href="#User-90"><span class="linenos"> 90</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">implicit_wait</span> <span class="o">=</span> <span class="n">implicit_wait</span>
</span><span id="User-91"><a href="#User-91"><span class="linenos"> 91</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">page_load_timeout</span> <span class="o">=</span> <span class="n">page_load_timeout</span>
</span><span id="User-92"><a href="#User-92"><span class="linenos"> 92</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rotation_timer</span> <span class="o">=</span> <span class="n">Timer</span><span class="p">()</span>
</span><span id="User-93"><a href="#User-93"><span class="linenos"> 93</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">timer</span> <span class="o">=</span> <span class="n">Timer</span><span class="p">()</span>
</span><span id="User-94"><a href="#User-94"><span class="linenos"> 94</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</span><span id="User-95"><a href="#User-95"><span class="linenos"> 95</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">randomize_user_agent</span> <span class="o">=</span> <span class="n">randomize_user_agent</span>
</span><span id="User-96"><a href="#User-96"><span class="linenos"> 96</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">user_agent_rotation_period</span> <span class="o">=</span> <span class="n">user_agent_rotation_period</span>
</span><span id="User-97"><a href="#User-97"><span class="linenos"> 97</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">locator_method</span> <span class="o">=</span> <span class="n">locator_method</span>
</span><span id="User-98"><a href="#User-98"><span class="linenos"> 98</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">turbo</span><span class="p">()</span>
</span><span id="User-99"><a href="#User-99"><span class="linenos"> 99</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">keys</span> <span class="o">=</span> <span class="n">Keys</span>
</span><span id="User-100"><a href="#User-100"><span class="linenos">100</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">move_window_by</span> <span class="o">=</span> <span class="n">move_window_by</span>
</span><span id="User-101"><a href="#User-101"><span class="linenos">101</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">download_dir</span> <span class="o">=</span> <span class="n">download_dir</span>
</span><span id="User-102"><a href="#User-102"><span class="linenos">102</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">driver_path</span> <span class="o">=</span> <span class="n">driver_path</span>
</span><span id="User-103"><a href="#User-103"><span class="linenos">103</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver_path</span><span class="p">:</span>
</span><span id="User-104"><a href="#User-104"><span class="linenos">104</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">search_for_driver</span><span class="p">()</span>
</span><span id="User-105"><a href="#User-105"><span class="linenos">105</span></a>        <span class="k">if</span> <span class="n">open_browser</span><span class="p">:</span>
</span><span id="User-106"><a href="#User-106"><span class="linenos">106</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">open_browser</span><span class="p">()</span>
</span><span id="User-107"><a href="#User-107"><span class="linenos">107</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="User-108"><a href="#User-108"><span class="linenos">108</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="User-109"><a href="#User-109"><span class="linenos">109</span></a>        <span class="n">atexit</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">close_browser</span><span class="p">)</span>
</span><span id="User-110"><a href="#User-110"><span class="linenos">110</span></a>
</span><span id="User-111"><a href="#User-111"><span class="linenos">111</span></a>    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="User-112"><a href="#User-112"><span class="linenos">112</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="User-113"><a href="#User-113"><span class="linenos">113</span></a>
</span><span id="User-114"><a href="#User-114"><span class="linenos">114</span></a>    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
</span><span id="User-115"><a href="#User-115"><span class="linenos">115</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">close_browser</span><span class="p">()</span>
</span><span id="User-116"><a href="#User-116"><span class="linenos">116</span></a>
</span><span id="User-117"><a href="#User-117"><span class="linenos">117</span></a>    <span class="k">def</span> <span class="nf">configure_firefox</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FirefoxService</span><span class="p">:</span>
</span><span id="User-118"><a href="#User-118"><span class="linenos">118</span></a>        <span class="sd">&quot;&quot;&quot;Configure options and profile for firefox.&quot;&quot;&quot;</span>
</span><span id="User-119"><a href="#User-119"><span class="linenos">119</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span> <span class="o">=</span> <span class="n">FirefoxOptions</span><span class="p">()</span>
</span><span id="User-120"><a href="#User-120"><span class="linenos">120</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">headless</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">headless</span>
</span><span id="User-121"><a href="#User-121"><span class="linenos">121</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">set_preference</span><span class="p">(</span>
</span><span id="User-122"><a href="#User-122"><span class="linenos">122</span></a>            <span class="s2">&quot;widget.windows.window_occlusion_tracking.enabled&quot;</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="User-123"><a href="#User-123"><span class="linenos">123</span></a>        <span class="p">)</span>
</span><span id="User-124"><a href="#User-124"><span class="linenos">124</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">set_preference</span><span class="p">(</span><span class="s2">&quot;dom.webaudio.enabled&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="User-125"><a href="#User-125"><span class="linenos">125</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">randomize_user_agent</span><span class="p">:</span>
</span><span id="User-126"><a href="#User-126"><span class="linenos">126</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">set_preference</span><span class="p">(</span><span class="s2">&quot;general.useragent.override&quot;</span><span class="p">,</span> <span class="n">get_agent</span><span class="p">())</span>
</span><span id="User-127"><a href="#User-127"><span class="linenos">127</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">download_dir</span><span class="p">:</span>
</span><span id="User-128"><a href="#User-128"><span class="linenos">128</span></a>            <span class="n">Path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">download_dir</span><span class="p">)</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="User-129"><a href="#User-129"><span class="linenos">129</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">profile</span> <span class="o">=</span> <span class="n">FirefoxProfile</span><span class="p">()</span>
</span><span id="User-130"><a href="#User-130"><span class="linenos">130</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">set_preference</span><span class="p">(</span><span class="s2">&quot;browser.download.dir&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">download_dir</span><span class="p">))</span>
</span><span id="User-131"><a href="#User-131"><span class="linenos">131</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">set_preference</span><span class="p">(</span><span class="s2">&quot;browser.download.folderList&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="User-132"><a href="#User-132"><span class="linenos">132</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="User-133"><a href="#User-133"><span class="linenos">133</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">profile</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="User-134"><a href="#User-134"><span class="linenos">134</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">service</span> <span class="o">=</span> <span class="n">FirefoxService</span><span class="p">(</span>
</span><span id="User-135"><a href="#User-135"><span class="linenos">135</span></a>            <span class="n">executable_path</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">driver_path</span><span class="p">),</span> <span class="n">log_path</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">devnull</span>
</span><span id="User-136"><a href="#User-136"><span class="linenos">136</span></a>        <span class="p">)</span>
</span><span id="User-137"><a href="#User-137"><span class="linenos">137</span></a>
</span><span id="User-138"><a href="#User-138"><span class="linenos">138</span></a>    <span class="k">def</span> <span class="nf">configure_chrome</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ChromeService</span><span class="p">:</span>
</span><span id="User-139"><a href="#User-139"><span class="linenos">139</span></a>        <span class="sd">&quot;&quot;&quot;Configure options and profile for chrome.&quot;&quot;&quot;</span>
</span><span id="User-140"><a href="#User-140"><span class="linenos">140</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span> <span class="o">=</span> <span class="n">ChromeOptions</span><span class="p">()</span>
</span><span id="User-141"><a href="#User-141"><span class="linenos">141</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">headless</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">headless</span>
</span><span id="User-142"><a href="#User-142"><span class="linenos">142</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--disable-blink-features=AutomationControlled&quot;</span><span class="p">)</span>
</span><span id="User-143"><a href="#User-143"><span class="linenos">143</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--mute-audio&quot;</span><span class="p">)</span>
</span><span id="User-144"><a href="#User-144"><span class="linenos">144</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--disable-infobars&quot;</span><span class="p">)</span>
</span><span id="User-145"><a href="#User-145"><span class="linenos">145</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--disable-notifications&quot;</span><span class="p">)</span>
</span><span id="User-146"><a href="#User-146"><span class="linenos">146</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--log-level=3&quot;</span><span class="p">)</span>
</span><span id="User-147"><a href="#User-147"><span class="linenos">147</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">randomize_user_agent</span><span class="p">:</span>
</span><span id="User-148"><a href="#User-148"><span class="linenos">148</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;--user-agent=</span><span class="si">{</span><span class="n">get_agent</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="User-149"><a href="#User-149"><span class="linenos">149</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">add_experimental_option</span><span class="p">(</span><span class="s2">&quot;useAutomationExtension&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="User-150"><a href="#User-150"><span class="linenos">150</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">download_dir</span><span class="p">:</span>
</span><span id="User-151"><a href="#User-151"><span class="linenos">151</span></a>            <span class="n">Path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">download_dir</span><span class="p">)</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="User-152"><a href="#User-152"><span class="linenos">152</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">add_experimental_option</span><span class="p">(</span>
</span><span id="User-153"><a href="#User-153"><span class="linenos">153</span></a>                <span class="s2">&quot;prefs&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;download.default_directory&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">download_dir</span><span class="p">)}</span>
</span><span id="User-154"><a href="#User-154"><span class="linenos">154</span></a>            <span class="p">)</span>
</span><span id="User-155"><a href="#User-155"><span class="linenos">155</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">service</span> <span class="o">=</span> <span class="n">ChromeService</span><span class="p">(</span>
</span><span id="User-156"><a href="#User-156"><span class="linenos">156</span></a>            <span class="n">executable_path</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">driver_path</span><span class="p">),</span> <span class="n">log_path</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">devnull</span>
</span><span id="User-157"><a href="#User-157"><span class="linenos">157</span></a>        <span class="p">)</span>
</span><span id="User-158"><a href="#User-158"><span class="linenos">158</span></a>
</span><span id="User-159"><a href="#User-159"><span class="linenos">159</span></a>    <span class="k">def</span> <span class="nf">search_for_driver</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="User-160"><a href="#User-160"><span class="linenos">160</span></a>        <span class="sd">&quot;&quot;&quot;Searches for the webdriver executable.&quot;&quot;&quot;</span>
</span><span id="User-161"><a href="#User-161"><span class="linenos">161</span></a>        <span class="n">cwd</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span>
</span><span id="User-162"><a href="#User-162"><span class="linenos">162</span></a>        <span class="n">found</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="User-163"><a href="#User-163"><span class="linenos">163</span></a>        <span class="k">match</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser_type</span><span class="p">:</span>
</span><span id="User-164"><a href="#User-164"><span class="linenos">164</span></a>            <span class="k">case</span> <span class="s2">&quot;firefox&quot;</span><span class="p">:</span>
</span><span id="User-165"><a href="#User-165"><span class="linenos">165</span></a>                <span class="n">driver</span> <span class="o">=</span> <span class="s2">&quot;geckodriver.exe&quot;</span>
</span><span id="User-166"><a href="#User-166"><span class="linenos">166</span></a>            <span class="k">case</span> <span class="s2">&quot;chrome&quot;</span><span class="p">:</span>
</span><span id="User-167"><a href="#User-167"><span class="linenos">167</span></a>                <span class="n">driver</span> <span class="o">=</span> <span class="s2">&quot;chromedriver.exe&quot;</span>
</span><span id="User-168"><a href="#User-168"><span class="linenos">168</span></a>        <span class="c1"># search PATH</span>
</span><span id="User-169"><a href="#User-169"><span class="linenos">169</span></a>        <span class="n">env_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;PATH&quot;</span><span class="p">]</span>
</span><span id="User-170"><a href="#User-170"><span class="linenos">170</span></a>        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s2">&quot;win32&quot;</span><span class="p">:</span>
</span><span id="User-171"><a href="#User-171"><span class="linenos">171</span></a>            <span class="n">env_paths</span> <span class="o">=</span> <span class="n">env_path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">)</span>
</span><span id="User-172"><a href="#User-172"><span class="linenos">172</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="User-173"><a href="#User-173"><span class="linenos">173</span></a>            <span class="n">env_paths</span> <span class="o">=</span> <span class="n">env_path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
</span><span id="User-174"><a href="#User-174"><span class="linenos">174</span></a>            <span class="n">driver</span> <span class="o">=</span> <span class="n">driver</span><span class="p">[:</span> <span class="n">driver</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)]</span>
</span><span id="User-175"><a href="#User-175"><span class="linenos">175</span></a>        <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">env_paths</span><span class="p">:</span>
</span><span id="User-176"><a href="#User-176"><span class="linenos">176</span></a>            <span class="k">if</span> <span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="o">/</span> <span class="n">driver</span><span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
</span><span id="User-177"><a href="#User-177"><span class="linenos">177</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">driver_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="o">/</span> <span class="n">driver</span>
</span><span id="User-178"><a href="#User-178"><span class="linenos">178</span></a>                <span class="n">found</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="User-179"><a href="#User-179"><span class="linenos">179</span></a>                <span class="k">break</span>
</span><span id="User-180"><a href="#User-180"><span class="linenos">180</span></a>        <span class="c1"># check current working directory and parent folders</span>
</span><span id="User-181"><a href="#User-181"><span class="linenos">181</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">found</span><span class="p">:</span>
</span><span id="User-182"><a href="#User-182"><span class="linenos">182</span></a>            <span class="k">while</span> <span class="n">cwd</span> <span class="o">!=</span> <span class="n">cwd</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span>
</span><span id="User-183"><a href="#User-183"><span class="linenos">183</span></a>                <span class="k">if</span> <span class="p">(</span><span class="n">cwd</span> <span class="o">/</span> <span class="n">driver</span><span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
</span><span id="User-184"><a href="#User-184"><span class="linenos">184</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">driver_path</span> <span class="o">=</span> <span class="n">cwd</span> <span class="o">/</span> <span class="n">driver</span>
</span><span id="User-185"><a href="#User-185"><span class="linenos">185</span></a>                    <span class="n">found</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="User-186"><a href="#User-186"><span class="linenos">186</span></a>                    <span class="k">break</span>
</span><span id="User-187"><a href="#User-187"><span class="linenos">187</span></a>                <span class="n">cwd</span> <span class="o">=</span> <span class="n">cwd</span><span class="o">.</span><span class="n">parent</span>
</span><span id="User-188"><a href="#User-188"><span class="linenos">188</span></a>            <span class="c1"># check top most level</span>
</span><span id="User-189"><a href="#User-189"><span class="linenos">189</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">found</span> <span class="ow">and</span> <span class="p">(</span><span class="n">cwd</span> <span class="o">/</span> <span class="n">driver</span><span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
</span><span id="User-190"><a href="#User-190"><span class="linenos">190</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">driver_path</span> <span class="o">=</span> <span class="n">cwd</span> <span class="o">/</span> <span class="n">driver</span>
</span><span id="User-191"><a href="#User-191"><span class="linenos">191</span></a>                <span class="n">found</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="User-192"><a href="#User-192"><span class="linenos">192</span></a>        <span class="c1"># check child folders (only 1 level down)</span>
</span><span id="User-193"><a href="#User-193"><span class="linenos">193</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">found</span><span class="p">:</span>
</span><span id="User-194"><a href="#User-194"><span class="linenos">194</span></a>            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">Path</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span><span class="o">.</span><span class="n">iterdir</span><span class="p">():</span>
</span><span id="User-195"><a href="#User-195"><span class="linenos">195</span></a>                <span class="k">if</span> <span class="n">child</span><span class="o">.</span><span class="n">is_dir</span><span class="p">()</span> <span class="ow">and</span> <span class="p">(</span><span class="n">child</span> <span class="o">/</span> <span class="n">driver</span><span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
</span><span id="User-196"><a href="#User-196"><span class="linenos">196</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">driver_path</span> <span class="o">=</span> <span class="n">child</span> <span class="o">/</span> <span class="n">driver</span>
</span><span id="User-197"><a href="#User-197"><span class="linenos">197</span></a>                    <span class="n">found</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="User-198"><a href="#User-198"><span class="linenos">198</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">found</span><span class="p">:</span>
</span><span id="User-199"><a href="#User-199"><span class="linenos">199</span></a>            <span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not find </span><span class="si">{</span><span class="n">driver</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="User-200"><a href="#User-200"><span class="linenos">200</span></a>
</span><span id="User-201"><a href="#User-201"><span class="linenos">201</span></a>    <span class="k">def</span> <span class="nf">set_implicit_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wait_time</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="User-202"><a href="#User-202"><span class="linenos">202</span></a>        <span class="sd">&quot;&quot;&quot;Sets to default time if no arg given.&quot;&quot;&quot;</span>
</span><span id="User-203"><a href="#User-203"><span class="linenos">203</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">wait_time</span><span class="p">:</span>
</span><span id="User-204"><a href="#User-204"><span class="linenos">204</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">implicitly_wait</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">implicit_wait</span><span class="p">)</span>
</span><span id="User-205"><a href="#User-205"><span class="linenos">205</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="User-206"><a href="#User-206"><span class="linenos">206</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">implicitly_wait</span><span class="p">(</span><span class="n">wait_time</span><span class="p">)</span>
</span><span id="User-207"><a href="#User-207"><span class="linenos">207</span></a>
</span><span id="User-208"><a href="#User-208"><span class="linenos">208</span></a>    <span class="k">def</span> <span class="nf">open_browser</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="User-209"><a href="#User-209"><span class="linenos">209</span></a>        <span class="sd">&quot;&quot;&quot;Configures and opens selenium browser.&quot;&quot;&quot;</span>
</span><span id="User-210"><a href="#User-210"><span class="linenos">210</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser_open</span><span class="p">:</span>
</span><span id="User-211"><a href="#User-211"><span class="linenos">211</span></a>            <span class="k">match</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser_type</span><span class="p">:</span>
</span><span id="User-212"><a href="#User-212"><span class="linenos">212</span></a>                <span class="k">case</span> <span class="s2">&quot;firefox&quot;</span><span class="p">:</span>
</span><span id="User-213"><a href="#User-213"><span class="linenos">213</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">configure_firefox</span><span class="p">()</span>
</span><span id="User-214"><a href="#User-214"><span class="linenos">214</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">browser</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Firefox</span><span class="p">(</span>
</span><span id="User-215"><a href="#User-215"><span class="linenos">215</span></a>                        <span class="n">options</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">,</span>
</span><span id="User-216"><a href="#User-216"><span class="linenos">216</span></a>                        <span class="n">service</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">service</span><span class="p">,</span>
</span><span id="User-217"><a href="#User-217"><span class="linenos">217</span></a>                        <span class="n">firefox_profile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">profile</span><span class="p">,</span>
</span><span id="User-218"><a href="#User-218"><span class="linenos">218</span></a>                    <span class="p">)</span>
</span><span id="User-219"><a href="#User-219"><span class="linenos">219</span></a>                <span class="k">case</span> <span class="s2">&quot;chrome&quot;</span><span class="p">:</span>
</span><span id="User-220"><a href="#User-220"><span class="linenos">220</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">configure_chrome</span><span class="p">()</span>
</span><span id="User-221"><a href="#User-221"><span class="linenos">221</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">browser</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Chrome</span><span class="p">(</span>
</span><span id="User-222"><a href="#User-222"><span class="linenos">222</span></a>                        <span class="n">options</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">,</span> <span class="n">service</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">service</span>
</span><span id="User-223"><a href="#User-223"><span class="linenos">223</span></a>                    <span class="p">)</span>
</span><span id="User-224"><a href="#User-224"><span class="linenos">224</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">set_implicit_wait</span><span class="p">()</span>
</span><span id="User-225"><a href="#User-225"><span class="linenos">225</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">maximize_window</span><span class="p">()</span>
</span><span id="User-226"><a href="#User-226"><span class="linenos">226</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">set_window_position</span><span class="p">(</span>
</span><span id="User-227"><a href="#User-227"><span class="linenos">227</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">move_window_by</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">move_window_by</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="User-228"><a href="#User-228"><span class="linenos">228</span></a>            <span class="p">)</span>
</span><span id="User-229"><a href="#User-229"><span class="linenos">229</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">maximize_window</span><span class="p">()</span>
</span><span id="User-230"><a href="#User-230"><span class="linenos">230</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">set_page_load_timeout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">page_load_timeout</span><span class="p">)</span>
</span><span id="User-231"><a href="#User-231"><span class="linenos">231</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser_open</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="User-232"><a href="#User-232"><span class="linenos">232</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tab_index</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="User-233"><a href="#User-233"><span class="linenos">233</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">rotation_timer</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</span><span id="User-234"><a href="#User-234"><span class="linenos">234</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="User-235"><a href="#User-235"><span class="linenos">235</span></a>            <span class="n">warn</span><span class="p">(</span><span class="s2">&quot;Browser already open.&quot;</span><span class="p">)</span>
</span><span id="User-236"><a href="#User-236"><span class="linenos">236</span></a>
</span><span id="User-237"><a href="#User-237"><span class="linenos">237</span></a>    <span class="k">def</span> <span class="nf">close_browser</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="User-238"><a href="#User-238"><span class="linenos">238</span></a>        <span class="sd">&quot;&quot;&quot;Close browser window.&quot;&quot;&quot;</span>
</span><span id="User-239"><a href="#User-239"><span class="linenos">239</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser_open</span><span class="p">:</span>
</span><span id="User-240"><a href="#User-240"><span class="linenos">240</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser_open</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="User-241"><a href="#User-241"><span class="linenos">241</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</span><span id="User-242"><a href="#User-242"><span class="linenos">242</span></a>
</span><span id="User-243"><a href="#User-243"><span class="linenos">243</span></a>    <span class="k">def</span> <span class="nf">open_tab</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">switch_to_tab</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
</span><span id="User-244"><a href="#User-244"><span class="linenos">244</span></a>        <span class="sd">&quot;&quot;&quot;Opens new tab and, if provided, goes to url.</span>
</span><span id="User-245"><a href="#User-245"><span class="linenos">245</span></a>
</span><span id="User-246"><a href="#User-246"><span class="linenos">246</span></a><span class="sd">        New tab is inserted after currently active tab.&quot;&quot;&quot;</span>
</span><span id="User-247"><a href="#User-247"><span class="linenos">247</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="s2">&quot;window.open(arguments[0]);&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
</span><span id="User-248"><a href="#User-248"><span class="linenos">248</span></a>        <span class="k">if</span> <span class="n">switch_to_tab</span><span class="p">:</span>
</span><span id="User-249"><a href="#User-249"><span class="linenos">249</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">switch_to_tab</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tab_index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="User-250"><a href="#User-250"><span class="linenos">250</span></a>
</span><span id="User-251"><a href="#User-251"><span class="linenos">251</span></a>    <span class="k">def</span> <span class="nf">switch_to_tab</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tab_index</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="User-252"><a href="#User-252"><span class="linenos">252</span></a>        <span class="sd">&quot;&quot;&quot;Switch to a tab in browser, zero indexed.&quot;&quot;&quot;</span>
</span><span id="User-253"><a href="#User-253"><span class="linenos">253</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">switch_to</span><span class="o">.</span><span class="n">window</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">window_handles</span><span class="p">[</span><span class="n">tab_index</span><span class="p">])</span>
</span><span id="User-254"><a href="#User-254"><span class="linenos">254</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tab_index</span> <span class="o">=</span> <span class="n">tab_index</span>
</span><span id="User-255"><a href="#User-255"><span class="linenos">255</span></a>
</span><span id="User-256"><a href="#User-256"><span class="linenos">256</span></a>    <span class="k">def</span> <span class="nf">get_num_tabs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="User-257"><a href="#User-257"><span class="linenos">257</span></a>        <span class="sd">&quot;&quot;&quot;Returns number of tabs open.&quot;&quot;&quot;</span>
</span><span id="User-258"><a href="#User-258"><span class="linenos">258</span></a>        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">window_handles</span><span class="p">)</span>
</span><span id="User-259"><a href="#User-259"><span class="linenos">259</span></a>
</span><span id="User-260"><a href="#User-260"><span class="linenos">260</span></a>    <span class="k">def</span> <span class="nf">close_tab</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tab_index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">):</span>
</span><span id="User-261"><a href="#User-261"><span class="linenos">261</span></a>        <span class="sd">&quot;&quot;&quot;Close specified tab and</span>
</span><span id="User-262"><a href="#User-262"><span class="linenos">262</span></a><span class="sd">        switches to tab index 0.&quot;&quot;&quot;</span>
</span><span id="User-263"><a href="#User-263"><span class="linenos">263</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">switch_to_tab</span><span class="p">(</span><span class="n">tab_index</span><span class="p">)</span>
</span><span id="User-264"><a href="#User-264"><span class="linenos">264</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="User-265"><a href="#User-265"><span class="linenos">265</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">switch_to_tab</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="User-266"><a href="#User-266"><span class="linenos">266</span></a>
</span><span id="User-267"><a href="#User-267"><span class="linenos">267</span></a>    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="User-268"><a href="#User-268"><span class="linenos">268</span></a>        <span class="sd">&quot;&quot;&quot;Requests webpage at given url and rotates userAgent if necessary.&quot;&quot;&quot;</span>
</span><span id="User-269"><a href="#User-269"><span class="linenos">269</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser_open</span><span class="p">:</span>
</span><span id="User-270"><a href="#User-270"><span class="linenos">270</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">open_browser</span><span class="p">()</span>
</span><span id="User-271"><a href="#User-271"><span class="linenos">271</span></a>        <span class="k">if</span> <span class="p">(</span>
</span><span id="User-272"><a href="#User-272"><span class="linenos">272</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">randomize_user_agent</span>
</span><span id="User-273"><a href="#User-273"><span class="linenos">273</span></a>            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_agent_rotation_period</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</span><span id="User-274"><a href="#User-274"><span class="linenos">274</span></a>            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">rotation_timer</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="User-275"><a href="#User-275"><span class="linenos">275</span></a>            <span class="o">&gt;</span> <span class="p">(</span><span class="mi">60</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_agent_rotation_period</span><span class="p">)</span>
</span><span id="User-276"><a href="#User-276"><span class="linenos">276</span></a>        <span class="p">):</span>
</span><span id="User-277"><a href="#User-277"><span class="linenos">277</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">rotation_timer</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</span><span id="User-278"><a href="#User-278"><span class="linenos">278</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">close_browser</span><span class="p">()</span>
</span><span id="User-279"><a href="#User-279"><span class="linenos">279</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">open_browser</span><span class="p">()</span>
</span><span id="User-280"><a href="#User-280"><span class="linenos">280</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</span><span id="User-281"><a href="#User-281"><span class="linenos">281</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="s2">&quot;Object.defineProperty(navigator, &#39;webdriver&#39;, {get: () =&gt; false})&quot;</span><span class="p">)</span>
</span><span id="User-282"><a href="#User-282"><span class="linenos">282</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arrival_wait</span><span class="p">)</span>
</span><span id="User-283"><a href="#User-283"><span class="linenos">283</span></a>
</span><span id="User-284"><a href="#User-284"><span class="linenos">284</span></a>    <span class="k">def</span> <span class="nf">get_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BeautifulSoup</span><span class="p">:</span>
</span><span id="User-285"><a href="#User-285"><span class="linenos">285</span></a>        <span class="sd">&quot;&quot;&quot;Returns a BeautifulSoup object</span>
</span><span id="User-286"><a href="#User-286"><span class="linenos">286</span></a><span class="sd">        of the current page source.&quot;&quot;&quot;</span>
</span><span id="User-287"><a href="#User-287"><span class="linenos">287</span></a>        <span class="k">return</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">page_source</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>
</span><span id="User-288"><a href="#User-288"><span class="linenos">288</span></a>
</span><span id="User-289"><a href="#User-289"><span class="linenos">289</span></a>    <span class="k">def</span> <span class="nf">current_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="User-290"><a href="#User-290"><span class="linenos">290</span></a>        <span class="sd">&quot;&quot;&quot;Returns current url of active tab.&quot;&quot;&quot;</span>
</span><span id="User-291"><a href="#User-291"><span class="linenos">291</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">current_url</span>
</span><span id="User-292"><a href="#User-292"><span class="linenos">292</span></a>
</span><span id="User-293"><a href="#User-293"><span class="linenos">293</span></a>    <span class="k">def</span> <span class="nf">delete_cookies</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="User-294"><a href="#User-294"><span class="linenos">294</span></a>        <span class="sd">&quot;&quot;&quot;Delete all cookies for</span>
</span><span id="User-295"><a href="#User-295"><span class="linenos">295</span></a><span class="sd">        this browser instance.&quot;&quot;&quot;</span>
</span><span id="User-296"><a href="#User-296"><span class="linenos">296</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">delete_all_cookies</span><span class="p">()</span>
</span><span id="User-297"><a href="#User-297"><span class="linenos">297</span></a>
</span><span id="User-298"><a href="#User-298"><span class="linenos">298</span></a>    <span class="k">def</span> <span class="nf">turbo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">engage</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
</span><span id="User-299"><a href="#User-299"><span class="linenos">299</span></a>        <span class="sd">&quot;&quot;&quot;When engaged, strings will be sent</span>
</span><span id="User-300"><a href="#User-300"><span class="linenos">300</span></a><span class="sd">        to elements all at once and there will be</span>
</span><span id="User-301"><a href="#User-301"><span class="linenos">301</span></a><span class="sd">        no waiting after actions.</span>
</span><span id="User-302"><a href="#User-302"><span class="linenos">302</span></a>
</span><span id="User-303"><a href="#User-303"><span class="linenos">303</span></a><span class="sd">        When disengaged, strings will be sent to elements</span>
</span><span id="User-304"><a href="#User-304"><span class="linenos">304</span></a><span class="sd">        &#39;one key at a time&#39; with randomized amounts of</span>
</span><span id="User-305"><a href="#User-305"><span class="linenos">305</span></a><span class="sd">        time between successive keys and after actions.&quot;&quot;&quot;</span>
</span><span id="User-306"><a href="#User-306"><span class="linenos">306</span></a>        <span class="k">if</span> <span class="n">engage</span><span class="p">:</span>
</span><span id="User-307"><a href="#User-307"><span class="linenos">307</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">after_key_wait</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="User-308"><a href="#User-308"><span class="linenos">308</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">after_field_wait</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="User-309"><a href="#User-309"><span class="linenos">309</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">after_click_wait</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="User-310"><a href="#User-310"><span class="linenos">310</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">arrival_wait</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="User-311"><a href="#User-311"><span class="linenos">311</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">one_key_at_a_time</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="User-312"><a href="#User-312"><span class="linenos">312</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">turbo_engaged</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="User-313"><a href="#User-313"><span class="linenos">313</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="User-314"><a href="#User-314"><span class="linenos">314</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">after_key_wait</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
</span><span id="User-315"><a href="#User-315"><span class="linenos">315</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">after_field_wait</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="User-316"><a href="#User-316"><span class="linenos">316</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">after_click_wait</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">)</span>
</span><span id="User-317"><a href="#User-317"><span class="linenos">317</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">arrival_wait</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</span><span id="User-318"><a href="#User-318"><span class="linenos">318</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">one_key_at_a_time</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="User-319"><a href="#User-319"><span class="linenos">319</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">turbo_engaged</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="User-320"><a href="#User-320"><span class="linenos">320</span></a>
</span><span id="User-321"><a href="#User-321"><span class="linenos">321</span></a>    <span class="k">def</span> <span class="nf">chill</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">min_max</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]):</span>
</span><span id="User-322"><a href="#User-322"><span class="linenos">322</span></a>        <span class="sd">&quot;&quot;&quot;Sleeps a random amount</span>
</span><span id="User-323"><a href="#User-323"><span class="linenos">323</span></a><span class="sd">        between min_max[0] and min_max[1].&quot;&quot;&quot;</span>
</span><span id="User-324"><a href="#User-324"><span class="linenos">324</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">min_max</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">min_max</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
</span><span id="User-325"><a href="#User-325"><span class="linenos">325</span></a>
</span><span id="User-326"><a href="#User-326"><span class="linenos">326</span></a>    <span class="k">def</span> <span class="nf">script</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">script</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
</span><span id="User-327"><a href="#User-327"><span class="linenos">327</span></a>        <span class="sd">&quot;&quot;&quot;Execute javascript code and returns result.&quot;&quot;&quot;</span>
</span><span id="User-328"><a href="#User-328"><span class="linenos">328</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">execute_script</span><span class="p">(</span><span class="n">script</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
</span><span id="User-329"><a href="#User-329"><span class="linenos">329</span></a>
</span><span id="User-330"><a href="#User-330"><span class="linenos">330</span></a>    <span class="k">def</span> <span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="User-331"><a href="#User-331"><span class="linenos">331</span></a>        <span class="sd">&quot;&quot;&quot;Removes element from DOM.&quot;&quot;&quot;</span>
</span><span id="User-332"><a href="#User-332"><span class="linenos">332</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="s2">&quot;arguments[0].remove();&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">locator</span><span class="p">))</span>
</span><span id="User-333"><a href="#User-333"><span class="linenos">333</span></a>
</span><span id="User-334"><a href="#User-334"><span class="linenos">334</span></a>    <span class="k">def</span> <span class="nf">get_length</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="User-335"><a href="#User-335"><span class="linenos">335</span></a>        <span class="sd">&quot;&quot;&quot;Returns number of child elements for a given element.&quot;&quot;&quot;</span>
</span><span id="User-336"><a href="#User-336"><span class="linenos">336</span></a>        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="s2">&quot;return arguments[0].length;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">locator</span><span class="p">)))</span>
</span><span id="User-337"><a href="#User-337"><span class="linenos">337</span></a>
</span><span id="User-338"><a href="#User-338"><span class="linenos">338</span></a>    <span class="k">def</span> <span class="nf">find</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WebElement</span><span class="p">:</span>
</span><span id="User-339"><a href="#User-339"><span class="linenos">339</span></a>        <span class="sd">&quot;&quot;&quot;Finds and returns a WebElement.&quot;&quot;&quot;</span>
</span><span id="User-340"><a href="#User-340"><span class="linenos">340</span></a>        <span class="k">match</span> <span class="bp">self</span><span class="o">.</span><span class="n">locator_method</span><span class="p">:</span>
</span><span id="User-341"><a href="#User-341"><span class="linenos">341</span></a>            <span class="k">case</span> <span class="s2">&quot;xpath&quot;</span><span class="p">:</span>
</span><span id="User-342"><a href="#User-342"><span class="linenos">342</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">XPATH</span><span class="p">,</span> <span class="n">locator</span><span class="p">)</span>
</span><span id="User-343"><a href="#User-343"><span class="linenos">343</span></a>            <span class="k">case</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span>
</span><span id="User-344"><a href="#User-344"><span class="linenos">344</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">ID</span><span class="p">,</span> <span class="n">locator</span><span class="p">)</span>
</span><span id="User-345"><a href="#User-345"><span class="linenos">345</span></a>            <span class="k">case</span> <span class="s2">&quot;className&quot;</span><span class="p">:</span>
</span><span id="User-346"><a href="#User-346"><span class="linenos">346</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">CLASS_NAME</span><span class="p">,</span> <span class="n">locator</span><span class="p">)</span>
</span><span id="User-347"><a href="#User-347"><span class="linenos">347</span></a>            <span class="k">case</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span>
</span><span id="User-348"><a href="#User-348"><span class="linenos">348</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span> <span class="n">locator</span><span class="p">)</span>
</span><span id="User-349"><a href="#User-349"><span class="linenos">349</span></a>            <span class="k">case</span> <span class="s2">&quot;cssSelector&quot;</span><span class="p">:</span>
</span><span id="User-350"><a href="#User-350"><span class="linenos">350</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">CSS_SELECTOR</span><span class="p">,</span> <span class="n">locator</span><span class="p">)</span>
</span><span id="User-351"><a href="#User-351"><span class="linenos">351</span></a>
</span><span id="User-352"><a href="#User-352"><span class="linenos">352</span></a>    <span class="k">def</span> <span class="nf">find_children</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">WebElement</span><span class="p">]:</span>
</span><span id="User-353"><a href="#User-353"><span class="linenos">353</span></a>        <span class="sd">&quot;&quot;&quot;Returns a list of child WebElements</span>
</span><span id="User-354"><a href="#User-354"><span class="linenos">354</span></a><span class="sd">        for given locator arg.&quot;&quot;&quot;</span>
</span><span id="User-355"><a href="#User-355"><span class="linenos">355</span></a>        <span class="n">element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">locator</span><span class="p">)</span>
</span><span id="User-356"><a href="#User-356"><span class="linenos">356</span></a>        <span class="k">return</span> <span class="n">element</span><span class="o">.</span><span class="n">find_elements</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;./*&quot;</span><span class="p">)</span>
</span><span id="User-357"><a href="#User-357"><span class="linenos">357</span></a>
</span><span id="User-358"><a href="#User-358"><span class="linenos">358</span></a>    <span class="k">def</span> <span class="nf">scroll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">fraction</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="User-359"><a href="#User-359"><span class="linenos">359</span></a>        <span class="sd">&quot;&quot;&quot;Scroll web page.</span>
</span><span id="User-360"><a href="#User-360"><span class="linenos">360</span></a><span class="sd">        :param amount: The number of lines to scroll if not None.</span>
</span><span id="User-361"><a href="#User-361"><span class="linenos">361</span></a>
</span><span id="User-362"><a href="#User-362"><span class="linenos">362</span></a><span class="sd">        :param fraction: The amount between 0.0 and 1.0</span>
</span><span id="User-363"><a href="#User-363"><span class="linenos">363</span></a><span class="sd">        of the page height to scroll.</span>
</span><span id="User-364"><a href="#User-364"><span class="linenos">364</span></a>
</span><span id="User-365"><a href="#User-365"><span class="linenos">365</span></a><span class="sd">        If values are provided for both arguments,</span>
</span><span id="User-366"><a href="#User-366"><span class="linenos">366</span></a><span class="sd">        amount will be used.</span>
</span><span id="User-367"><a href="#User-367"><span class="linenos">367</span></a>
</span><span id="User-368"><a href="#User-368"><span class="linenos">368</span></a><span class="sd">        If values are provided for neither argument,</span>
</span><span id="User-369"><a href="#User-369"><span class="linenos">369</span></a><span class="sd">        the entire page length will be scrolled.</span>
</span><span id="User-370"><a href="#User-370"><span class="linenos">370</span></a>
</span><span id="User-371"><a href="#User-371"><span class="linenos">371</span></a><span class="sd">        Scrolls one line at a time if self.turbo is False.&quot;&quot;&quot;</span>
</span><span id="User-372"><a href="#User-372"><span class="linenos">372</span></a>        <span class="k">if</span> <span class="n">amount</span><span class="p">:</span>
</span><span id="User-373"><a href="#User-373"><span class="linenos">373</span></a>            <span class="n">amount_to_scroll</span> <span class="o">=</span> <span class="n">amount</span>
</span><span id="User-374"><a href="#User-374"><span class="linenos">374</span></a>        <span class="k">elif</span> <span class="n">fraction</span><span class="p">:</span>
</span><span id="User-375"><a href="#User-375"><span class="linenos">375</span></a>            <span class="n">amount_to_scroll</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span>
</span><span id="User-376"><a href="#User-376"><span class="linenos">376</span></a>                <span class="n">fraction</span>
</span><span id="User-377"><a href="#User-377"><span class="linenos">377</span></a>                <span class="o">*</span> <span class="p">(</span>
</span><span id="User-378"><a href="#User-378"><span class="linenos">378</span></a>                    <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="s2">&quot;return document.body.scrollHeight;&quot;</span><span class="p">))</span>
</span><span id="User-379"><a href="#User-379"><span class="linenos">379</span></a>                    <span class="o">-</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="s2">&quot;return window.pageYOffset;&quot;</span><span class="p">))</span>
</span><span id="User-380"><a href="#User-380"><span class="linenos">380</span></a>                <span class="p">)</span>
</span><span id="User-381"><a href="#User-381"><span class="linenos">381</span></a>            <span class="p">)</span>
</span><span id="User-382"><a href="#User-382"><span class="linenos">382</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="User-383"><a href="#User-383"><span class="linenos">383</span></a>            <span class="n">amount_to_scroll</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="s2">&quot;return document.body.scrollHeight;&quot;</span><span class="p">))</span>
</span><span id="User-384"><a href="#User-384"><span class="linenos">384</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">turbo_engaged</span><span class="p">:</span>
</span><span id="User-385"><a href="#User-385"><span class="linenos">385</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="s2">&quot;window.scrollBy(0,arguments[0]);&quot;</span><span class="p">,</span> <span class="n">amount_to_scroll</span><span class="p">)</span>
</span><span id="User-386"><a href="#User-386"><span class="linenos">386</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="User-387"><a href="#User-387"><span class="linenos">387</span></a>            <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">amount_to_scroll</span><span class="p">)):</span>
</span><span id="User-388"><a href="#User-388"><span class="linenos">388</span></a>                <span class="k">if</span> <span class="n">amount_to_scroll</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="User-389"><a href="#User-389"><span class="linenos">389</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="s2">&quot;window.scrollBy(0,1);&quot;</span><span class="p">)</span>
</span><span id="User-390"><a href="#User-390"><span class="linenos">390</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="User-391"><a href="#User-391"><span class="linenos">391</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="s2">&quot;window.scrollBy(0,-1);&quot;</span><span class="p">)</span>
</span><span id="User-392"><a href="#User-392"><span class="linenos">392</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_click_wait</span><span class="p">)</span>
</span><span id="User-393"><a href="#User-393"><span class="linenos">393</span></a>
</span><span id="User-394"><a href="#User-394"><span class="linenos">394</span></a>    <span class="k">def</span> <span class="nf">scroll_into_view</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WebElement</span><span class="p">:</span>
</span><span id="User-395"><a href="#User-395"><span class="linenos">395</span></a>        <span class="sd">&quot;&quot;&quot;Scrolls to a given element and returns the element.&quot;&quot;&quot;</span>
</span><span id="User-396"><a href="#User-396"><span class="linenos">396</span></a>        <span class="n">element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">locator</span><span class="p">)</span>
</span><span id="User-397"><a href="#User-397"><span class="linenos">397</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="s2">&quot;arguments[0].scroll_into_view();&quot;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
</span><span id="User-398"><a href="#User-398"><span class="linenos">398</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_click_wait</span><span class="p">)</span>
</span><span id="User-399"><a href="#User-399"><span class="linenos">399</span></a>        <span class="k">return</span> <span class="n">element</span>
</span><span id="User-400"><a href="#User-400"><span class="linenos">400</span></a>
</span><span id="User-401"><a href="#User-401"><span class="linenos">401</span></a>    <span class="k">def</span> <span class="nf">text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="User-402"><a href="#User-402"><span class="linenos">402</span></a>        <span class="sd">&quot;&quot;&quot;Returns text of WebElement.&quot;&quot;&quot;</span>
</span><span id="User-403"><a href="#User-403"><span class="linenos">403</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">locator</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
</span><span id="User-404"><a href="#User-404"><span class="linenos">404</span></a>
</span><span id="User-405"><a href="#User-405"><span class="linenos">405</span></a>    <span class="k">def</span> <span class="nf">click</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WebElement</span><span class="p">:</span>
</span><span id="User-406"><a href="#User-406"><span class="linenos">406</span></a>        <span class="sd">&quot;&quot;&quot;Clicks on and returns WebElement.&quot;&quot;&quot;</span>
</span><span id="User-407"><a href="#User-407"><span class="linenos">407</span></a>        <span class="n">element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">locator</span><span class="p">)</span>
</span><span id="User-408"><a href="#User-408"><span class="linenos">408</span></a>        <span class="n">element</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
</span><span id="User-409"><a href="#User-409"><span class="linenos">409</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_click_wait</span><span class="p">)</span>
</span><span id="User-410"><a href="#User-410"><span class="linenos">410</span></a>        <span class="k">return</span> <span class="n">element</span>
</span><span id="User-411"><a href="#User-411"><span class="linenos">411</span></a>
</span><span id="User-412"><a href="#User-412"><span class="linenos">412</span></a>    <span class="k">def</span> <span class="nf">clear</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WebElement</span><span class="p">:</span>
</span><span id="User-413"><a href="#User-413"><span class="linenos">413</span></a>        <span class="sd">&quot;&quot;&quot;Clears content of WebElement if able</span>
</span><span id="User-414"><a href="#User-414"><span class="linenos">414</span></a><span class="sd">        and then returns WebElement.&quot;&quot;&quot;</span>
</span><span id="User-415"><a href="#User-415"><span class="linenos">415</span></a>        <span class="n">element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">locator</span><span class="p">)</span>
</span><span id="User-416"><a href="#User-416"><span class="linenos">416</span></a>        <span class="n">element</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="User-417"><a href="#User-417"><span class="linenos">417</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_click_wait</span><span class="p">)</span>
</span><span id="User-418"><a href="#User-418"><span class="linenos">418</span></a>        <span class="k">return</span> <span class="n">element</span>
</span><span id="User-419"><a href="#User-419"><span class="linenos">419</span></a>
</span><span id="User-420"><a href="#User-420"><span class="linenos">420</span></a>    <span class="k">def</span> <span class="nf">switch_to_iframe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="User-421"><a href="#User-421"><span class="linenos">421</span></a>        <span class="sd">&quot;&quot;&quot;Switch to an iframe from given locator.&quot;&quot;&quot;</span>
</span><span id="User-422"><a href="#User-422"><span class="linenos">422</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">switch_to</span><span class="o">.</span><span class="n">frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">locator</span><span class="p">))</span>
</span><span id="User-423"><a href="#User-423"><span class="linenos">423</span></a>
</span><span id="User-424"><a href="#User-424"><span class="linenos">424</span></a>    <span class="k">def</span> <span class="nf">switch_to_parent_frame</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="User-425"><a href="#User-425"><span class="linenos">425</span></a>        <span class="sd">&quot;&quot;&quot;Move up a frame level from current frame.&quot;&quot;&quot;</span>
</span><span id="User-426"><a href="#User-426"><span class="linenos">426</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">switch_to</span><span class="o">.</span><span class="n">parent_frame</span><span class="p">()</span>
</span><span id="User-427"><a href="#User-427"><span class="linenos">427</span></a>
</span><span id="User-428"><a href="#User-428"><span class="linenos">428</span></a>    <span class="k">def</span> <span class="nf">select</span><span class="p">(</span>
</span><span id="User-429"><a href="#User-429"><span class="linenos">429</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">choice</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">tuple</span>
</span><span id="User-430"><a href="#User-430"><span class="linenos">430</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WebElement</span><span class="p">:</span>
</span><span id="User-431"><a href="#User-431"><span class="linenos">431</span></a>        <span class="sd">&quot;&quot;&quot;Select a choice from Select element.</span>
</span><span id="User-432"><a href="#User-432"><span class="linenos">432</span></a><span class="sd">        Returns the Select element from the locator string,</span>
</span><span id="User-433"><a href="#User-433"><span class="linenos">433</span></a><span class="sd">        not the option element that is selected.</span>
</span><span id="User-434"><a href="#User-434"><span class="linenos">434</span></a>
</span><span id="User-435"><a href="#User-435"><span class="linenos">435</span></a><span class="sd">        :param method: Can be &#39;value&#39; or &#39;index&#39;</span>
</span><span id="User-436"><a href="#User-436"><span class="linenos">436</span></a>
</span><span id="User-437"><a href="#User-437"><span class="linenos">437</span></a><span class="sd">        :param choice: The option to select.</span>
</span><span id="User-438"><a href="#User-438"><span class="linenos">438</span></a>
</span><span id="User-439"><a href="#User-439"><span class="linenos">439</span></a><span class="sd">        If method is &#39;value&#39;, then choice should be</span>
</span><span id="User-440"><a href="#User-440"><span class="linenos">440</span></a><span class="sd">        the html &#39;value&#39; attribute of the desired option.</span>
</span><span id="User-441"><a href="#User-441"><span class="linenos">441</span></a>
</span><span id="User-442"><a href="#User-442"><span class="linenos">442</span></a><span class="sd">        If method is &#39;index&#39;, choice can either be a single</span>
</span><span id="User-443"><a href="#User-443"><span class="linenos">443</span></a><span class="sd">        int for the desired option or it can be a two-tuple.</span>
</span><span id="User-444"><a href="#User-444"><span class="linenos">444</span></a><span class="sd">        If the tuple is provided, a random option between the</span>
</span><span id="User-445"><a href="#User-445"><span class="linenos">445</span></a><span class="sd">        two indicies (inclusive) will be selected.&quot;&quot;&quot;</span>
</span><span id="User-446"><a href="#User-446"><span class="linenos">446</span></a>        <span class="n">element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="n">locator</span><span class="p">)</span>
</span><span id="User-447"><a href="#User-447"><span class="linenos">447</span></a>        <span class="k">match</span> <span class="n">method</span><span class="p">:</span>
</span><span id="User-448"><a href="#User-448"><span class="linenos">448</span></a>            <span class="k">case</span> <span class="s2">&quot;value&quot;</span><span class="p">:</span>
</span><span id="User-449"><a href="#User-449"><span class="linenos">449</span></a>                <span class="n">Select</span><span class="p">(</span><span class="n">element</span><span class="p">)</span><span class="o">.</span><span class="n">select_by_value</span><span class="p">(</span><span class="n">choice</span><span class="p">)</span>
</span><span id="User-450"><a href="#User-450"><span class="linenos">450</span></a>            <span class="k">case</span> <span class="s2">&quot;index&quot;</span><span class="p">:</span>
</span><span id="User-451"><a href="#User-451"><span class="linenos">451</span></a>                <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">choice</span><span class="p">)</span> <span class="o">==</span> <span class="nb">tuple</span><span class="p">:</span>
</span><span id="User-452"><a href="#User-452"><span class="linenos">452</span></a>                    <span class="n">choice</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">choice</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">choice</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="User-453"><a href="#User-453"><span class="linenos">453</span></a>                <span class="n">Select</span><span class="p">(</span><span class="n">element</span><span class="p">)</span><span class="o">.</span><span class="n">select_by_index</span><span class="p">(</span><span class="n">choice</span><span class="p">)</span>
</span><span id="User-454"><a href="#User-454"><span class="linenos">454</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_field_wait</span><span class="p">)</span>
</span><span id="User-455"><a href="#User-455"><span class="linenos">455</span></a>        <span class="k">return</span> <span class="n">element</span>
</span><span id="User-456"><a href="#User-456"><span class="linenos">456</span></a>
</span><span id="User-457"><a href="#User-457"><span class="linenos">457</span></a>    <span class="k">def</span> <span class="nf">click_elements</span><span class="p">(</span>
</span><span id="User-458"><a href="#User-458"><span class="linenos">458</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">locators</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">max_selections</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">min_selections</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="User-459"><a href="#User-459"><span class="linenos">459</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WebElement</span><span class="p">:</span>
</span><span id="User-460"><a href="#User-460"><span class="linenos">460</span></a>        <span class="sd">&quot;&quot;&quot;Click a random number of WebElements</span>
</span><span id="User-461"><a href="#User-461"><span class="linenos">461</span></a><span class="sd">        and return the last WebElement clicked.</span>
</span><span id="User-462"><a href="#User-462"><span class="linenos">462</span></a>
</span><span id="User-463"><a href="#User-463"><span class="linenos">463</span></a><span class="sd">        :param locators: A list of element locators to choose from.</span>
</span><span id="User-464"><a href="#User-464"><span class="linenos">464</span></a>
</span><span id="User-465"><a href="#User-465"><span class="linenos">465</span></a><span class="sd">        :param max_selections: The maximum number of elements to click.</span>
</span><span id="User-466"><a href="#User-466"><span class="linenos">466</span></a><span class="sd">        If None, the maximum will be the length of the locators list.</span>
</span><span id="User-467"><a href="#User-467"><span class="linenos">467</span></a>
</span><span id="User-468"><a href="#User-468"><span class="linenos">468</span></a><span class="sd">        :param min_selections: The minimum number of elements to click.</span>
</span><span id="User-469"><a href="#User-469"><span class="linenos">469</span></a>
</span><span id="User-470"><a href="#User-470"><span class="linenos">470</span></a><span class="sd">        e.g. self.click_elements([xpath1, xpath2, xpath3, xpath4], max_selections=3)</span>
</span><span id="User-471"><a href="#User-471"><span class="linenos">471</span></a><span class="sd">        will click between 1 and 3 random elements from the list.</span>
</span><span id="User-472"><a href="#User-472"><span class="linenos">472</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="User-473"><a href="#User-473"><span class="linenos">473</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">max_selections</span><span class="p">:</span>
</span><span id="User-474"><a href="#User-474"><span class="linenos">474</span></a>            <span class="n">max_selections</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">locators</span><span class="p">)</span>
</span><span id="User-475"><a href="#User-475"><span class="linenos">475</span></a>        <span class="k">for</span> <span class="n">option</span> <span class="ow">in</span> <span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span>
</span><span id="User-476"><a href="#User-476"><span class="linenos">476</span></a>            <span class="n">locators</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">min_selections</span><span class="p">,</span> <span class="n">max_selections</span><span class="p">)</span>
</span><span id="User-477"><a href="#User-477"><span class="linenos">477</span></a>        <span class="p">):</span>
</span><span id="User-478"><a href="#User-478"><span class="linenos">478</span></a>            <span class="n">element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
</span><span id="User-479"><a href="#User-479"><span class="linenos">479</span></a>        <span class="k">return</span> <span class="n">element</span>
</span><span id="User-480"><a href="#User-480"><span class="linenos">480</span></a>
</span><span id="User-481"><a href="#User-481"><span class="linenos">481</span></a>    <span class="k">def</span> <span class="nf">get_click_list</span><span class="p">(</span>
</span><span id="User-482"><a href="#User-482"><span class="linenos">482</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">num_options</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">max_choices</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">min_choices</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="User-483"><a href="#User-483"><span class="linenos">483</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="User-484"><a href="#User-484"><span class="linenos">484</span></a>        <span class="sd">&quot;&quot;&quot;Similar to self.click_elements(), but for use with the self.fill_next() method.</span>
</span><span id="User-485"><a href="#User-485"><span class="linenos">485</span></a>
</span><span id="User-486"><a href="#User-486"><span class="linenos">486</span></a><span class="sd">        Creates a list of length &#39;num_options&#39; where every element is &#39;skip&#39;.</span>
</span><span id="User-487"><a href="#User-487"><span class="linenos">487</span></a>
</span><span id="User-488"><a href="#User-488"><span class="linenos">488</span></a><span class="sd">        A random number of elements in the list between &#39;min_choices&#39; and &#39;max_choices&#39; are</span>
</span><span id="User-489"><a href="#User-489"><span class="linenos">489</span></a><span class="sd">        replaced with &#39;keys.SPACE&#39; (interpreted as a click by almost all web forms).&quot;&quot;&quot;</span>
</span><span id="User-490"><a href="#User-490"><span class="linenos">490</span></a>        <span class="n">click_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;skip&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">num_options</span>
</span><span id="User-491"><a href="#User-491"><span class="linenos">491</span></a>        <span class="n">selected_indexes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="User-492"><a href="#User-492"><span class="linenos">492</span></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">min_choices</span><span class="p">,</span> <span class="n">max_choices</span><span class="p">)):</span>
</span><span id="User-493"><a href="#User-493"><span class="linenos">493</span></a>            <span class="n">index</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">num_options</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="User-494"><a href="#User-494"><span class="linenos">494</span></a>            <span class="k">while</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">selected_indexes</span><span class="p">:</span>
</span><span id="User-495"><a href="#User-495"><span class="linenos">495</span></a>                <span class="n">index</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">num_options</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="User-496"><a href="#User-496"><span class="linenos">496</span></a>            <span class="n">selected_indexes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
</span><span id="User-497"><a href="#User-497"><span class="linenos">497</span></a>            <span class="n">click_list</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">SPACE</span>
</span><span id="User-498"><a href="#User-498"><span class="linenos">498</span></a>        <span class="k">return</span> <span class="n">click_list</span>
</span><span id="User-499"><a href="#User-499"><span class="linenos">499</span></a>
</span><span id="User-500"><a href="#User-500"><span class="linenos">500</span></a>    <span class="k">def</span> <span class="nf">send_keys</span><span class="p">(</span>
</span><span id="User-501"><a href="#User-501"><span class="linenos">501</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="User-502"><a href="#User-502"><span class="linenos">502</span></a>        <span class="n">locator</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="User-503"><a href="#User-503"><span class="linenos">503</span></a>        <span class="n">data</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="User-504"><a href="#User-504"><span class="linenos">504</span></a>        <span class="n">click_first</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="User-505"><a href="#User-505"><span class="linenos">505</span></a>        <span class="n">clear_first</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="User-506"><a href="#User-506"><span class="linenos">506</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WebElement</span><span class="p">:</span>
</span><span id="User-507"><a href="#User-507"><span class="linenos">507</span></a>        <span class="sd">&quot;&quot;&quot;Types data into element and returns the element.</span>
</span><span id="User-508"><a href="#User-508"><span class="linenos">508</span></a>
</span><span id="User-509"><a href="#User-509"><span class="linenos">509</span></a><span class="sd">        :param data: The string to send to the element.</span>
</span><span id="User-510"><a href="#User-510"><span class="linenos">510</span></a>
</span><span id="User-511"><a href="#User-511"><span class="linenos">511</span></a><span class="sd">        :param click_first: If True, the element is clicked on</span>
</span><span id="User-512"><a href="#User-512"><span class="linenos">512</span></a><span class="sd">        before the data is sent.</span>
</span><span id="User-513"><a href="#User-513"><span class="linenos">513</span></a>
</span><span id="User-514"><a href="#User-514"><span class="linenos">514</span></a><span class="sd">        :param clear_first: If True, the current text of the element</span>
</span><span id="User-515"><a href="#User-515"><span class="linenos">515</span></a><span class="sd">        is cleared before the data is sent.&quot;&quot;&quot;</span>
</span><span id="User-516"><a href="#User-516"><span class="linenos">516</span></a>        <span class="n">element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="n">locator</span><span class="p">)</span> <span class="k">if</span> <span class="n">click_first</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">locator</span><span class="p">)</span>
</span><span id="User-517"><a href="#User-517"><span class="linenos">517</span></a>        <span class="k">if</span> <span class="n">clear_first</span><span class="p">:</span>
</span><span id="User-518"><a href="#User-518"><span class="linenos">518</span></a>            <span class="n">element</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="User-519"><a href="#User-519"><span class="linenos">519</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_click_wait</span><span class="p">)</span>
</span><span id="User-520"><a href="#User-520"><span class="linenos">520</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">one_key_at_a_time</span><span class="p">:</span>
</span><span id="User-521"><a href="#User-521"><span class="linenos">521</span></a>            <span class="k">for</span> <span class="n">ch</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
</span><span id="User-522"><a href="#User-522"><span class="linenos">522</span></a>                <span class="n">element</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">ch</span><span class="p">)</span>
</span><span id="User-523"><a href="#User-523"><span class="linenos">523</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_key_wait</span><span class="p">)</span>
</span><span id="User-524"><a href="#User-524"><span class="linenos">524</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="User-525"><a href="#User-525"><span class="linenos">525</span></a>            <span class="n">element</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
</span><span id="User-526"><a href="#User-526"><span class="linenos">526</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_field_wait</span><span class="p">)</span>
</span><span id="User-527"><a href="#User-527"><span class="linenos">527</span></a>        <span class="k">return</span> <span class="n">element</span>
</span><span id="User-528"><a href="#User-528"><span class="linenos">528</span></a>
</span><span id="User-529"><a href="#User-529"><span class="linenos">529</span></a>    <span class="k">def</span> <span class="nf">fill_next</span><span class="p">(</span>
</span><span id="User-530"><a href="#User-530"><span class="linenos">530</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">],</span> <span class="n">start_element</span><span class="p">:</span> <span class="n">WebElement</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="User-531"><a href="#User-531"><span class="linenos">531</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WebElement</span><span class="p">:</span>
</span><span id="User-532"><a href="#User-532"><span class="linenos">532</span></a>        <span class="sd">&quot;&quot;&quot;Fills a form by tabbing from the current WebElement</span>
</span><span id="User-533"><a href="#User-533"><span class="linenos">533</span></a><span class="sd">        to the next one and using the corresponding item in data.</span>
</span><span id="User-534"><a href="#User-534"><span class="linenos">534</span></a><span class="sd">        Returns the last WebElement.</span>
</span><span id="User-535"><a href="#User-535"><span class="linenos">535</span></a>
</span><span id="User-536"><a href="#User-536"><span class="linenos">536</span></a><span class="sd">        :param data: A list of form data. If an item is a string (except for &#39;skip&#39;)</span>
</span><span id="User-537"><a href="#User-537"><span class="linenos">537</span></a><span class="sd">        it will be typed into the current WebElement.</span>
</span><span id="User-538"><a href="#User-538"><span class="linenos">538</span></a>
</span><span id="User-539"><a href="#User-539"><span class="linenos">539</span></a><span class="sd">        An item in data can be a two-tuple of the form</span>
</span><span id="User-540"><a href="#User-540"><span class="linenos">540</span></a><span class="sd">        (&#39;downArrow&#39;, numberOfPresses:int|tuple[int, int]).</span>
</span><span id="User-541"><a href="#User-541"><span class="linenos">541</span></a>
</span><span id="User-542"><a href="#User-542"><span class="linenos">542</span></a><span class="sd">        If numberOfPresses is a single int, Keys.ARROW_DOWN will be sent</span>
</span><span id="User-543"><a href="#User-543"><span class="linenos">543</span></a><span class="sd">        that many times to the WebElement.</span>
</span><span id="User-544"><a href="#User-544"><span class="linenos">544</span></a>
</span><span id="User-545"><a href="#User-545"><span class="linenos">545</span></a><span class="sd">        If numberOfPresses is a tuple, Keys.ARROW_DOWN will be sent a random</span>
</span><span id="User-546"><a href="#User-546"><span class="linenos">546</span></a><span class="sd">        number of times between numberOfPresses[0] and numberOfPresses[1] inclusive.</span>
</span><span id="User-547"><a href="#User-547"><span class="linenos">547</span></a><span class="sd">        This is typically for use with Select elements.</span>
</span><span id="User-548"><a href="#User-548"><span class="linenos">548</span></a>
</span><span id="User-549"><a href="#User-549"><span class="linenos">549</span></a><span class="sd">        An item in data can also be &#39;skip&#39;, which will perform no action on the current</span>
</span><span id="User-550"><a href="#User-550"><span class="linenos">550</span></a><span class="sd">        WebElement and will continue to the next one.</span>
</span><span id="User-551"><a href="#User-551"><span class="linenos">551</span></a>
</span><span id="User-552"><a href="#User-552"><span class="linenos">552</span></a><span class="sd">        :param start_element: The WebElement to start tabbing from.</span>
</span><span id="User-553"><a href="#User-553"><span class="linenos">553</span></a><span class="sd">        The currently active element will be used if start_element is None.</span>
</span><span id="User-554"><a href="#User-554"><span class="linenos">554</span></a>
</span><span id="User-555"><a href="#User-555"><span class="linenos">555</span></a><span class="sd">        Note: The function tabs to the next element before sending data,</span>
</span><span id="User-556"><a href="#User-556"><span class="linenos">556</span></a><span class="sd">        so the start_element should the WebElement before the one</span>
</span><span id="User-557"><a href="#User-557"><span class="linenos">557</span></a><span class="sd">        that should receive data[0].</span>
</span><span id="User-558"><a href="#User-558"><span class="linenos">558</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="User-559"><a href="#User-559"><span class="linenos">559</span></a>        <span class="n">element</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="User-560"><a href="#User-560"><span class="linenos">560</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">switch_to</span><span class="o">.</span><span class="n">active_element</span>
</span><span id="User-561"><a href="#User-561"><span class="linenos">561</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">start_element</span>
</span><span id="User-562"><a href="#User-562"><span class="linenos">562</span></a>            <span class="k">else</span> <span class="n">start_element</span>
</span><span id="User-563"><a href="#User-563"><span class="linenos">563</span></a>        <span class="p">)</span>
</span><span id="User-564"><a href="#User-564"><span class="linenos">564</span></a>        <span class="k">for</span> <span class="n">datum</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
</span><span id="User-565"><a href="#User-565"><span class="linenos">565</span></a>            <span class="n">element</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">Keys</span><span class="o">.</span><span class="n">TAB</span><span class="p">)</span>
</span><span id="User-566"><a href="#User-566"><span class="linenos">566</span></a>            <span class="n">element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">switch_to</span><span class="o">.</span><span class="n">active_element</span>
</span><span id="User-567"><a href="#User-567"><span class="linenos">567</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_key_wait</span><span class="p">)</span>
</span><span id="User-568"><a href="#User-568"><span class="linenos">568</span></a>            <span class="k">if</span> <span class="n">datum</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;downArrow&quot;</span><span class="p">:</span>
</span><span id="User-569"><a href="#User-569"><span class="linenos">569</span></a>                <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">datum</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">==</span> <span class="nb">tuple</span><span class="p">:</span>
</span><span id="User-570"><a href="#User-570"><span class="linenos">570</span></a>                    <span class="n">times</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">datum</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">datum</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
</span><span id="User-571"><a href="#User-571"><span class="linenos">571</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="User-572"><a href="#User-572"><span class="linenos">572</span></a>                    <span class="n">times</span> <span class="o">=</span> <span class="n">datum</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="User-573"><a href="#User-573"><span class="linenos">573</span></a>                <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">times</span><span class="p">):</span>
</span><span id="User-574"><a href="#User-574"><span class="linenos">574</span></a>                    <span class="n">element</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">Keys</span><span class="o">.</span><span class="n">ARROW_DOWN</span><span class="p">)</span>
</span><span id="User-575"><a href="#User-575"><span class="linenos">575</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_key_wait</span><span class="p">)</span>
</span><span id="User-576"><a href="#User-576"><span class="linenos">576</span></a>            <span class="k">elif</span> <span class="n">datum</span> <span class="o">==</span> <span class="s2">&quot;skip&quot;</span><span class="p">:</span>
</span><span id="User-577"><a href="#User-577"><span class="linenos">577</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_key_wait</span><span class="p">)</span>
</span><span id="User-578"><a href="#User-578"><span class="linenos">578</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="User-579"><a href="#User-579"><span class="linenos">579</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">turbo_engaged</span><span class="p">:</span>
</span><span id="User-580"><a href="#User-580"><span class="linenos">580</span></a>                    <span class="n">element</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">datum</span><span class="p">))</span>
</span><span id="User-581"><a href="#User-581"><span class="linenos">581</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="User-582"><a href="#User-582"><span class="linenos">582</span></a>                    <span class="k">for</span> <span class="n">ch</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">datum</span><span class="p">):</span>
</span><span id="User-583"><a href="#User-583"><span class="linenos">583</span></a>                        <span class="n">element</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">ch</span><span class="p">)</span>
</span><span id="User-584"><a href="#User-584"><span class="linenos">584</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_key_wait</span><span class="p">)</span>
</span><span id="User-585"><a href="#User-585"><span class="linenos">585</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_field_wait</span><span class="p">)</span>
</span><span id="User-586"><a href="#User-586"><span class="linenos">586</span></a>        <span class="k">return</span> <span class="n">element</span>
</span><span id="User-587"><a href="#User-587"><span class="linenos">587</span></a>
</span><span id="User-588"><a href="#User-588"><span class="linenos">588</span></a>    <span class="k">def</span> <span class="nf">wait_until</span><span class="p">(</span>
</span><span id="User-589"><a href="#User-589"><span class="linenos">589</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">condition</span><span class="p">:</span> <span class="n">LambdaType</span><span class="p">,</span> <span class="n">max_wait</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">polling_interval</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span>
</span><span id="User-590"><a href="#User-590"><span class="linenos">590</span></a>    <span class="p">):</span>
</span><span id="User-591"><a href="#User-591"><span class="linenos">591</span></a>        <span class="sd">&quot;&quot;&quot;Checks condition repeatedly until either it is true,</span>
</span><span id="User-592"><a href="#User-592"><span class="linenos">592</span></a><span class="sd">        or the max_wait is exceeded.</span>
</span><span id="User-593"><a href="#User-593"><span class="linenos">593</span></a>
</span><span id="User-594"><a href="#User-594"><span class="linenos">594</span></a><span class="sd">        Raises a TimeoutError if the condition doesn&#39;t success within max_wait.</span>
</span><span id="User-595"><a href="#User-595"><span class="linenos">595</span></a>
</span><span id="User-596"><a href="#User-596"><span class="linenos">596</span></a><span class="sd">        Useful for determing whether a form has been successfully submitted.</span>
</span><span id="User-597"><a href="#User-597"><span class="linenos">597</span></a>
</span><span id="User-598"><a href="#User-598"><span class="linenos">598</span></a><span class="sd">        :param condition: The condition function to check.</span>
</span><span id="User-599"><a href="#User-599"><span class="linenos">599</span></a>
</span><span id="User-600"><a href="#User-600"><span class="linenos">600</span></a><span class="sd">        :param max_wait: Number of seconds to continue checking condition</span>
</span><span id="User-601"><a href="#User-601"><span class="linenos">601</span></a><span class="sd">        before throwing a TimeoutError.</span>
</span><span id="User-602"><a href="#User-602"><span class="linenos">602</span></a>
</span><span id="User-603"><a href="#User-603"><span class="linenos">603</span></a><span class="sd">        :param polling_interval: The number of seconds to sleep before</span>
</span><span id="User-604"><a href="#User-604"><span class="linenos">604</span></a><span class="sd">        checking the condition function again after it fails.</span>
</span><span id="User-605"><a href="#User-605"><span class="linenos">605</span></a>
</span><span id="User-606"><a href="#User-606"><span class="linenos">606</span></a><span class="sd">        e.g. self.wait_until(lambda: &#39;Successfully Submitted&#39; in self.text(&#39;//p[@id=&quot;form-output&quot;]))&quot;&quot;&quot;</span>
</span><span id="User-607"><a href="#User-607"><span class="linenos">607</span></a>        <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</span><span id="User-608"><a href="#User-608"><span class="linenos">608</span></a>        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span><span id="User-609"><a href="#User-609"><span class="linenos">609</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="User-610"><a href="#User-610"><span class="linenos">610</span></a>                <span class="k">if</span> <span class="n">condition</span><span class="p">():</span>
</span><span id="User-611"><a href="#User-611"><span class="linenos">611</span></a>                    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="User-612"><a href="#User-612"><span class="linenos">612</span></a>                    <span class="k">break</span>
</span><span id="User-613"><a href="#User-613"><span class="linenos">613</span></a>                <span class="k">elif</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">max_wait</span><span class="p">:</span>
</span><span id="User-614"><a href="#User-614"><span class="linenos">614</span></a>                    <span class="k">raise</span> <span class="ne">TimeoutError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;max_wait exceeded in wait_until(</span><span class="si">{</span><span class="n">condition</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</span><span id="User-615"><a href="#User-615"><span class="linenos">615</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="User-616"><a href="#User-616"><span class="linenos">616</span></a>                    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">polling_interval</span><span class="p">)</span>
</span><span id="User-617"><a href="#User-617"><span class="linenos">617</span></a>            <span class="k">except</span><span class="p">:</span>
</span><span id="User-618"><a href="#User-618"><span class="linenos">618</span></a>                <span class="k">if</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">max_wait</span><span class="p">:</span>
</span><span id="User-619"><a href="#User-619"><span class="linenos">619</span></a>                    <span class="k">raise</span> <span class="ne">TimeoutError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;max_wait exceeded in wait_until(</span><span class="si">{</span><span class="n">condition</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</span><span id="User-620"><a href="#User-620"><span class="linenos">620</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="User-621"><a href="#User-621"><span class="linenos">621</span></a>                    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">polling_interval</span><span class="p">)</span>
</span><span id="User-622"><a href="#User-622"><span class="linenos">622</span></a>
</span><span id="User-623"><a href="#User-623"><span class="linenos">623</span></a>    <span class="k">def</span> <span class="nf">dismiss_alert</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="User-624"><a href="#User-624"><span class="linenos">624</span></a>        <span class="sd">&quot;&quot;&quot;Dismiss alert dialog.&quot;&quot;&quot;</span>
</span><span id="User-625"><a href="#User-625"><span class="linenos">625</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">switch_to</span><span class="o">.</span><span class="n">alert</span><span class="o">.</span><span class="n">dismiss</span><span class="p">()</span>
</span><span id="User-626"><a href="#User-626"><span class="linenos">626</span></a>
</span><span id="User-627"><a href="#User-627"><span class="linenos">627</span></a>    <span class="k">def</span> <span class="nf">solve_recaptcha_v3</span><span class="p">(</span>
</span><span id="User-628"><a href="#User-628"><span class="linenos">628</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="User-629"><a href="#User-629"><span class="linenos">629</span></a>        <span class="n">outer_iframe_xpath</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;//iframe[@title=&quot;reCAPTCHA&quot;]&#39;</span><span class="p">,</span>
</span><span id="User-630"><a href="#User-630"><span class="linenos">630</span></a>        <span class="n">inner_iframe_xpath</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;//iframe[@title=&quot;recaptcha challenge expires in two minutes&quot;]&#39;</span><span class="p">,</span>
</span><span id="User-631"><a href="#User-631"><span class="linenos">631</span></a>    <span class="p">):</span>
</span><span id="User-632"><a href="#User-632"><span class="linenos">632</span></a>        <span class="sd">&quot;&quot;&quot;Pass google recaptcha v3 by solving an audio puzzle.</span>
</span><span id="User-633"><a href="#User-633"><span class="linenos">633</span></a>
</span><span id="User-634"><a href="#User-634"><span class="linenos">634</span></a><span class="sd">        :param outer_iframe_xpath: Xpath to the iframe containing the recaptcha checkbox.</span>
</span><span id="User-635"><a href="#User-635"><span class="linenos">635</span></a><span class="sd">        If it&#39;s the recaptcha without the initial checkbox that just shows the image puzzle,</span>
</span><span id="User-636"><a href="#User-636"><span class="linenos">636</span></a><span class="sd">        pass None to this argument.</span>
</span><span id="User-637"><a href="#User-637"><span class="linenos">637</span></a>
</span><span id="User-638"><a href="#User-638"><span class="linenos">638</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="User-639"><a href="#User-639"><span class="linenos">639</span></a>        <span class="n">locator_method</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">locator_method</span>
</span><span id="User-640"><a href="#User-640"><span class="linenos">640</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">locator_method</span> <span class="o">=</span> <span class="s2">&quot;xpath&quot;</span>
</span><span id="User-641"><a href="#User-641"><span class="linenos">641</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="User-642"><a href="#User-642"><span class="linenos">642</span></a>            <span class="k">if</span> <span class="n">outer_iframe_xpath</span><span class="p">:</span>
</span><span id="User-643"><a href="#User-643"><span class="linenos">643</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">switch_to_iframe</span><span class="p">(</span><span class="n">outer_iframe_xpath</span><span class="p">)</span>
</span><span id="User-644"><a href="#User-644"><span class="linenos">644</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;recaptcha-anchor&quot;]&#39;</span><span class="p">)</span>
</span><span id="User-645"><a href="#User-645"><span class="linenos">645</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">switch_to_parent_frame</span><span class="p">()</span>
</span><span id="User-646"><a href="#User-646"><span class="linenos">646</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">switch_to_iframe</span><span class="p">(</span><span class="n">inner_iframe_xpath</span><span class="p">)</span>
</span><span id="User-647"><a href="#User-647"><span class="linenos">647</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;recaptcha-audio-button&quot;]&#39;</span><span class="p">)</span>
</span><span id="User-648"><a href="#User-648"><span class="linenos">648</span></a>            <span class="n">mp3_url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span>
</span><span id="User-649"><a href="#User-649"><span class="linenos">649</span></a>                <span class="s1">&#39;//a[@class=&quot;rc-audiochallenge-tdownload-link&quot;]&#39;</span>
</span><span id="User-650"><a href="#User-650"><span class="linenos">650</span></a>            <span class="p">)</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="s2">&quot;href&quot;</span><span class="p">)</span>
</span><span id="User-651"><a href="#User-651"><span class="linenos">651</span></a>            <span class="n">text</span> <span class="o">=</span> <span class="n">get_text_from_url</span><span class="p">(</span><span class="n">mp3_url</span><span class="p">,</span> <span class="s2">&quot;.mp3&quot;</span><span class="p">)</span>
</span><span id="User-652"><a href="#User-652"><span class="linenos">652</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;audio-response&quot;]&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
</span><span id="User-653"><a href="#User-653"><span class="linenos">653</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;recaptcha-verify-button&quot;]&#39;</span><span class="p">)</span>
</span><span id="User-654"><a href="#User-654"><span class="linenos">654</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="User-655"><a href="#User-655"><span class="linenos">655</span></a>            <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="User-656"><a href="#User-656"><span class="linenos">656</span></a>            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Could not solve captcha&quot;</span><span class="p">)</span>
</span><span id="User-657"><a href="#User-657"><span class="linenos">657</span></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="User-658"><a href="#User-658"><span class="linenos">658</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">switch_to_parent_frame</span><span class="p">()</span>
</span><span id="User-659"><a href="#User-659"><span class="linenos">659</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">locator_method</span> <span class="o">=</span> <span class="n">locator_method</span>
</span></pre></div>


            <div class="docstring"><p>Sits on top of selenium to streamline
automation and scraping tasks.</p>
</div>


                            <div id="User.__init__" class="classattr">
                                        <input id="User.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">User</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">headless</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">browser_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;firefox&#39;</span>,</span><span class="param">	<span class="n">implicit_wait</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span>,</span><span class="param">	<span class="n">page_load_timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">60</span>,</span><span class="param">	<span class="n">open_browser</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">locator_method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;xpath&#39;</span>,</span><span class="param">	<span class="n">randomize_user_agent</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">user_agent_rotation_period</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">move_window_by</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1000</span><span class="p">)</span>,</span><span class="param">	<span class="n">download_dir</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">driver_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span> <span class="o">=</span> <span class="kc">None</span></span>)</span>

                <label class="view-source-button" for="User.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.__init__-33"><a href="#User.__init__-33"><span class="linenos"> 33</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
</span><span id="User.__init__-34"><a href="#User.__init__-34"><span class="linenos"> 34</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="User.__init__-35"><a href="#User.__init__-35"><span class="linenos"> 35</span></a>        <span class="n">headless</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="User.__init__-36"><a href="#User.__init__-36"><span class="linenos"> 36</span></a>        <span class="n">browser_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;firefox&quot;</span><span class="p">,</span>
</span><span id="User.__init__-37"><a href="#User.__init__-37"><span class="linenos"> 37</span></a>        <span class="n">implicit_wait</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
</span><span id="User.__init__-38"><a href="#User.__init__-38"><span class="linenos"> 38</span></a>        <span class="n">page_load_timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">60</span><span class="p">,</span>
</span><span id="User.__init__-39"><a href="#User.__init__-39"><span class="linenos"> 39</span></a>        <span class="n">open_browser</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="User.__init__-40"><a href="#User.__init__-40"><span class="linenos"> 40</span></a>        <span class="n">locator_method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;xpath&quot;</span><span class="p">,</span>
</span><span id="User.__init__-41"><a href="#User.__init__-41"><span class="linenos"> 41</span></a>        <span class="n">randomize_user_agent</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="User.__init__-42"><a href="#User.__init__-42"><span class="linenos"> 42</span></a>        <span class="n">user_agent_rotation_period</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="User.__init__-43"><a href="#User.__init__-43"><span class="linenos"> 43</span></a>        <span class="n">move_window_by</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1000</span><span class="p">),</span>
</span><span id="User.__init__-44"><a href="#User.__init__-44"><span class="linenos"> 44</span></a>        <span class="n">download_dir</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Path</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="User.__init__-45"><a href="#User.__init__-45"><span class="linenos"> 45</span></a>        <span class="n">driver_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Path</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="User.__init__-46"><a href="#User.__init__-46"><span class="linenos"> 46</span></a>    <span class="p">):</span>
</span><span id="User.__init__-47"><a href="#User.__init__-47"><span class="linenos"> 47</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="User.__init__-48"><a href="#User.__init__-48"><span class="linenos"> 48</span></a><span class="sd">        :param headless: If True, browser window will not be visible.</span>
</span><span id="User.__init__-49"><a href="#User.__init__-49"><span class="linenos"> 49</span></a>
</span><span id="User.__init__-50"><a href="#User.__init__-50"><span class="linenos"> 50</span></a><span class="sd">        :param browser_type: Which browser to use. Can be &#39;firefox&#39; or &#39;chrome&#39;.</span>
</span><span id="User.__init__-51"><a href="#User.__init__-51"><span class="linenos"> 51</span></a>
</span><span id="User.__init__-52"><a href="#User.__init__-52"><span class="linenos"> 52</span></a><span class="sd">        :param implicit_wait: Number of seconds to look for a specified element before</span>
</span><span id="User.__init__-53"><a href="#User.__init__-53"><span class="linenos"> 53</span></a><span class="sd">        selenium considers it missing and throws an exception.</span>
</span><span id="User.__init__-54"><a href="#User.__init__-54"><span class="linenos"> 54</span></a>
</span><span id="User.__init__-55"><a href="#User.__init__-55"><span class="linenos"> 55</span></a><span class="sd">        :param page_load_timeout: Time in seconds for selenium to wait for a page to load</span>
</span><span id="User.__init__-56"><a href="#User.__init__-56"><span class="linenos"> 56</span></a><span class="sd">        before throwing an exception.</span>
</span><span id="User.__init__-57"><a href="#User.__init__-57"><span class="linenos"> 57</span></a>
</span><span id="User.__init__-58"><a href="#User.__init__-58"><span class="linenos"> 58</span></a><span class="sd">        :param open_browser: If True, opens a browser window when a User object is created.</span>
</span><span id="User.__init__-59"><a href="#User.__init__-59"><span class="linenos"> 59</span></a><span class="sd">        If False, a manual call to self.open_browser() must be made.</span>
</span><span id="User.__init__-60"><a href="#User.__init__-60"><span class="linenos"> 60</span></a>
</span><span id="User.__init__-61"><a href="#User.__init__-61"><span class="linenos"> 61</span></a><span class="sd">        :param locator_method: The locator type User should expect to be given.</span>
</span><span id="User.__init__-62"><a href="#User.__init__-62"><span class="linenos"> 62</span></a><span class="sd">        Can be &#39;xpath&#39;, &#39;id&#39;, &#39;className&#39;, &#39;name&#39;, or &#39;cssSelector&#39;.</span>
</span><span id="User.__init__-63"><a href="#User.__init__-63"><span class="linenos"> 63</span></a><span class="sd">        Every member function with a &#39;locator&#39; argument refers to a string matching</span>
</span><span id="User.__init__-64"><a href="#User.__init__-64"><span class="linenos"> 64</span></a><span class="sd">        the current locator_method.</span>
</span><span id="User.__init__-65"><a href="#User.__init__-65"><span class="linenos"> 65</span></a>
</span><span id="User.__init__-66"><a href="#User.__init__-66"><span class="linenos"> 66</span></a><span class="sd">        :param randomize_user_agent: If True, a random useragent will be used whenever</span>
</span><span id="User.__init__-67"><a href="#User.__init__-67"><span class="linenos"> 67</span></a><span class="sd">        the browser is opened. If False, the native useragent will be used.</span>
</span><span id="User.__init__-68"><a href="#User.__init__-68"><span class="linenos"> 68</span></a>
</span><span id="User.__init__-69"><a href="#User.__init__-69"><span class="linenos"> 69</span></a><span class="sd">        :param user_agent_rotation_period: If not None, the browser window will be closed</span>
</span><span id="User.__init__-70"><a href="#User.__init__-70"><span class="linenos"> 70</span></a><span class="sd">        and reopened with a new useragent every user_agent_rotation_period number of minutes.</span>
</span><span id="User.__init__-71"><a href="#User.__init__-71"><span class="linenos"> 71</span></a><span class="sd">        Rotation occurs on the first call to self.get() after the time period has elapsed.</span>
</span><span id="User.__init__-72"><a href="#User.__init__-72"><span class="linenos"> 72</span></a><span class="sd">        Ignored if randomize_user_agent is False.</span>
</span><span id="User.__init__-73"><a href="#User.__init__-73"><span class="linenos"> 73</span></a>
</span><span id="User.__init__-74"><a href="#User.__init__-74"><span class="linenos"> 74</span></a><span class="sd">        :param move_window_by: The x and y amount of pixels to move the browser window by after opening.</span>
</span><span id="User.__init__-75"><a href="#User.__init__-75"><span class="linenos"> 75</span></a>
</span><span id="User.__init__-76"><a href="#User.__init__-76"><span class="linenos"> 76</span></a><span class="sd">        :param download_dir: The download folder to use. If None, the default folder will be used.</span>
</span><span id="User.__init__-77"><a href="#User.__init__-77"><span class="linenos"> 77</span></a>
</span><span id="User.__init__-78"><a href="#User.__init__-78"><span class="linenos"> 78</span></a><span class="sd">        :param driver_path: The path to the webdriver executable selenium should use.</span>
</span><span id="User.__init__-79"><a href="#User.__init__-79"><span class="linenos"> 79</span></a><span class="sd">        If None, the system PATH will be checked for the executable.</span>
</span><span id="User.__init__-80"><a href="#User.__init__-80"><span class="linenos"> 80</span></a><span class="sd">        If the executable isn&#39;t found, the parent directories and the immediate child directories</span>
</span><span id="User.__init__-81"><a href="#User.__init__-81"><span class="linenos"> 81</span></a><span class="sd">        of the current working directory will be searched.</span>
</span><span id="User.__init__-82"><a href="#User.__init__-82"><span class="linenos"> 82</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="User.__init__-83"><a href="#User.__init__-83"><span class="linenos"> 83</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">headless</span> <span class="o">=</span> <span class="n">headless</span>
</span><span id="User.__init__-84"><a href="#User.__init__-84"><span class="linenos"> 84</span></a>        <span class="n">browser_type</span> <span class="o">=</span> <span class="n">browser_type</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</span><span id="User.__init__-85"><a href="#User.__init__-85"><span class="linenos"> 85</span></a>        <span class="k">if</span> <span class="n">browser_type</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;firefox&quot;</span><span class="p">,</span> <span class="s2">&quot;chrome&quot;</span><span class="p">]:</span>
</span><span id="User.__init__-86"><a href="#User.__init__-86"><span class="linenos"> 86</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser_type</span> <span class="o">=</span> <span class="n">browser_type</span>
</span><span id="User.__init__-87"><a href="#User.__init__-87"><span class="linenos"> 87</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="User.__init__-88"><a href="#User.__init__-88"><span class="linenos"> 88</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;browser_type&#39; parameter must be &#39;firefox&#39; or &#39;chrome&#39;&quot;</span><span class="p">)</span>
</span><span id="User.__init__-89"><a href="#User.__init__-89"><span class="linenos"> 89</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">browser_open</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="User.__init__-90"><a href="#User.__init__-90"><span class="linenos"> 90</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">implicit_wait</span> <span class="o">=</span> <span class="n">implicit_wait</span>
</span><span id="User.__init__-91"><a href="#User.__init__-91"><span class="linenos"> 91</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">page_load_timeout</span> <span class="o">=</span> <span class="n">page_load_timeout</span>
</span><span id="User.__init__-92"><a href="#User.__init__-92"><span class="linenos"> 92</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rotation_timer</span> <span class="o">=</span> <span class="n">Timer</span><span class="p">()</span>
</span><span id="User.__init__-93"><a href="#User.__init__-93"><span class="linenos"> 93</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">timer</span> <span class="o">=</span> <span class="n">Timer</span><span class="p">()</span>
</span><span id="User.__init__-94"><a href="#User.__init__-94"><span class="linenos"> 94</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</span><span id="User.__init__-95"><a href="#User.__init__-95"><span class="linenos"> 95</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">randomize_user_agent</span> <span class="o">=</span> <span class="n">randomize_user_agent</span>
</span><span id="User.__init__-96"><a href="#User.__init__-96"><span class="linenos"> 96</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">user_agent_rotation_period</span> <span class="o">=</span> <span class="n">user_agent_rotation_period</span>
</span><span id="User.__init__-97"><a href="#User.__init__-97"><span class="linenos"> 97</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">locator_method</span> <span class="o">=</span> <span class="n">locator_method</span>
</span><span id="User.__init__-98"><a href="#User.__init__-98"><span class="linenos"> 98</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">turbo</span><span class="p">()</span>
</span><span id="User.__init__-99"><a href="#User.__init__-99"><span class="linenos"> 99</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">keys</span> <span class="o">=</span> <span class="n">Keys</span>
</span><span id="User.__init__-100"><a href="#User.__init__-100"><span class="linenos">100</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">move_window_by</span> <span class="o">=</span> <span class="n">move_window_by</span>
</span><span id="User.__init__-101"><a href="#User.__init__-101"><span class="linenos">101</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">download_dir</span> <span class="o">=</span> <span class="n">download_dir</span>
</span><span id="User.__init__-102"><a href="#User.__init__-102"><span class="linenos">102</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">driver_path</span> <span class="o">=</span> <span class="n">driver_path</span>
</span><span id="User.__init__-103"><a href="#User.__init__-103"><span class="linenos">103</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver_path</span><span class="p">:</span>
</span><span id="User.__init__-104"><a href="#User.__init__-104"><span class="linenos">104</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">search_for_driver</span><span class="p">()</span>
</span><span id="User.__init__-105"><a href="#User.__init__-105"><span class="linenos">105</span></a>        <span class="k">if</span> <span class="n">open_browser</span><span class="p">:</span>
</span><span id="User.__init__-106"><a href="#User.__init__-106"><span class="linenos">106</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">open_browser</span><span class="p">()</span>
</span><span id="User.__init__-107"><a href="#User.__init__-107"><span class="linenos">107</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="User.__init__-108"><a href="#User.__init__-108"><span class="linenos">108</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="User.__init__-109"><a href="#User.__init__-109"><span class="linenos">109</span></a>        <span class="n">atexit</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">close_browser</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>headless</strong>:  If True, browser window will not be visible.</p></li>
<li><p><strong>browser_type</strong>:  Which browser to use. Can be 'firefox' or 'chrome'.</p></li>
<li><p><strong>implicit_wait</strong>:  Number of seconds to look for a specified element before
selenium considers it missing and throws an exception.</p></li>
<li><p><strong>page_load_timeout</strong>:  Time in seconds for selenium to wait for a page to load
before throwing an exception.</p></li>
<li><p><strong>open_browser</strong>:  If True, opens a browser window when a User object is created.
If False, a manual call to self.open_browser() must be made.</p></li>
<li><p><strong>locator_method</strong>:  The locator type User should expect to be given.
Can be 'xpath', 'id', 'className', 'name', or 'cssSelector'.
Every member function with a 'locator' argument refers to a string matching
the current locator_method.</p></li>
<li><p><strong>randomize_user_agent</strong>:  If True, a random useragent will be used whenever
the browser is opened. If False, the native useragent will be used.</p></li>
<li><p><strong>user_agent_rotation_period</strong>:  If not None, the browser window will be closed
and reopened with a new useragent every user_agent_rotation_period number of minutes.
Rotation occurs on the first call to self.get() after the time period has elapsed.
Ignored if randomize_user_agent is False.</p></li>
<li><p><strong>move_window_by</strong>:  The x and y amount of pixels to move the browser window by after opening.</p></li>
<li><p><strong>download_dir</strong>:  The download folder to use. If None, the default folder will be used.</p></li>
<li><p><strong>driver_path</strong>:  The path to the webdriver executable selenium should use.
If None, the system PATH will be checked for the executable.
If the executable isn't found, the parent directories and the immediate child directories
of the current working directory will be searched.</p></li>
</ul>
</div>


                            </div>
                            <div id="User.configure_firefox" class="classattr">
                                        <input id="User.configure_firefox-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">configure_firefox</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">selenium</span><span class="o">.</span><span class="n">webdriver</span><span class="o">.</span><span class="n">firefox</span><span class="o">.</span><span class="n">service</span><span class="o">.</span><span class="n">Service</span>:</span></span>

                <label class="view-source-button" for="User.configure_firefox-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.configure_firefox"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.configure_firefox-117"><a href="#User.configure_firefox-117"><span class="linenos">117</span></a>    <span class="k">def</span> <span class="nf">configure_firefox</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FirefoxService</span><span class="p">:</span>
</span><span id="User.configure_firefox-118"><a href="#User.configure_firefox-118"><span class="linenos">118</span></a>        <span class="sd">&quot;&quot;&quot;Configure options and profile for firefox.&quot;&quot;&quot;</span>
</span><span id="User.configure_firefox-119"><a href="#User.configure_firefox-119"><span class="linenos">119</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span> <span class="o">=</span> <span class="n">FirefoxOptions</span><span class="p">()</span>
</span><span id="User.configure_firefox-120"><a href="#User.configure_firefox-120"><span class="linenos">120</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">headless</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">headless</span>
</span><span id="User.configure_firefox-121"><a href="#User.configure_firefox-121"><span class="linenos">121</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">set_preference</span><span class="p">(</span>
</span><span id="User.configure_firefox-122"><a href="#User.configure_firefox-122"><span class="linenos">122</span></a>            <span class="s2">&quot;widget.windows.window_occlusion_tracking.enabled&quot;</span><span class="p">,</span> <span class="kc">False</span>
</span><span id="User.configure_firefox-123"><a href="#User.configure_firefox-123"><span class="linenos">123</span></a>        <span class="p">)</span>
</span><span id="User.configure_firefox-124"><a href="#User.configure_firefox-124"><span class="linenos">124</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">set_preference</span><span class="p">(</span><span class="s2">&quot;dom.webaudio.enabled&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="User.configure_firefox-125"><a href="#User.configure_firefox-125"><span class="linenos">125</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">randomize_user_agent</span><span class="p">:</span>
</span><span id="User.configure_firefox-126"><a href="#User.configure_firefox-126"><span class="linenos">126</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">set_preference</span><span class="p">(</span><span class="s2">&quot;general.useragent.override&quot;</span><span class="p">,</span> <span class="n">get_agent</span><span class="p">())</span>
</span><span id="User.configure_firefox-127"><a href="#User.configure_firefox-127"><span class="linenos">127</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">download_dir</span><span class="p">:</span>
</span><span id="User.configure_firefox-128"><a href="#User.configure_firefox-128"><span class="linenos">128</span></a>            <span class="n">Path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">download_dir</span><span class="p">)</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="User.configure_firefox-129"><a href="#User.configure_firefox-129"><span class="linenos">129</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">profile</span> <span class="o">=</span> <span class="n">FirefoxProfile</span><span class="p">()</span>
</span><span id="User.configure_firefox-130"><a href="#User.configure_firefox-130"><span class="linenos">130</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">set_preference</span><span class="p">(</span><span class="s2">&quot;browser.download.dir&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">download_dir</span><span class="p">))</span>
</span><span id="User.configure_firefox-131"><a href="#User.configure_firefox-131"><span class="linenos">131</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">set_preference</span><span class="p">(</span><span class="s2">&quot;browser.download.folderList&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="User.configure_firefox-132"><a href="#User.configure_firefox-132"><span class="linenos">132</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="User.configure_firefox-133"><a href="#User.configure_firefox-133"><span class="linenos">133</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">profile</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="User.configure_firefox-134"><a href="#User.configure_firefox-134"><span class="linenos">134</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">service</span> <span class="o">=</span> <span class="n">FirefoxService</span><span class="p">(</span>
</span><span id="User.configure_firefox-135"><a href="#User.configure_firefox-135"><span class="linenos">135</span></a>            <span class="n">executable_path</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">driver_path</span><span class="p">),</span> <span class="n">log_path</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">devnull</span>
</span><span id="User.configure_firefox-136"><a href="#User.configure_firefox-136"><span class="linenos">136</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Configure options and profile for firefox.</p>
</div>


                            </div>
                            <div id="User.configure_chrome" class="classattr">
                                        <input id="User.configure_chrome-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">configure_chrome</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">selenium</span><span class="o">.</span><span class="n">webdriver</span><span class="o">.</span><span class="n">chrome</span><span class="o">.</span><span class="n">service</span><span class="o">.</span><span class="n">Service</span>:</span></span>

                <label class="view-source-button" for="User.configure_chrome-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.configure_chrome"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.configure_chrome-138"><a href="#User.configure_chrome-138"><span class="linenos">138</span></a>    <span class="k">def</span> <span class="nf">configure_chrome</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ChromeService</span><span class="p">:</span>
</span><span id="User.configure_chrome-139"><a href="#User.configure_chrome-139"><span class="linenos">139</span></a>        <span class="sd">&quot;&quot;&quot;Configure options and profile for chrome.&quot;&quot;&quot;</span>
</span><span id="User.configure_chrome-140"><a href="#User.configure_chrome-140"><span class="linenos">140</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span> <span class="o">=</span> <span class="n">ChromeOptions</span><span class="p">()</span>
</span><span id="User.configure_chrome-141"><a href="#User.configure_chrome-141"><span class="linenos">141</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">headless</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">headless</span>
</span><span id="User.configure_chrome-142"><a href="#User.configure_chrome-142"><span class="linenos">142</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--disable-blink-features=AutomationControlled&quot;</span><span class="p">)</span>
</span><span id="User.configure_chrome-143"><a href="#User.configure_chrome-143"><span class="linenos">143</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--mute-audio&quot;</span><span class="p">)</span>
</span><span id="User.configure_chrome-144"><a href="#User.configure_chrome-144"><span class="linenos">144</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--disable-infobars&quot;</span><span class="p">)</span>
</span><span id="User.configure_chrome-145"><a href="#User.configure_chrome-145"><span class="linenos">145</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--disable-notifications&quot;</span><span class="p">)</span>
</span><span id="User.configure_chrome-146"><a href="#User.configure_chrome-146"><span class="linenos">146</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--log-level=3&quot;</span><span class="p">)</span>
</span><span id="User.configure_chrome-147"><a href="#User.configure_chrome-147"><span class="linenos">147</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">randomize_user_agent</span><span class="p">:</span>
</span><span id="User.configure_chrome-148"><a href="#User.configure_chrome-148"><span class="linenos">148</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;--user-agent=</span><span class="si">{</span><span class="n">get_agent</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="User.configure_chrome-149"><a href="#User.configure_chrome-149"><span class="linenos">149</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">add_experimental_option</span><span class="p">(</span><span class="s2">&quot;useAutomationExtension&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="User.configure_chrome-150"><a href="#User.configure_chrome-150"><span class="linenos">150</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">download_dir</span><span class="p">:</span>
</span><span id="User.configure_chrome-151"><a href="#User.configure_chrome-151"><span class="linenos">151</span></a>            <span class="n">Path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">download_dir</span><span class="p">)</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="User.configure_chrome-152"><a href="#User.configure_chrome-152"><span class="linenos">152</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">add_experimental_option</span><span class="p">(</span>
</span><span id="User.configure_chrome-153"><a href="#User.configure_chrome-153"><span class="linenos">153</span></a>                <span class="s2">&quot;prefs&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;download.default_directory&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">download_dir</span><span class="p">)}</span>
</span><span id="User.configure_chrome-154"><a href="#User.configure_chrome-154"><span class="linenos">154</span></a>            <span class="p">)</span>
</span><span id="User.configure_chrome-155"><a href="#User.configure_chrome-155"><span class="linenos">155</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">service</span> <span class="o">=</span> <span class="n">ChromeService</span><span class="p">(</span>
</span><span id="User.configure_chrome-156"><a href="#User.configure_chrome-156"><span class="linenos">156</span></a>            <span class="n">executable_path</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">driver_path</span><span class="p">),</span> <span class="n">log_path</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">devnull</span>
</span><span id="User.configure_chrome-157"><a href="#User.configure_chrome-157"><span class="linenos">157</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Configure options and profile for chrome.</p>
</div>


                            </div>
                            <div id="User.search_for_driver" class="classattr">
                                        <input id="User.search_for_driver-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">search_for_driver</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="User.search_for_driver-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.search_for_driver"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.search_for_driver-159"><a href="#User.search_for_driver-159"><span class="linenos">159</span></a>    <span class="k">def</span> <span class="nf">search_for_driver</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="User.search_for_driver-160"><a href="#User.search_for_driver-160"><span class="linenos">160</span></a>        <span class="sd">&quot;&quot;&quot;Searches for the webdriver executable.&quot;&quot;&quot;</span>
</span><span id="User.search_for_driver-161"><a href="#User.search_for_driver-161"><span class="linenos">161</span></a>        <span class="n">cwd</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span>
</span><span id="User.search_for_driver-162"><a href="#User.search_for_driver-162"><span class="linenos">162</span></a>        <span class="n">found</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="User.search_for_driver-163"><a href="#User.search_for_driver-163"><span class="linenos">163</span></a>        <span class="k">match</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser_type</span><span class="p">:</span>
</span><span id="User.search_for_driver-164"><a href="#User.search_for_driver-164"><span class="linenos">164</span></a>            <span class="k">case</span> <span class="s2">&quot;firefox&quot;</span><span class="p">:</span>
</span><span id="User.search_for_driver-165"><a href="#User.search_for_driver-165"><span class="linenos">165</span></a>                <span class="n">driver</span> <span class="o">=</span> <span class="s2">&quot;geckodriver.exe&quot;</span>
</span><span id="User.search_for_driver-166"><a href="#User.search_for_driver-166"><span class="linenos">166</span></a>            <span class="k">case</span> <span class="s2">&quot;chrome&quot;</span><span class="p">:</span>
</span><span id="User.search_for_driver-167"><a href="#User.search_for_driver-167"><span class="linenos">167</span></a>                <span class="n">driver</span> <span class="o">=</span> <span class="s2">&quot;chromedriver.exe&quot;</span>
</span><span id="User.search_for_driver-168"><a href="#User.search_for_driver-168"><span class="linenos">168</span></a>        <span class="c1"># search PATH</span>
</span><span id="User.search_for_driver-169"><a href="#User.search_for_driver-169"><span class="linenos">169</span></a>        <span class="n">env_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;PATH&quot;</span><span class="p">]</span>
</span><span id="User.search_for_driver-170"><a href="#User.search_for_driver-170"><span class="linenos">170</span></a>        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s2">&quot;win32&quot;</span><span class="p">:</span>
</span><span id="User.search_for_driver-171"><a href="#User.search_for_driver-171"><span class="linenos">171</span></a>            <span class="n">env_paths</span> <span class="o">=</span> <span class="n">env_path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">)</span>
</span><span id="User.search_for_driver-172"><a href="#User.search_for_driver-172"><span class="linenos">172</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="User.search_for_driver-173"><a href="#User.search_for_driver-173"><span class="linenos">173</span></a>            <span class="n">env_paths</span> <span class="o">=</span> <span class="n">env_path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
</span><span id="User.search_for_driver-174"><a href="#User.search_for_driver-174"><span class="linenos">174</span></a>            <span class="n">driver</span> <span class="o">=</span> <span class="n">driver</span><span class="p">[:</span> <span class="n">driver</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)]</span>
</span><span id="User.search_for_driver-175"><a href="#User.search_for_driver-175"><span class="linenos">175</span></a>        <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">env_paths</span><span class="p">:</span>
</span><span id="User.search_for_driver-176"><a href="#User.search_for_driver-176"><span class="linenos">176</span></a>            <span class="k">if</span> <span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="o">/</span> <span class="n">driver</span><span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
</span><span id="User.search_for_driver-177"><a href="#User.search_for_driver-177"><span class="linenos">177</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">driver_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="o">/</span> <span class="n">driver</span>
</span><span id="User.search_for_driver-178"><a href="#User.search_for_driver-178"><span class="linenos">178</span></a>                <span class="n">found</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="User.search_for_driver-179"><a href="#User.search_for_driver-179"><span class="linenos">179</span></a>                <span class="k">break</span>
</span><span id="User.search_for_driver-180"><a href="#User.search_for_driver-180"><span class="linenos">180</span></a>        <span class="c1"># check current working directory and parent folders</span>
</span><span id="User.search_for_driver-181"><a href="#User.search_for_driver-181"><span class="linenos">181</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">found</span><span class="p">:</span>
</span><span id="User.search_for_driver-182"><a href="#User.search_for_driver-182"><span class="linenos">182</span></a>            <span class="k">while</span> <span class="n">cwd</span> <span class="o">!=</span> <span class="n">cwd</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span>
</span><span id="User.search_for_driver-183"><a href="#User.search_for_driver-183"><span class="linenos">183</span></a>                <span class="k">if</span> <span class="p">(</span><span class="n">cwd</span> <span class="o">/</span> <span class="n">driver</span><span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
</span><span id="User.search_for_driver-184"><a href="#User.search_for_driver-184"><span class="linenos">184</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">driver_path</span> <span class="o">=</span> <span class="n">cwd</span> <span class="o">/</span> <span class="n">driver</span>
</span><span id="User.search_for_driver-185"><a href="#User.search_for_driver-185"><span class="linenos">185</span></a>                    <span class="n">found</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="User.search_for_driver-186"><a href="#User.search_for_driver-186"><span class="linenos">186</span></a>                    <span class="k">break</span>
</span><span id="User.search_for_driver-187"><a href="#User.search_for_driver-187"><span class="linenos">187</span></a>                <span class="n">cwd</span> <span class="o">=</span> <span class="n">cwd</span><span class="o">.</span><span class="n">parent</span>
</span><span id="User.search_for_driver-188"><a href="#User.search_for_driver-188"><span class="linenos">188</span></a>            <span class="c1"># check top most level</span>
</span><span id="User.search_for_driver-189"><a href="#User.search_for_driver-189"><span class="linenos">189</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">found</span> <span class="ow">and</span> <span class="p">(</span><span class="n">cwd</span> <span class="o">/</span> <span class="n">driver</span><span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
</span><span id="User.search_for_driver-190"><a href="#User.search_for_driver-190"><span class="linenos">190</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">driver_path</span> <span class="o">=</span> <span class="n">cwd</span> <span class="o">/</span> <span class="n">driver</span>
</span><span id="User.search_for_driver-191"><a href="#User.search_for_driver-191"><span class="linenos">191</span></a>                <span class="n">found</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="User.search_for_driver-192"><a href="#User.search_for_driver-192"><span class="linenos">192</span></a>        <span class="c1"># check child folders (only 1 level down)</span>
</span><span id="User.search_for_driver-193"><a href="#User.search_for_driver-193"><span class="linenos">193</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">found</span><span class="p">:</span>
</span><span id="User.search_for_driver-194"><a href="#User.search_for_driver-194"><span class="linenos">194</span></a>            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">Path</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span><span class="o">.</span><span class="n">iterdir</span><span class="p">():</span>
</span><span id="User.search_for_driver-195"><a href="#User.search_for_driver-195"><span class="linenos">195</span></a>                <span class="k">if</span> <span class="n">child</span><span class="o">.</span><span class="n">is_dir</span><span class="p">()</span> <span class="ow">and</span> <span class="p">(</span><span class="n">child</span> <span class="o">/</span> <span class="n">driver</span><span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
</span><span id="User.search_for_driver-196"><a href="#User.search_for_driver-196"><span class="linenos">196</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">driver_path</span> <span class="o">=</span> <span class="n">child</span> <span class="o">/</span> <span class="n">driver</span>
</span><span id="User.search_for_driver-197"><a href="#User.search_for_driver-197"><span class="linenos">197</span></a>                    <span class="n">found</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="User.search_for_driver-198"><a href="#User.search_for_driver-198"><span class="linenos">198</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">found</span><span class="p">:</span>
</span><span id="User.search_for_driver-199"><a href="#User.search_for_driver-199"><span class="linenos">199</span></a>            <span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not find </span><span class="si">{</span><span class="n">driver</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Searches for the webdriver executable.</p>
</div>


                            </div>
                            <div id="User.set_implicit_wait" class="classattr">
                                        <input id="User.set_implicit_wait-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_implicit_wait</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">wait_time</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="User.set_implicit_wait-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.set_implicit_wait"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.set_implicit_wait-201"><a href="#User.set_implicit_wait-201"><span class="linenos">201</span></a>    <span class="k">def</span> <span class="nf">set_implicit_wait</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wait_time</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="User.set_implicit_wait-202"><a href="#User.set_implicit_wait-202"><span class="linenos">202</span></a>        <span class="sd">&quot;&quot;&quot;Sets to default time if no arg given.&quot;&quot;&quot;</span>
</span><span id="User.set_implicit_wait-203"><a href="#User.set_implicit_wait-203"><span class="linenos">203</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">wait_time</span><span class="p">:</span>
</span><span id="User.set_implicit_wait-204"><a href="#User.set_implicit_wait-204"><span class="linenos">204</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">implicitly_wait</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">implicit_wait</span><span class="p">)</span>
</span><span id="User.set_implicit_wait-205"><a href="#User.set_implicit_wait-205"><span class="linenos">205</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="User.set_implicit_wait-206"><a href="#User.set_implicit_wait-206"><span class="linenos">206</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">implicitly_wait</span><span class="p">(</span><span class="n">wait_time</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Sets to default time if no arg given.</p>
</div>


                            </div>
                            <div id="User.open_browser" class="classattr">
                                        <input id="User.open_browser-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">open_browser</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="User.open_browser-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.open_browser"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.open_browser-208"><a href="#User.open_browser-208"><span class="linenos">208</span></a>    <span class="k">def</span> <span class="nf">open_browser</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="User.open_browser-209"><a href="#User.open_browser-209"><span class="linenos">209</span></a>        <span class="sd">&quot;&quot;&quot;Configures and opens selenium browser.&quot;&quot;&quot;</span>
</span><span id="User.open_browser-210"><a href="#User.open_browser-210"><span class="linenos">210</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser_open</span><span class="p">:</span>
</span><span id="User.open_browser-211"><a href="#User.open_browser-211"><span class="linenos">211</span></a>            <span class="k">match</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser_type</span><span class="p">:</span>
</span><span id="User.open_browser-212"><a href="#User.open_browser-212"><span class="linenos">212</span></a>                <span class="k">case</span> <span class="s2">&quot;firefox&quot;</span><span class="p">:</span>
</span><span id="User.open_browser-213"><a href="#User.open_browser-213"><span class="linenos">213</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">configure_firefox</span><span class="p">()</span>
</span><span id="User.open_browser-214"><a href="#User.open_browser-214"><span class="linenos">214</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">browser</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Firefox</span><span class="p">(</span>
</span><span id="User.open_browser-215"><a href="#User.open_browser-215"><span class="linenos">215</span></a>                        <span class="n">options</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">,</span>
</span><span id="User.open_browser-216"><a href="#User.open_browser-216"><span class="linenos">216</span></a>                        <span class="n">service</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">service</span><span class="p">,</span>
</span><span id="User.open_browser-217"><a href="#User.open_browser-217"><span class="linenos">217</span></a>                        <span class="n">firefox_profile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">profile</span><span class="p">,</span>
</span><span id="User.open_browser-218"><a href="#User.open_browser-218"><span class="linenos">218</span></a>                    <span class="p">)</span>
</span><span id="User.open_browser-219"><a href="#User.open_browser-219"><span class="linenos">219</span></a>                <span class="k">case</span> <span class="s2">&quot;chrome&quot;</span><span class="p">:</span>
</span><span id="User.open_browser-220"><a href="#User.open_browser-220"><span class="linenos">220</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">configure_chrome</span><span class="p">()</span>
</span><span id="User.open_browser-221"><a href="#User.open_browser-221"><span class="linenos">221</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">browser</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Chrome</span><span class="p">(</span>
</span><span id="User.open_browser-222"><a href="#User.open_browser-222"><span class="linenos">222</span></a>                        <span class="n">options</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">,</span> <span class="n">service</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">service</span>
</span><span id="User.open_browser-223"><a href="#User.open_browser-223"><span class="linenos">223</span></a>                    <span class="p">)</span>
</span><span id="User.open_browser-224"><a href="#User.open_browser-224"><span class="linenos">224</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">set_implicit_wait</span><span class="p">()</span>
</span><span id="User.open_browser-225"><a href="#User.open_browser-225"><span class="linenos">225</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">maximize_window</span><span class="p">()</span>
</span><span id="User.open_browser-226"><a href="#User.open_browser-226"><span class="linenos">226</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">set_window_position</span><span class="p">(</span>
</span><span id="User.open_browser-227"><a href="#User.open_browser-227"><span class="linenos">227</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">move_window_by</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">move_window_by</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="User.open_browser-228"><a href="#User.open_browser-228"><span class="linenos">228</span></a>            <span class="p">)</span>
</span><span id="User.open_browser-229"><a href="#User.open_browser-229"><span class="linenos">229</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">maximize_window</span><span class="p">()</span>
</span><span id="User.open_browser-230"><a href="#User.open_browser-230"><span class="linenos">230</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">set_page_load_timeout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">page_load_timeout</span><span class="p">)</span>
</span><span id="User.open_browser-231"><a href="#User.open_browser-231"><span class="linenos">231</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser_open</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="User.open_browser-232"><a href="#User.open_browser-232"><span class="linenos">232</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tab_index</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="User.open_browser-233"><a href="#User.open_browser-233"><span class="linenos">233</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">rotation_timer</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</span><span id="User.open_browser-234"><a href="#User.open_browser-234"><span class="linenos">234</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="User.open_browser-235"><a href="#User.open_browser-235"><span class="linenos">235</span></a>            <span class="n">warn</span><span class="p">(</span><span class="s2">&quot;Browser already open.&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Configures and opens selenium browser.</p>
</div>


                            </div>
                            <div id="User.close_browser" class="classattr">
                                        <input id="User.close_browser-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">close_browser</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="User.close_browser-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.close_browser"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.close_browser-237"><a href="#User.close_browser-237"><span class="linenos">237</span></a>    <span class="k">def</span> <span class="nf">close_browser</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="User.close_browser-238"><a href="#User.close_browser-238"><span class="linenos">238</span></a>        <span class="sd">&quot;&quot;&quot;Close browser window.&quot;&quot;&quot;</span>
</span><span id="User.close_browser-239"><a href="#User.close_browser-239"><span class="linenos">239</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser_open</span><span class="p">:</span>
</span><span id="User.close_browser-240"><a href="#User.close_browser-240"><span class="linenos">240</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser_open</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="User.close_browser-241"><a href="#User.close_browser-241"><span class="linenos">241</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Close browser window.</p>
</div>


                            </div>
                            <div id="User.open_tab" class="classattr">
                                        <input id="User.open_tab-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">open_tab</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>, </span><span class="param"><span class="n">switch_to_tab</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="User.open_tab-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.open_tab"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.open_tab-243"><a href="#User.open_tab-243"><span class="linenos">243</span></a>    <span class="k">def</span> <span class="nf">open_tab</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">switch_to_tab</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
</span><span id="User.open_tab-244"><a href="#User.open_tab-244"><span class="linenos">244</span></a>        <span class="sd">&quot;&quot;&quot;Opens new tab and, if provided, goes to url.</span>
</span><span id="User.open_tab-245"><a href="#User.open_tab-245"><span class="linenos">245</span></a>
</span><span id="User.open_tab-246"><a href="#User.open_tab-246"><span class="linenos">246</span></a><span class="sd">        New tab is inserted after currently active tab.&quot;&quot;&quot;</span>
</span><span id="User.open_tab-247"><a href="#User.open_tab-247"><span class="linenos">247</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="s2">&quot;window.open(arguments[0]);&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
</span><span id="User.open_tab-248"><a href="#User.open_tab-248"><span class="linenos">248</span></a>        <span class="k">if</span> <span class="n">switch_to_tab</span><span class="p">:</span>
</span><span id="User.open_tab-249"><a href="#User.open_tab-249"><span class="linenos">249</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">switch_to_tab</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tab_index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Opens new tab and, if provided, goes to url.</p>

<p>New tab is inserted after currently active tab.</p>
</div>


                            </div>
                            <div id="User.switch_to_tab" class="classattr">
                                        <input id="User.switch_to_tab-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">switch_to_tab</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">tab_index</span><span class="p">:</span> <span class="nb">int</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="User.switch_to_tab-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.switch_to_tab"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.switch_to_tab-251"><a href="#User.switch_to_tab-251"><span class="linenos">251</span></a>    <span class="k">def</span> <span class="nf">switch_to_tab</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tab_index</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="User.switch_to_tab-252"><a href="#User.switch_to_tab-252"><span class="linenos">252</span></a>        <span class="sd">&quot;&quot;&quot;Switch to a tab in browser, zero indexed.&quot;&quot;&quot;</span>
</span><span id="User.switch_to_tab-253"><a href="#User.switch_to_tab-253"><span class="linenos">253</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">switch_to</span><span class="o">.</span><span class="n">window</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">window_handles</span><span class="p">[</span><span class="n">tab_index</span><span class="p">])</span>
</span><span id="User.switch_to_tab-254"><a href="#User.switch_to_tab-254"><span class="linenos">254</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tab_index</span> <span class="o">=</span> <span class="n">tab_index</span>
</span></pre></div>


            <div class="docstring"><p>Switch to a tab in browser, zero indexed.</p>
</div>


                            </div>
                            <div id="User.get_num_tabs" class="classattr">
                                        <input id="User.get_num_tabs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_num_tabs</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">int</span>:</span></span>

                <label class="view-source-button" for="User.get_num_tabs-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.get_num_tabs"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.get_num_tabs-256"><a href="#User.get_num_tabs-256"><span class="linenos">256</span></a>    <span class="k">def</span> <span class="nf">get_num_tabs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="User.get_num_tabs-257"><a href="#User.get_num_tabs-257"><span class="linenos">257</span></a>        <span class="sd">&quot;&quot;&quot;Returns number of tabs open.&quot;&quot;&quot;</span>
</span><span id="User.get_num_tabs-258"><a href="#User.get_num_tabs-258"><span class="linenos">258</span></a>        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">window_handles</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Returns number of tabs open.</p>
</div>


                            </div>
                            <div id="User.close_tab" class="classattr">
                                        <input id="User.close_tab-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">close_tab</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">tab_index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="User.close_tab-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.close_tab"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.close_tab-260"><a href="#User.close_tab-260"><span class="linenos">260</span></a>    <span class="k">def</span> <span class="nf">close_tab</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tab_index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">):</span>
</span><span id="User.close_tab-261"><a href="#User.close_tab-261"><span class="linenos">261</span></a>        <span class="sd">&quot;&quot;&quot;Close specified tab and</span>
</span><span id="User.close_tab-262"><a href="#User.close_tab-262"><span class="linenos">262</span></a><span class="sd">        switches to tab index 0.&quot;&quot;&quot;</span>
</span><span id="User.close_tab-263"><a href="#User.close_tab-263"><span class="linenos">263</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">switch_to_tab</span><span class="p">(</span><span class="n">tab_index</span><span class="p">)</span>
</span><span id="User.close_tab-264"><a href="#User.close_tab-264"><span class="linenos">264</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="User.close_tab-265"><a href="#User.close_tab-265"><span class="linenos">265</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">switch_to_tab</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Close specified tab and
switches to tab index 0.</p>
</div>


                            </div>
                            <div id="User.get" class="classattr">
                                        <input id="User.get-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">url</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="User.get-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.get"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.get-267"><a href="#User.get-267"><span class="linenos">267</span></a>    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="User.get-268"><a href="#User.get-268"><span class="linenos">268</span></a>        <span class="sd">&quot;&quot;&quot;Requests webpage at given url and rotates userAgent if necessary.&quot;&quot;&quot;</span>
</span><span id="User.get-269"><a href="#User.get-269"><span class="linenos">269</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser_open</span><span class="p">:</span>
</span><span id="User.get-270"><a href="#User.get-270"><span class="linenos">270</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">open_browser</span><span class="p">()</span>
</span><span id="User.get-271"><a href="#User.get-271"><span class="linenos">271</span></a>        <span class="k">if</span> <span class="p">(</span>
</span><span id="User.get-272"><a href="#User.get-272"><span class="linenos">272</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">randomize_user_agent</span>
</span><span id="User.get-273"><a href="#User.get-273"><span class="linenos">273</span></a>            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_agent_rotation_period</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</span><span id="User.get-274"><a href="#User.get-274"><span class="linenos">274</span></a>            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">rotation_timer</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="User.get-275"><a href="#User.get-275"><span class="linenos">275</span></a>            <span class="o">&gt;</span> <span class="p">(</span><span class="mi">60</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_agent_rotation_period</span><span class="p">)</span>
</span><span id="User.get-276"><a href="#User.get-276"><span class="linenos">276</span></a>        <span class="p">):</span>
</span><span id="User.get-277"><a href="#User.get-277"><span class="linenos">277</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">rotation_timer</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</span><span id="User.get-278"><a href="#User.get-278"><span class="linenos">278</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">close_browser</span><span class="p">()</span>
</span><span id="User.get-279"><a href="#User.get-279"><span class="linenos">279</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">open_browser</span><span class="p">()</span>
</span><span id="User.get-280"><a href="#User.get-280"><span class="linenos">280</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</span><span id="User.get-281"><a href="#User.get-281"><span class="linenos">281</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="s2">&quot;Object.defineProperty(navigator, &#39;webdriver&#39;, {get: () =&gt; false})&quot;</span><span class="p">)</span>
</span><span id="User.get-282"><a href="#User.get-282"><span class="linenos">282</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arrival_wait</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Requests webpage at given url and rotates userAgent if necessary.</p>
</div>


                            </div>
                            <div id="User.get_soup" class="classattr">
                                        <input id="User.get_soup-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_soup</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">bs4</span><span class="o">.</span><span class="n">BeautifulSoup</span>:</span></span>

                <label class="view-source-button" for="User.get_soup-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.get_soup"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.get_soup-284"><a href="#User.get_soup-284"><span class="linenos">284</span></a>    <span class="k">def</span> <span class="nf">get_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BeautifulSoup</span><span class="p">:</span>
</span><span id="User.get_soup-285"><a href="#User.get_soup-285"><span class="linenos">285</span></a>        <span class="sd">&quot;&quot;&quot;Returns a BeautifulSoup object</span>
</span><span id="User.get_soup-286"><a href="#User.get_soup-286"><span class="linenos">286</span></a><span class="sd">        of the current page source.&quot;&quot;&quot;</span>
</span><span id="User.get_soup-287"><a href="#User.get_soup-287"><span class="linenos">287</span></a>        <span class="k">return</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">page_source</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Returns a BeautifulSoup object
of the current page source.</p>
</div>


                            </div>
                            <div id="User.current_url" class="classattr">
                                        <input id="User.current_url-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">current_url</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="User.current_url-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.current_url"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.current_url-289"><a href="#User.current_url-289"><span class="linenos">289</span></a>    <span class="k">def</span> <span class="nf">current_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="User.current_url-290"><a href="#User.current_url-290"><span class="linenos">290</span></a>        <span class="sd">&quot;&quot;&quot;Returns current url of active tab.&quot;&quot;&quot;</span>
</span><span id="User.current_url-291"><a href="#User.current_url-291"><span class="linenos">291</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">current_url</span>
</span></pre></div>


            <div class="docstring"><p>Returns current url of active tab.</p>
</div>


                            </div>
                            <div id="User.delete_cookies" class="classattr">
                                        <input id="User.delete_cookies-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">delete_cookies</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="User.delete_cookies-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.delete_cookies"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.delete_cookies-293"><a href="#User.delete_cookies-293"><span class="linenos">293</span></a>    <span class="k">def</span> <span class="nf">delete_cookies</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="User.delete_cookies-294"><a href="#User.delete_cookies-294"><span class="linenos">294</span></a>        <span class="sd">&quot;&quot;&quot;Delete all cookies for</span>
</span><span id="User.delete_cookies-295"><a href="#User.delete_cookies-295"><span class="linenos">295</span></a><span class="sd">        this browser instance.&quot;&quot;&quot;</span>
</span><span id="User.delete_cookies-296"><a href="#User.delete_cookies-296"><span class="linenos">296</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">delete_all_cookies</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Delete all cookies for
this browser instance.</p>
</div>


                            </div>
                            <div id="User.turbo" class="classattr">
                                        <input id="User.turbo-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">turbo</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">engage</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="User.turbo-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.turbo"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.turbo-298"><a href="#User.turbo-298"><span class="linenos">298</span></a>    <span class="k">def</span> <span class="nf">turbo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">engage</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
</span><span id="User.turbo-299"><a href="#User.turbo-299"><span class="linenos">299</span></a>        <span class="sd">&quot;&quot;&quot;When engaged, strings will be sent</span>
</span><span id="User.turbo-300"><a href="#User.turbo-300"><span class="linenos">300</span></a><span class="sd">        to elements all at once and there will be</span>
</span><span id="User.turbo-301"><a href="#User.turbo-301"><span class="linenos">301</span></a><span class="sd">        no waiting after actions.</span>
</span><span id="User.turbo-302"><a href="#User.turbo-302"><span class="linenos">302</span></a>
</span><span id="User.turbo-303"><a href="#User.turbo-303"><span class="linenos">303</span></a><span class="sd">        When disengaged, strings will be sent to elements</span>
</span><span id="User.turbo-304"><a href="#User.turbo-304"><span class="linenos">304</span></a><span class="sd">        &#39;one key at a time&#39; with randomized amounts of</span>
</span><span id="User.turbo-305"><a href="#User.turbo-305"><span class="linenos">305</span></a><span class="sd">        time between successive keys and after actions.&quot;&quot;&quot;</span>
</span><span id="User.turbo-306"><a href="#User.turbo-306"><span class="linenos">306</span></a>        <span class="k">if</span> <span class="n">engage</span><span class="p">:</span>
</span><span id="User.turbo-307"><a href="#User.turbo-307"><span class="linenos">307</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">after_key_wait</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="User.turbo-308"><a href="#User.turbo-308"><span class="linenos">308</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">after_field_wait</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="User.turbo-309"><a href="#User.turbo-309"><span class="linenos">309</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">after_click_wait</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="User.turbo-310"><a href="#User.turbo-310"><span class="linenos">310</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">arrival_wait</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="User.turbo-311"><a href="#User.turbo-311"><span class="linenos">311</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">one_key_at_a_time</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="User.turbo-312"><a href="#User.turbo-312"><span class="linenos">312</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">turbo_engaged</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="User.turbo-313"><a href="#User.turbo-313"><span class="linenos">313</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="User.turbo-314"><a href="#User.turbo-314"><span class="linenos">314</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">after_key_wait</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
</span><span id="User.turbo-315"><a href="#User.turbo-315"><span class="linenos">315</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">after_field_wait</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="User.turbo-316"><a href="#User.turbo-316"><span class="linenos">316</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">after_click_wait</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">)</span>
</span><span id="User.turbo-317"><a href="#User.turbo-317"><span class="linenos">317</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">arrival_wait</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</span><span id="User.turbo-318"><a href="#User.turbo-318"><span class="linenos">318</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">one_key_at_a_time</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="User.turbo-319"><a href="#User.turbo-319"><span class="linenos">319</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">turbo_engaged</span> <span class="o">=</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>When engaged, strings will be sent
to elements all at once and there will be
no waiting after actions.</p>

<p>When disengaged, strings will be sent to elements
'one key at a time' with randomized amounts of
time between successive keys and after actions.</p>
</div>


                            </div>
                            <div id="User.chill" class="classattr">
                                        <input id="User.chill-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">chill</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">min_max</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="User.chill-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.chill"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.chill-321"><a href="#User.chill-321"><span class="linenos">321</span></a>    <span class="k">def</span> <span class="nf">chill</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">min_max</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]):</span>
</span><span id="User.chill-322"><a href="#User.chill-322"><span class="linenos">322</span></a>        <span class="sd">&quot;&quot;&quot;Sleeps a random amount</span>
</span><span id="User.chill-323"><a href="#User.chill-323"><span class="linenos">323</span></a><span class="sd">        between min_max[0] and min_max[1].&quot;&quot;&quot;</span>
</span><span id="User.chill-324"><a href="#User.chill-324"><span class="linenos">324</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">min_max</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">min_max</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
</span></pre></div>


            <div class="docstring"><p>Sleeps a random amount
between min_max[0] and min_max[1].</p>
</div>


                            </div>
                            <div id="User.script" class="classattr">
                                        <input id="User.script-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">script</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">script</span><span class="p">:</span> <span class="nb">str</span>, </span><span class="param"><span class="n">args</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n">Any</span>:</span></span>

                <label class="view-source-button" for="User.script-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.script"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.script-326"><a href="#User.script-326"><span class="linenos">326</span></a>    <span class="k">def</span> <span class="nf">script</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">script</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
</span><span id="User.script-327"><a href="#User.script-327"><span class="linenos">327</span></a>        <span class="sd">&quot;&quot;&quot;Execute javascript code and returns result.&quot;&quot;&quot;</span>
</span><span id="User.script-328"><a href="#User.script-328"><span class="linenos">328</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">execute_script</span><span class="p">(</span><span class="n">script</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Execute javascript code and returns result.</p>
</div>


                            </div>
                            <div id="User.remove" class="classattr">
                                        <input id="User.remove-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">remove</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">locator</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="User.remove-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.remove"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.remove-330"><a href="#User.remove-330"><span class="linenos">330</span></a>    <span class="k">def</span> <span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="User.remove-331"><a href="#User.remove-331"><span class="linenos">331</span></a>        <span class="sd">&quot;&quot;&quot;Removes element from DOM.&quot;&quot;&quot;</span>
</span><span id="User.remove-332"><a href="#User.remove-332"><span class="linenos">332</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="s2">&quot;arguments[0].remove();&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">locator</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>Removes element from DOM.</p>
</div>


                            </div>
                            <div id="User.get_length" class="classattr">
                                        <input id="User.get_length-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_length</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">locator</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="nb">int</span>:</span></span>

                <label class="view-source-button" for="User.get_length-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.get_length"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.get_length-334"><a href="#User.get_length-334"><span class="linenos">334</span></a>    <span class="k">def</span> <span class="nf">get_length</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="User.get_length-335"><a href="#User.get_length-335"><span class="linenos">335</span></a>        <span class="sd">&quot;&quot;&quot;Returns number of child elements for a given element.&quot;&quot;&quot;</span>
</span><span id="User.get_length-336"><a href="#User.get_length-336"><span class="linenos">336</span></a>        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="s2">&quot;return arguments[0].length;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">locator</span><span class="p">)))</span>
</span></pre></div>


            <div class="docstring"><p>Returns number of child elements for a given element.</p>
</div>


                            </div>
                            <div id="User.find" class="classattr">
                                        <input id="User.find-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">find</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">locator</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="n">selenium</span><span class="o">.</span><span class="n">webdriver</span><span class="o">.</span><span class="n">remote</span><span class="o">.</span><span class="n">webelement</span><span class="o">.</span><span class="n">WebElement</span>:</span></span>

                <label class="view-source-button" for="User.find-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.find"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.find-338"><a href="#User.find-338"><span class="linenos">338</span></a>    <span class="k">def</span> <span class="nf">find</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WebElement</span><span class="p">:</span>
</span><span id="User.find-339"><a href="#User.find-339"><span class="linenos">339</span></a>        <span class="sd">&quot;&quot;&quot;Finds and returns a WebElement.&quot;&quot;&quot;</span>
</span><span id="User.find-340"><a href="#User.find-340"><span class="linenos">340</span></a>        <span class="k">match</span> <span class="bp">self</span><span class="o">.</span><span class="n">locator_method</span><span class="p">:</span>
</span><span id="User.find-341"><a href="#User.find-341"><span class="linenos">341</span></a>            <span class="k">case</span> <span class="s2">&quot;xpath&quot;</span><span class="p">:</span>
</span><span id="User.find-342"><a href="#User.find-342"><span class="linenos">342</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">XPATH</span><span class="p">,</span> <span class="n">locator</span><span class="p">)</span>
</span><span id="User.find-343"><a href="#User.find-343"><span class="linenos">343</span></a>            <span class="k">case</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span>
</span><span id="User.find-344"><a href="#User.find-344"><span class="linenos">344</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">ID</span><span class="p">,</span> <span class="n">locator</span><span class="p">)</span>
</span><span id="User.find-345"><a href="#User.find-345"><span class="linenos">345</span></a>            <span class="k">case</span> <span class="s2">&quot;className&quot;</span><span class="p">:</span>
</span><span id="User.find-346"><a href="#User.find-346"><span class="linenos">346</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">CLASS_NAME</span><span class="p">,</span> <span class="n">locator</span><span class="p">)</span>
</span><span id="User.find-347"><a href="#User.find-347"><span class="linenos">347</span></a>            <span class="k">case</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span>
</span><span id="User.find-348"><a href="#User.find-348"><span class="linenos">348</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span> <span class="n">locator</span><span class="p">)</span>
</span><span id="User.find-349"><a href="#User.find-349"><span class="linenos">349</span></a>            <span class="k">case</span> <span class="s2">&quot;cssSelector&quot;</span><span class="p">:</span>
</span><span id="User.find-350"><a href="#User.find-350"><span class="linenos">350</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">CSS_SELECTOR</span><span class="p">,</span> <span class="n">locator</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Finds and returns a WebElement.</p>
</div>


                            </div>
                            <div id="User.find_children" class="classattr">
                                        <input id="User.find_children-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">find_children</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">locator</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="n">selenium</span><span class="o">.</span><span class="n">webdriver</span><span class="o">.</span><span class="n">remote</span><span class="o">.</span><span class="n">webelement</span><span class="o">.</span><span class="n">WebElement</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="User.find_children-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.find_children"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.find_children-352"><a href="#User.find_children-352"><span class="linenos">352</span></a>    <span class="k">def</span> <span class="nf">find_children</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">WebElement</span><span class="p">]:</span>
</span><span id="User.find_children-353"><a href="#User.find_children-353"><span class="linenos">353</span></a>        <span class="sd">&quot;&quot;&quot;Returns a list of child WebElements</span>
</span><span id="User.find_children-354"><a href="#User.find_children-354"><span class="linenos">354</span></a><span class="sd">        for given locator arg.&quot;&quot;&quot;</span>
</span><span id="User.find_children-355"><a href="#User.find_children-355"><span class="linenos">355</span></a>        <span class="n">element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">locator</span><span class="p">)</span>
</span><span id="User.find_children-356"><a href="#User.find_children-356"><span class="linenos">356</span></a>        <span class="k">return</span> <span class="n">element</span><span class="o">.</span><span class="n">find_elements</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;./*&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Returns a list of child WebElements
for given locator arg.</p>
</div>


                            </div>
                            <div id="User.scroll" class="classattr">
                                        <input id="User.scroll-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">scroll</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">amount</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span>, </span><span class="param"><span class="n">fraction</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="User.scroll-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.scroll"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.scroll-358"><a href="#User.scroll-358"><span class="linenos">358</span></a>    <span class="k">def</span> <span class="nf">scroll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">fraction</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="User.scroll-359"><a href="#User.scroll-359"><span class="linenos">359</span></a>        <span class="sd">&quot;&quot;&quot;Scroll web page.</span>
</span><span id="User.scroll-360"><a href="#User.scroll-360"><span class="linenos">360</span></a><span class="sd">        :param amount: The number of lines to scroll if not None.</span>
</span><span id="User.scroll-361"><a href="#User.scroll-361"><span class="linenos">361</span></a>
</span><span id="User.scroll-362"><a href="#User.scroll-362"><span class="linenos">362</span></a><span class="sd">        :param fraction: The amount between 0.0 and 1.0</span>
</span><span id="User.scroll-363"><a href="#User.scroll-363"><span class="linenos">363</span></a><span class="sd">        of the page height to scroll.</span>
</span><span id="User.scroll-364"><a href="#User.scroll-364"><span class="linenos">364</span></a>
</span><span id="User.scroll-365"><a href="#User.scroll-365"><span class="linenos">365</span></a><span class="sd">        If values are provided for both arguments,</span>
</span><span id="User.scroll-366"><a href="#User.scroll-366"><span class="linenos">366</span></a><span class="sd">        amount will be used.</span>
</span><span id="User.scroll-367"><a href="#User.scroll-367"><span class="linenos">367</span></a>
</span><span id="User.scroll-368"><a href="#User.scroll-368"><span class="linenos">368</span></a><span class="sd">        If values are provided for neither argument,</span>
</span><span id="User.scroll-369"><a href="#User.scroll-369"><span class="linenos">369</span></a><span class="sd">        the entire page length will be scrolled.</span>
</span><span id="User.scroll-370"><a href="#User.scroll-370"><span class="linenos">370</span></a>
</span><span id="User.scroll-371"><a href="#User.scroll-371"><span class="linenos">371</span></a><span class="sd">        Scrolls one line at a time if self.turbo is False.&quot;&quot;&quot;</span>
</span><span id="User.scroll-372"><a href="#User.scroll-372"><span class="linenos">372</span></a>        <span class="k">if</span> <span class="n">amount</span><span class="p">:</span>
</span><span id="User.scroll-373"><a href="#User.scroll-373"><span class="linenos">373</span></a>            <span class="n">amount_to_scroll</span> <span class="o">=</span> <span class="n">amount</span>
</span><span id="User.scroll-374"><a href="#User.scroll-374"><span class="linenos">374</span></a>        <span class="k">elif</span> <span class="n">fraction</span><span class="p">:</span>
</span><span id="User.scroll-375"><a href="#User.scroll-375"><span class="linenos">375</span></a>            <span class="n">amount_to_scroll</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span>
</span><span id="User.scroll-376"><a href="#User.scroll-376"><span class="linenos">376</span></a>                <span class="n">fraction</span>
</span><span id="User.scroll-377"><a href="#User.scroll-377"><span class="linenos">377</span></a>                <span class="o">*</span> <span class="p">(</span>
</span><span id="User.scroll-378"><a href="#User.scroll-378"><span class="linenos">378</span></a>                    <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="s2">&quot;return document.body.scrollHeight;&quot;</span><span class="p">))</span>
</span><span id="User.scroll-379"><a href="#User.scroll-379"><span class="linenos">379</span></a>                    <span class="o">-</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="s2">&quot;return window.pageYOffset;&quot;</span><span class="p">))</span>
</span><span id="User.scroll-380"><a href="#User.scroll-380"><span class="linenos">380</span></a>                <span class="p">)</span>
</span><span id="User.scroll-381"><a href="#User.scroll-381"><span class="linenos">381</span></a>            <span class="p">)</span>
</span><span id="User.scroll-382"><a href="#User.scroll-382"><span class="linenos">382</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="User.scroll-383"><a href="#User.scroll-383"><span class="linenos">383</span></a>            <span class="n">amount_to_scroll</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="s2">&quot;return document.body.scrollHeight;&quot;</span><span class="p">))</span>
</span><span id="User.scroll-384"><a href="#User.scroll-384"><span class="linenos">384</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">turbo_engaged</span><span class="p">:</span>
</span><span id="User.scroll-385"><a href="#User.scroll-385"><span class="linenos">385</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="s2">&quot;window.scrollBy(0,arguments[0]);&quot;</span><span class="p">,</span> <span class="n">amount_to_scroll</span><span class="p">)</span>
</span><span id="User.scroll-386"><a href="#User.scroll-386"><span class="linenos">386</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="User.scroll-387"><a href="#User.scroll-387"><span class="linenos">387</span></a>            <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">amount_to_scroll</span><span class="p">)):</span>
</span><span id="User.scroll-388"><a href="#User.scroll-388"><span class="linenos">388</span></a>                <span class="k">if</span> <span class="n">amount_to_scroll</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="User.scroll-389"><a href="#User.scroll-389"><span class="linenos">389</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="s2">&quot;window.scrollBy(0,1);&quot;</span><span class="p">)</span>
</span><span id="User.scroll-390"><a href="#User.scroll-390"><span class="linenos">390</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="User.scroll-391"><a href="#User.scroll-391"><span class="linenos">391</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="s2">&quot;window.scrollBy(0,-1);&quot;</span><span class="p">)</span>
</span><span id="User.scroll-392"><a href="#User.scroll-392"><span class="linenos">392</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_click_wait</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Scroll web page.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>amount</strong>:  The number of lines to scroll if not None.</p></li>
<li><p><strong>fraction</strong>:  The amount between 0.0 and 1.0
of the page height to scroll.</p></li>
</ul>

<p>If values are provided for both arguments,
amount will be used.</p>

<p>If values are provided for neither argument,
the entire page length will be scrolled.</p>

<p>Scrolls one line at a time if self.turbo is False.</p>
</div>


                            </div>
                            <div id="User.scroll_into_view" class="classattr">
                                        <input id="User.scroll_into_view-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">scroll_into_view</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">locator</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="n">selenium</span><span class="o">.</span><span class="n">webdriver</span><span class="o">.</span><span class="n">remote</span><span class="o">.</span><span class="n">webelement</span><span class="o">.</span><span class="n">WebElement</span>:</span></span>

                <label class="view-source-button" for="User.scroll_into_view-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.scroll_into_view"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.scroll_into_view-394"><a href="#User.scroll_into_view-394"><span class="linenos">394</span></a>    <span class="k">def</span> <span class="nf">scroll_into_view</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WebElement</span><span class="p">:</span>
</span><span id="User.scroll_into_view-395"><a href="#User.scroll_into_view-395"><span class="linenos">395</span></a>        <span class="sd">&quot;&quot;&quot;Scrolls to a given element and returns the element.&quot;&quot;&quot;</span>
</span><span id="User.scroll_into_view-396"><a href="#User.scroll_into_view-396"><span class="linenos">396</span></a>        <span class="n">element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">locator</span><span class="p">)</span>
</span><span id="User.scroll_into_view-397"><a href="#User.scroll_into_view-397"><span class="linenos">397</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="s2">&quot;arguments[0].scroll_into_view();&quot;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>
</span><span id="User.scroll_into_view-398"><a href="#User.scroll_into_view-398"><span class="linenos">398</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_click_wait</span><span class="p">)</span>
</span><span id="User.scroll_into_view-399"><a href="#User.scroll_into_view-399"><span class="linenos">399</span></a>        <span class="k">return</span> <span class="n">element</span>
</span></pre></div>


            <div class="docstring"><p>Scrolls to a given element and returns the element.</p>
</div>


                            </div>
                            <div id="User.text" class="classattr">
                                        <input id="User.text-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">text</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">locator</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="User.text-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.text"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.text-401"><a href="#User.text-401"><span class="linenos">401</span></a>    <span class="k">def</span> <span class="nf">text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="User.text-402"><a href="#User.text-402"><span class="linenos">402</span></a>        <span class="sd">&quot;&quot;&quot;Returns text of WebElement.&quot;&quot;&quot;</span>
</span><span id="User.text-403"><a href="#User.text-403"><span class="linenos">403</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">locator</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
</span></pre></div>


            <div class="docstring"><p>Returns text of WebElement.</p>
</div>


                            </div>
                            <div id="User.click" class="classattr">
                                        <input id="User.click-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">click</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">locator</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="n">selenium</span><span class="o">.</span><span class="n">webdriver</span><span class="o">.</span><span class="n">remote</span><span class="o">.</span><span class="n">webelement</span><span class="o">.</span><span class="n">WebElement</span>:</span></span>

                <label class="view-source-button" for="User.click-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.click"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.click-405"><a href="#User.click-405"><span class="linenos">405</span></a>    <span class="k">def</span> <span class="nf">click</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WebElement</span><span class="p">:</span>
</span><span id="User.click-406"><a href="#User.click-406"><span class="linenos">406</span></a>        <span class="sd">&quot;&quot;&quot;Clicks on and returns WebElement.&quot;&quot;&quot;</span>
</span><span id="User.click-407"><a href="#User.click-407"><span class="linenos">407</span></a>        <span class="n">element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">locator</span><span class="p">)</span>
</span><span id="User.click-408"><a href="#User.click-408"><span class="linenos">408</span></a>        <span class="n">element</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
</span><span id="User.click-409"><a href="#User.click-409"><span class="linenos">409</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_click_wait</span><span class="p">)</span>
</span><span id="User.click-410"><a href="#User.click-410"><span class="linenos">410</span></a>        <span class="k">return</span> <span class="n">element</span>
</span></pre></div>


            <div class="docstring"><p>Clicks on and returns WebElement.</p>
</div>


                            </div>
                            <div id="User.clear" class="classattr">
                                        <input id="User.clear-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">clear</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">locator</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="n">selenium</span><span class="o">.</span><span class="n">webdriver</span><span class="o">.</span><span class="n">remote</span><span class="o">.</span><span class="n">webelement</span><span class="o">.</span><span class="n">WebElement</span>:</span></span>

                <label class="view-source-button" for="User.clear-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.clear"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.clear-412"><a href="#User.clear-412"><span class="linenos">412</span></a>    <span class="k">def</span> <span class="nf">clear</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WebElement</span><span class="p">:</span>
</span><span id="User.clear-413"><a href="#User.clear-413"><span class="linenos">413</span></a>        <span class="sd">&quot;&quot;&quot;Clears content of WebElement if able</span>
</span><span id="User.clear-414"><a href="#User.clear-414"><span class="linenos">414</span></a><span class="sd">        and then returns WebElement.&quot;&quot;&quot;</span>
</span><span id="User.clear-415"><a href="#User.clear-415"><span class="linenos">415</span></a>        <span class="n">element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">locator</span><span class="p">)</span>
</span><span id="User.clear-416"><a href="#User.clear-416"><span class="linenos">416</span></a>        <span class="n">element</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="User.clear-417"><a href="#User.clear-417"><span class="linenos">417</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_click_wait</span><span class="p">)</span>
</span><span id="User.clear-418"><a href="#User.clear-418"><span class="linenos">418</span></a>        <span class="k">return</span> <span class="n">element</span>
</span></pre></div>


            <div class="docstring"><p>Clears content of WebElement if able
and then returns WebElement.</p>
</div>


                            </div>
                            <div id="User.switch_to_iframe" class="classattr">
                                        <input id="User.switch_to_iframe-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">switch_to_iframe</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">locator</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="User.switch_to_iframe-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.switch_to_iframe"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.switch_to_iframe-420"><a href="#User.switch_to_iframe-420"><span class="linenos">420</span></a>    <span class="k">def</span> <span class="nf">switch_to_iframe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="User.switch_to_iframe-421"><a href="#User.switch_to_iframe-421"><span class="linenos">421</span></a>        <span class="sd">&quot;&quot;&quot;Switch to an iframe from given locator.&quot;&quot;&quot;</span>
</span><span id="User.switch_to_iframe-422"><a href="#User.switch_to_iframe-422"><span class="linenos">422</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">switch_to</span><span class="o">.</span><span class="n">frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">locator</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>Switch to an iframe from given locator.</p>
</div>


                            </div>
                            <div id="User.switch_to_parent_frame" class="classattr">
                                        <input id="User.switch_to_parent_frame-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">switch_to_parent_frame</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="User.switch_to_parent_frame-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.switch_to_parent_frame"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.switch_to_parent_frame-424"><a href="#User.switch_to_parent_frame-424"><span class="linenos">424</span></a>    <span class="k">def</span> <span class="nf">switch_to_parent_frame</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="User.switch_to_parent_frame-425"><a href="#User.switch_to_parent_frame-425"><span class="linenos">425</span></a>        <span class="sd">&quot;&quot;&quot;Move up a frame level from current frame.&quot;&quot;&quot;</span>
</span><span id="User.switch_to_parent_frame-426"><a href="#User.switch_to_parent_frame-426"><span class="linenos">426</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">switch_to</span><span class="o">.</span><span class="n">parent_frame</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Move up a frame level from current frame.</p>
</div>


                            </div>
                            <div id="User.select" class="classattr">
                                        <input id="User.select-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">select</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">locator</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">method</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">choice</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">tuple</span></span><span class="return-annotation">) -> <span class="n">selenium</span><span class="o">.</span><span class="n">webdriver</span><span class="o">.</span><span class="n">remote</span><span class="o">.</span><span class="n">webelement</span><span class="o">.</span><span class="n">WebElement</span>:</span></span>

                <label class="view-source-button" for="User.select-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.select"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.select-428"><a href="#User.select-428"><span class="linenos">428</span></a>    <span class="k">def</span> <span class="nf">select</span><span class="p">(</span>
</span><span id="User.select-429"><a href="#User.select-429"><span class="linenos">429</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">choice</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">tuple</span>
</span><span id="User.select-430"><a href="#User.select-430"><span class="linenos">430</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WebElement</span><span class="p">:</span>
</span><span id="User.select-431"><a href="#User.select-431"><span class="linenos">431</span></a>        <span class="sd">&quot;&quot;&quot;Select a choice from Select element.</span>
</span><span id="User.select-432"><a href="#User.select-432"><span class="linenos">432</span></a><span class="sd">        Returns the Select element from the locator string,</span>
</span><span id="User.select-433"><a href="#User.select-433"><span class="linenos">433</span></a><span class="sd">        not the option element that is selected.</span>
</span><span id="User.select-434"><a href="#User.select-434"><span class="linenos">434</span></a>
</span><span id="User.select-435"><a href="#User.select-435"><span class="linenos">435</span></a><span class="sd">        :param method: Can be &#39;value&#39; or &#39;index&#39;</span>
</span><span id="User.select-436"><a href="#User.select-436"><span class="linenos">436</span></a>
</span><span id="User.select-437"><a href="#User.select-437"><span class="linenos">437</span></a><span class="sd">        :param choice: The option to select.</span>
</span><span id="User.select-438"><a href="#User.select-438"><span class="linenos">438</span></a>
</span><span id="User.select-439"><a href="#User.select-439"><span class="linenos">439</span></a><span class="sd">        If method is &#39;value&#39;, then choice should be</span>
</span><span id="User.select-440"><a href="#User.select-440"><span class="linenos">440</span></a><span class="sd">        the html &#39;value&#39; attribute of the desired option.</span>
</span><span id="User.select-441"><a href="#User.select-441"><span class="linenos">441</span></a>
</span><span id="User.select-442"><a href="#User.select-442"><span class="linenos">442</span></a><span class="sd">        If method is &#39;index&#39;, choice can either be a single</span>
</span><span id="User.select-443"><a href="#User.select-443"><span class="linenos">443</span></a><span class="sd">        int for the desired option or it can be a two-tuple.</span>
</span><span id="User.select-444"><a href="#User.select-444"><span class="linenos">444</span></a><span class="sd">        If the tuple is provided, a random option between the</span>
</span><span id="User.select-445"><a href="#User.select-445"><span class="linenos">445</span></a><span class="sd">        two indicies (inclusive) will be selected.&quot;&quot;&quot;</span>
</span><span id="User.select-446"><a href="#User.select-446"><span class="linenos">446</span></a>        <span class="n">element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="n">locator</span><span class="p">)</span>
</span><span id="User.select-447"><a href="#User.select-447"><span class="linenos">447</span></a>        <span class="k">match</span> <span class="n">method</span><span class="p">:</span>
</span><span id="User.select-448"><a href="#User.select-448"><span class="linenos">448</span></a>            <span class="k">case</span> <span class="s2">&quot;value&quot;</span><span class="p">:</span>
</span><span id="User.select-449"><a href="#User.select-449"><span class="linenos">449</span></a>                <span class="n">Select</span><span class="p">(</span><span class="n">element</span><span class="p">)</span><span class="o">.</span><span class="n">select_by_value</span><span class="p">(</span><span class="n">choice</span><span class="p">)</span>
</span><span id="User.select-450"><a href="#User.select-450"><span class="linenos">450</span></a>            <span class="k">case</span> <span class="s2">&quot;index&quot;</span><span class="p">:</span>
</span><span id="User.select-451"><a href="#User.select-451"><span class="linenos">451</span></a>                <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">choice</span><span class="p">)</span> <span class="o">==</span> <span class="nb">tuple</span><span class="p">:</span>
</span><span id="User.select-452"><a href="#User.select-452"><span class="linenos">452</span></a>                    <span class="n">choice</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">choice</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">choice</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="User.select-453"><a href="#User.select-453"><span class="linenos">453</span></a>                <span class="n">Select</span><span class="p">(</span><span class="n">element</span><span class="p">)</span><span class="o">.</span><span class="n">select_by_index</span><span class="p">(</span><span class="n">choice</span><span class="p">)</span>
</span><span id="User.select-454"><a href="#User.select-454"><span class="linenos">454</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_field_wait</span><span class="p">)</span>
</span><span id="User.select-455"><a href="#User.select-455"><span class="linenos">455</span></a>        <span class="k">return</span> <span class="n">element</span>
</span></pre></div>


            <div class="docstring"><p>Select a choice from Select element.
Returns the Select element from the locator string,
not the option element that is selected.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>method</strong>:  Can be 'value' or 'index'</p></li>
<li><p><strong>choice</strong>:  The option to select.</p></li>
</ul>

<p>If method is 'value', then choice should be
the html 'value' attribute of the desired option.</p>

<p>If method is 'index', choice can either be a single
int for the desired option or it can be a two-tuple.
If the tuple is provided, a random option between the
two indicies (inclusive) will be selected.</p>
</div>


                            </div>
                            <div id="User.click_elements" class="classattr">
                                        <input id="User.click_elements-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">click_elements</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">locators</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>,</span><span class="param">	<span class="n">max_selections</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">min_selections</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span></span><span class="return-annotation">) -> <span class="n">selenium</span><span class="o">.</span><span class="n">webdriver</span><span class="o">.</span><span class="n">remote</span><span class="o">.</span><span class="n">webelement</span><span class="o">.</span><span class="n">WebElement</span>:</span></span>

                <label class="view-source-button" for="User.click_elements-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.click_elements"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.click_elements-457"><a href="#User.click_elements-457"><span class="linenos">457</span></a>    <span class="k">def</span> <span class="nf">click_elements</span><span class="p">(</span>
</span><span id="User.click_elements-458"><a href="#User.click_elements-458"><span class="linenos">458</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">locators</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">max_selections</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">min_selections</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="User.click_elements-459"><a href="#User.click_elements-459"><span class="linenos">459</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WebElement</span><span class="p">:</span>
</span><span id="User.click_elements-460"><a href="#User.click_elements-460"><span class="linenos">460</span></a>        <span class="sd">&quot;&quot;&quot;Click a random number of WebElements</span>
</span><span id="User.click_elements-461"><a href="#User.click_elements-461"><span class="linenos">461</span></a><span class="sd">        and return the last WebElement clicked.</span>
</span><span id="User.click_elements-462"><a href="#User.click_elements-462"><span class="linenos">462</span></a>
</span><span id="User.click_elements-463"><a href="#User.click_elements-463"><span class="linenos">463</span></a><span class="sd">        :param locators: A list of element locators to choose from.</span>
</span><span id="User.click_elements-464"><a href="#User.click_elements-464"><span class="linenos">464</span></a>
</span><span id="User.click_elements-465"><a href="#User.click_elements-465"><span class="linenos">465</span></a><span class="sd">        :param max_selections: The maximum number of elements to click.</span>
</span><span id="User.click_elements-466"><a href="#User.click_elements-466"><span class="linenos">466</span></a><span class="sd">        If None, the maximum will be the length of the locators list.</span>
</span><span id="User.click_elements-467"><a href="#User.click_elements-467"><span class="linenos">467</span></a>
</span><span id="User.click_elements-468"><a href="#User.click_elements-468"><span class="linenos">468</span></a><span class="sd">        :param min_selections: The minimum number of elements to click.</span>
</span><span id="User.click_elements-469"><a href="#User.click_elements-469"><span class="linenos">469</span></a>
</span><span id="User.click_elements-470"><a href="#User.click_elements-470"><span class="linenos">470</span></a><span class="sd">        e.g. self.click_elements([xpath1, xpath2, xpath3, xpath4], max_selections=3)</span>
</span><span id="User.click_elements-471"><a href="#User.click_elements-471"><span class="linenos">471</span></a><span class="sd">        will click between 1 and 3 random elements from the list.</span>
</span><span id="User.click_elements-472"><a href="#User.click_elements-472"><span class="linenos">472</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="User.click_elements-473"><a href="#User.click_elements-473"><span class="linenos">473</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">max_selections</span><span class="p">:</span>
</span><span id="User.click_elements-474"><a href="#User.click_elements-474"><span class="linenos">474</span></a>            <span class="n">max_selections</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">locators</span><span class="p">)</span>
</span><span id="User.click_elements-475"><a href="#User.click_elements-475"><span class="linenos">475</span></a>        <span class="k">for</span> <span class="n">option</span> <span class="ow">in</span> <span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span>
</span><span id="User.click_elements-476"><a href="#User.click_elements-476"><span class="linenos">476</span></a>            <span class="n">locators</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">min_selections</span><span class="p">,</span> <span class="n">max_selections</span><span class="p">)</span>
</span><span id="User.click_elements-477"><a href="#User.click_elements-477"><span class="linenos">477</span></a>        <span class="p">):</span>
</span><span id="User.click_elements-478"><a href="#User.click_elements-478"><span class="linenos">478</span></a>            <span class="n">element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
</span><span id="User.click_elements-479"><a href="#User.click_elements-479"><span class="linenos">479</span></a>        <span class="k">return</span> <span class="n">element</span>
</span></pre></div>


            <div class="docstring"><p>Click a random number of WebElements
and return the last WebElement clicked.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>locators</strong>:  A list of element locators to choose from.</p></li>
<li><p><strong>max_selections</strong>:  The maximum number of elements to click.
If None, the maximum will be the length of the locators list.</p></li>
<li><p><strong>min_selections</strong>:  The minimum number of elements to click.</p></li>
</ul>

<p>e.g. self.click_elements([xpath1, xpath2, xpath3, xpath4], max_selections=3)
will click between 1 and 3 random elements from the list.</p>
</div>


                            </div>
                            <div id="User.get_click_list" class="classattr">
                                        <input id="User.get_click_list-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_click_list</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">num_options</span><span class="p">:</span> <span class="nb">int</span>,</span><span class="param">	<span class="n">max_choices</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>,</span><span class="param">	<span class="n">min_choices</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="User.get_click_list-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.get_click_list"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.get_click_list-481"><a href="#User.get_click_list-481"><span class="linenos">481</span></a>    <span class="k">def</span> <span class="nf">get_click_list</span><span class="p">(</span>
</span><span id="User.get_click_list-482"><a href="#User.get_click_list-482"><span class="linenos">482</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">num_options</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">max_choices</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">min_choices</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="User.get_click_list-483"><a href="#User.get_click_list-483"><span class="linenos">483</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="User.get_click_list-484"><a href="#User.get_click_list-484"><span class="linenos">484</span></a>        <span class="sd">&quot;&quot;&quot;Similar to self.click_elements(), but for use with the self.fill_next() method.</span>
</span><span id="User.get_click_list-485"><a href="#User.get_click_list-485"><span class="linenos">485</span></a>
</span><span id="User.get_click_list-486"><a href="#User.get_click_list-486"><span class="linenos">486</span></a><span class="sd">        Creates a list of length &#39;num_options&#39; where every element is &#39;skip&#39;.</span>
</span><span id="User.get_click_list-487"><a href="#User.get_click_list-487"><span class="linenos">487</span></a>
</span><span id="User.get_click_list-488"><a href="#User.get_click_list-488"><span class="linenos">488</span></a><span class="sd">        A random number of elements in the list between &#39;min_choices&#39; and &#39;max_choices&#39; are</span>
</span><span id="User.get_click_list-489"><a href="#User.get_click_list-489"><span class="linenos">489</span></a><span class="sd">        replaced with &#39;keys.SPACE&#39; (interpreted as a click by almost all web forms).&quot;&quot;&quot;</span>
</span><span id="User.get_click_list-490"><a href="#User.get_click_list-490"><span class="linenos">490</span></a>        <span class="n">click_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;skip&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">num_options</span>
</span><span id="User.get_click_list-491"><a href="#User.get_click_list-491"><span class="linenos">491</span></a>        <span class="n">selected_indexes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="User.get_click_list-492"><a href="#User.get_click_list-492"><span class="linenos">492</span></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">min_choices</span><span class="p">,</span> <span class="n">max_choices</span><span class="p">)):</span>
</span><span id="User.get_click_list-493"><a href="#User.get_click_list-493"><span class="linenos">493</span></a>            <span class="n">index</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">num_options</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="User.get_click_list-494"><a href="#User.get_click_list-494"><span class="linenos">494</span></a>            <span class="k">while</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">selected_indexes</span><span class="p">:</span>
</span><span id="User.get_click_list-495"><a href="#User.get_click_list-495"><span class="linenos">495</span></a>                <span class="n">index</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">num_options</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="User.get_click_list-496"><a href="#User.get_click_list-496"><span class="linenos">496</span></a>            <span class="n">selected_indexes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
</span><span id="User.get_click_list-497"><a href="#User.get_click_list-497"><span class="linenos">497</span></a>            <span class="n">click_list</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">SPACE</span>
</span><span id="User.get_click_list-498"><a href="#User.get_click_list-498"><span class="linenos">498</span></a>        <span class="k">return</span> <span class="n">click_list</span>
</span></pre></div>


            <div class="docstring"><p>Similar to self.click_elements(), but for use with the self.fill_next() method.</p>

<p>Creates a list of length 'num_options' where every element is 'skip'.</p>

<p>A random number of elements in the list between 'min_choices' and 'max_choices' are
replaced with 'keys.SPACE' (interpreted as a click by almost all web forms).</p>
</div>


                            </div>
                            <div id="User.send_keys" class="classattr">
                                        <input id="User.send_keys-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">send_keys</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">locator</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">data</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">click_first</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">clear_first</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="n">selenium</span><span class="o">.</span><span class="n">webdriver</span><span class="o">.</span><span class="n">remote</span><span class="o">.</span><span class="n">webelement</span><span class="o">.</span><span class="n">WebElement</span>:</span></span>

                <label class="view-source-button" for="User.send_keys-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.send_keys"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.send_keys-500"><a href="#User.send_keys-500"><span class="linenos">500</span></a>    <span class="k">def</span> <span class="nf">send_keys</span><span class="p">(</span>
</span><span id="User.send_keys-501"><a href="#User.send_keys-501"><span class="linenos">501</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="User.send_keys-502"><a href="#User.send_keys-502"><span class="linenos">502</span></a>        <span class="n">locator</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="User.send_keys-503"><a href="#User.send_keys-503"><span class="linenos">503</span></a>        <span class="n">data</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="User.send_keys-504"><a href="#User.send_keys-504"><span class="linenos">504</span></a>        <span class="n">click_first</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="User.send_keys-505"><a href="#User.send_keys-505"><span class="linenos">505</span></a>        <span class="n">clear_first</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="User.send_keys-506"><a href="#User.send_keys-506"><span class="linenos">506</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WebElement</span><span class="p">:</span>
</span><span id="User.send_keys-507"><a href="#User.send_keys-507"><span class="linenos">507</span></a>        <span class="sd">&quot;&quot;&quot;Types data into element and returns the element.</span>
</span><span id="User.send_keys-508"><a href="#User.send_keys-508"><span class="linenos">508</span></a>
</span><span id="User.send_keys-509"><a href="#User.send_keys-509"><span class="linenos">509</span></a><span class="sd">        :param data: The string to send to the element.</span>
</span><span id="User.send_keys-510"><a href="#User.send_keys-510"><span class="linenos">510</span></a>
</span><span id="User.send_keys-511"><a href="#User.send_keys-511"><span class="linenos">511</span></a><span class="sd">        :param click_first: If True, the element is clicked on</span>
</span><span id="User.send_keys-512"><a href="#User.send_keys-512"><span class="linenos">512</span></a><span class="sd">        before the data is sent.</span>
</span><span id="User.send_keys-513"><a href="#User.send_keys-513"><span class="linenos">513</span></a>
</span><span id="User.send_keys-514"><a href="#User.send_keys-514"><span class="linenos">514</span></a><span class="sd">        :param clear_first: If True, the current text of the element</span>
</span><span id="User.send_keys-515"><a href="#User.send_keys-515"><span class="linenos">515</span></a><span class="sd">        is cleared before the data is sent.&quot;&quot;&quot;</span>
</span><span id="User.send_keys-516"><a href="#User.send_keys-516"><span class="linenos">516</span></a>        <span class="n">element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="n">locator</span><span class="p">)</span> <span class="k">if</span> <span class="n">click_first</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">locator</span><span class="p">)</span>
</span><span id="User.send_keys-517"><a href="#User.send_keys-517"><span class="linenos">517</span></a>        <span class="k">if</span> <span class="n">clear_first</span><span class="p">:</span>
</span><span id="User.send_keys-518"><a href="#User.send_keys-518"><span class="linenos">518</span></a>            <span class="n">element</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="User.send_keys-519"><a href="#User.send_keys-519"><span class="linenos">519</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_click_wait</span><span class="p">)</span>
</span><span id="User.send_keys-520"><a href="#User.send_keys-520"><span class="linenos">520</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">one_key_at_a_time</span><span class="p">:</span>
</span><span id="User.send_keys-521"><a href="#User.send_keys-521"><span class="linenos">521</span></a>            <span class="k">for</span> <span class="n">ch</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
</span><span id="User.send_keys-522"><a href="#User.send_keys-522"><span class="linenos">522</span></a>                <span class="n">element</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">ch</span><span class="p">)</span>
</span><span id="User.send_keys-523"><a href="#User.send_keys-523"><span class="linenos">523</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_key_wait</span><span class="p">)</span>
</span><span id="User.send_keys-524"><a href="#User.send_keys-524"><span class="linenos">524</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="User.send_keys-525"><a href="#User.send_keys-525"><span class="linenos">525</span></a>            <span class="n">element</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
</span><span id="User.send_keys-526"><a href="#User.send_keys-526"><span class="linenos">526</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_field_wait</span><span class="p">)</span>
</span><span id="User.send_keys-527"><a href="#User.send_keys-527"><span class="linenos">527</span></a>        <span class="k">return</span> <span class="n">element</span>
</span></pre></div>


            <div class="docstring"><p>Types data into element and returns the element.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>data</strong>:  The string to send to the element.</p></li>
<li><p><strong>click_first</strong>:  If True, the element is clicked on
before the data is sent.</p></li>
<li><p><strong>clear_first</strong>:  If True, the current text of the element
is cleared before the data is sent.</p></li>
</ul>
</div>


                            </div>
                            <div id="User.fill_next" class="classattr">
                                        <input id="User.fill_next-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">fill_next</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">]</span>,</span><span class="param">	<span class="n">start_element</span><span class="p">:</span> <span class="n">selenium</span><span class="o">.</span><span class="n">webdriver</span><span class="o">.</span><span class="n">remote</span><span class="o">.</span><span class="n">webelement</span><span class="o">.</span><span class="n">WebElement</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n">selenium</span><span class="o">.</span><span class="n">webdriver</span><span class="o">.</span><span class="n">remote</span><span class="o">.</span><span class="n">webelement</span><span class="o">.</span><span class="n">WebElement</span>:</span></span>

                <label class="view-source-button" for="User.fill_next-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.fill_next"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.fill_next-529"><a href="#User.fill_next-529"><span class="linenos">529</span></a>    <span class="k">def</span> <span class="nf">fill_next</span><span class="p">(</span>
</span><span id="User.fill_next-530"><a href="#User.fill_next-530"><span class="linenos">530</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">],</span> <span class="n">start_element</span><span class="p">:</span> <span class="n">WebElement</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="User.fill_next-531"><a href="#User.fill_next-531"><span class="linenos">531</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WebElement</span><span class="p">:</span>
</span><span id="User.fill_next-532"><a href="#User.fill_next-532"><span class="linenos">532</span></a>        <span class="sd">&quot;&quot;&quot;Fills a form by tabbing from the current WebElement</span>
</span><span id="User.fill_next-533"><a href="#User.fill_next-533"><span class="linenos">533</span></a><span class="sd">        to the next one and using the corresponding item in data.</span>
</span><span id="User.fill_next-534"><a href="#User.fill_next-534"><span class="linenos">534</span></a><span class="sd">        Returns the last WebElement.</span>
</span><span id="User.fill_next-535"><a href="#User.fill_next-535"><span class="linenos">535</span></a>
</span><span id="User.fill_next-536"><a href="#User.fill_next-536"><span class="linenos">536</span></a><span class="sd">        :param data: A list of form data. If an item is a string (except for &#39;skip&#39;)</span>
</span><span id="User.fill_next-537"><a href="#User.fill_next-537"><span class="linenos">537</span></a><span class="sd">        it will be typed into the current WebElement.</span>
</span><span id="User.fill_next-538"><a href="#User.fill_next-538"><span class="linenos">538</span></a>
</span><span id="User.fill_next-539"><a href="#User.fill_next-539"><span class="linenos">539</span></a><span class="sd">        An item in data can be a two-tuple of the form</span>
</span><span id="User.fill_next-540"><a href="#User.fill_next-540"><span class="linenos">540</span></a><span class="sd">        (&#39;downArrow&#39;, numberOfPresses:int|tuple[int, int]).</span>
</span><span id="User.fill_next-541"><a href="#User.fill_next-541"><span class="linenos">541</span></a>
</span><span id="User.fill_next-542"><a href="#User.fill_next-542"><span class="linenos">542</span></a><span class="sd">        If numberOfPresses is a single int, Keys.ARROW_DOWN will be sent</span>
</span><span id="User.fill_next-543"><a href="#User.fill_next-543"><span class="linenos">543</span></a><span class="sd">        that many times to the WebElement.</span>
</span><span id="User.fill_next-544"><a href="#User.fill_next-544"><span class="linenos">544</span></a>
</span><span id="User.fill_next-545"><a href="#User.fill_next-545"><span class="linenos">545</span></a><span class="sd">        If numberOfPresses is a tuple, Keys.ARROW_DOWN will be sent a random</span>
</span><span id="User.fill_next-546"><a href="#User.fill_next-546"><span class="linenos">546</span></a><span class="sd">        number of times between numberOfPresses[0] and numberOfPresses[1] inclusive.</span>
</span><span id="User.fill_next-547"><a href="#User.fill_next-547"><span class="linenos">547</span></a><span class="sd">        This is typically for use with Select elements.</span>
</span><span id="User.fill_next-548"><a href="#User.fill_next-548"><span class="linenos">548</span></a>
</span><span id="User.fill_next-549"><a href="#User.fill_next-549"><span class="linenos">549</span></a><span class="sd">        An item in data can also be &#39;skip&#39;, which will perform no action on the current</span>
</span><span id="User.fill_next-550"><a href="#User.fill_next-550"><span class="linenos">550</span></a><span class="sd">        WebElement and will continue to the next one.</span>
</span><span id="User.fill_next-551"><a href="#User.fill_next-551"><span class="linenos">551</span></a>
</span><span id="User.fill_next-552"><a href="#User.fill_next-552"><span class="linenos">552</span></a><span class="sd">        :param start_element: The WebElement to start tabbing from.</span>
</span><span id="User.fill_next-553"><a href="#User.fill_next-553"><span class="linenos">553</span></a><span class="sd">        The currently active element will be used if start_element is None.</span>
</span><span id="User.fill_next-554"><a href="#User.fill_next-554"><span class="linenos">554</span></a>
</span><span id="User.fill_next-555"><a href="#User.fill_next-555"><span class="linenos">555</span></a><span class="sd">        Note: The function tabs to the next element before sending data,</span>
</span><span id="User.fill_next-556"><a href="#User.fill_next-556"><span class="linenos">556</span></a><span class="sd">        so the start_element should the WebElement before the one</span>
</span><span id="User.fill_next-557"><a href="#User.fill_next-557"><span class="linenos">557</span></a><span class="sd">        that should receive data[0].</span>
</span><span id="User.fill_next-558"><a href="#User.fill_next-558"><span class="linenos">558</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="User.fill_next-559"><a href="#User.fill_next-559"><span class="linenos">559</span></a>        <span class="n">element</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="User.fill_next-560"><a href="#User.fill_next-560"><span class="linenos">560</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">switch_to</span><span class="o">.</span><span class="n">active_element</span>
</span><span id="User.fill_next-561"><a href="#User.fill_next-561"><span class="linenos">561</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">start_element</span>
</span><span id="User.fill_next-562"><a href="#User.fill_next-562"><span class="linenos">562</span></a>            <span class="k">else</span> <span class="n">start_element</span>
</span><span id="User.fill_next-563"><a href="#User.fill_next-563"><span class="linenos">563</span></a>        <span class="p">)</span>
</span><span id="User.fill_next-564"><a href="#User.fill_next-564"><span class="linenos">564</span></a>        <span class="k">for</span> <span class="n">datum</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
</span><span id="User.fill_next-565"><a href="#User.fill_next-565"><span class="linenos">565</span></a>            <span class="n">element</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">Keys</span><span class="o">.</span><span class="n">TAB</span><span class="p">)</span>
</span><span id="User.fill_next-566"><a href="#User.fill_next-566"><span class="linenos">566</span></a>            <span class="n">element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">switch_to</span><span class="o">.</span><span class="n">active_element</span>
</span><span id="User.fill_next-567"><a href="#User.fill_next-567"><span class="linenos">567</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_key_wait</span><span class="p">)</span>
</span><span id="User.fill_next-568"><a href="#User.fill_next-568"><span class="linenos">568</span></a>            <span class="k">if</span> <span class="n">datum</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;downArrow&quot;</span><span class="p">:</span>
</span><span id="User.fill_next-569"><a href="#User.fill_next-569"><span class="linenos">569</span></a>                <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">datum</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">==</span> <span class="nb">tuple</span><span class="p">:</span>
</span><span id="User.fill_next-570"><a href="#User.fill_next-570"><span class="linenos">570</span></a>                    <span class="n">times</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">datum</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">datum</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
</span><span id="User.fill_next-571"><a href="#User.fill_next-571"><span class="linenos">571</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="User.fill_next-572"><a href="#User.fill_next-572"><span class="linenos">572</span></a>                    <span class="n">times</span> <span class="o">=</span> <span class="n">datum</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="User.fill_next-573"><a href="#User.fill_next-573"><span class="linenos">573</span></a>                <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">times</span><span class="p">):</span>
</span><span id="User.fill_next-574"><a href="#User.fill_next-574"><span class="linenos">574</span></a>                    <span class="n">element</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">Keys</span><span class="o">.</span><span class="n">ARROW_DOWN</span><span class="p">)</span>
</span><span id="User.fill_next-575"><a href="#User.fill_next-575"><span class="linenos">575</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_key_wait</span><span class="p">)</span>
</span><span id="User.fill_next-576"><a href="#User.fill_next-576"><span class="linenos">576</span></a>            <span class="k">elif</span> <span class="n">datum</span> <span class="o">==</span> <span class="s2">&quot;skip&quot;</span><span class="p">:</span>
</span><span id="User.fill_next-577"><a href="#User.fill_next-577"><span class="linenos">577</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_key_wait</span><span class="p">)</span>
</span><span id="User.fill_next-578"><a href="#User.fill_next-578"><span class="linenos">578</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="User.fill_next-579"><a href="#User.fill_next-579"><span class="linenos">579</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">turbo_engaged</span><span class="p">:</span>
</span><span id="User.fill_next-580"><a href="#User.fill_next-580"><span class="linenos">580</span></a>                    <span class="n">element</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">datum</span><span class="p">))</span>
</span><span id="User.fill_next-581"><a href="#User.fill_next-581"><span class="linenos">581</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="User.fill_next-582"><a href="#User.fill_next-582"><span class="linenos">582</span></a>                    <span class="k">for</span> <span class="n">ch</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">datum</span><span class="p">):</span>
</span><span id="User.fill_next-583"><a href="#User.fill_next-583"><span class="linenos">583</span></a>                        <span class="n">element</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">ch</span><span class="p">)</span>
</span><span id="User.fill_next-584"><a href="#User.fill_next-584"><span class="linenos">584</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_key_wait</span><span class="p">)</span>
</span><span id="User.fill_next-585"><a href="#User.fill_next-585"><span class="linenos">585</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">chill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">after_field_wait</span><span class="p">)</span>
</span><span id="User.fill_next-586"><a href="#User.fill_next-586"><span class="linenos">586</span></a>        <span class="k">return</span> <span class="n">element</span>
</span></pre></div>


            <div class="docstring"><p>Fills a form by tabbing from the current WebElement
to the next one and using the corresponding item in data.
Returns the last WebElement.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>data</strong>:  A list of form data. If an item is a string (except for 'skip')
it will be typed into the current WebElement.</li>
</ul>

<p>An item in data can be a two-tuple of the form
('downArrow', numberOfPresses:int|tuple[int, int]).</p>

<p>If numberOfPresses is a single int, Keys.ARROW_DOWN will be sent
that many times to the WebElement.</p>

<p>If numberOfPresses is a tuple, Keys.ARROW_DOWN will be sent a random
number of times between numberOfPresses[0] and numberOfPresses[1] inclusive.
This is typically for use with Select elements.</p>

<p>An item in data can also be 'skip', which will perform no action on the current
WebElement and will continue to the next one.</p>

<ul>
<li><strong>start_element</strong>:  The WebElement to start tabbing from.
The currently active element will be used if start_element is None.</li>
</ul>

<p>Note: The function tabs to the next element before sending data,
so the start_element should the WebElement before the one
that should receive data[0].</p>
</div>


                            </div>
                            <div id="User.wait_until" class="classattr">
                                        <input id="User.wait_until-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">wait_until</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">condition</span><span class="p">:</span> <span class="n">function</span>,</span><span class="param">	<span class="n">max_wait</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">10</span>,</span><span class="param">	<span class="n">polling_interval</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="User.wait_until-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.wait_until"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.wait_until-588"><a href="#User.wait_until-588"><span class="linenos">588</span></a>    <span class="k">def</span> <span class="nf">wait_until</span><span class="p">(</span>
</span><span id="User.wait_until-589"><a href="#User.wait_until-589"><span class="linenos">589</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">condition</span><span class="p">:</span> <span class="n">LambdaType</span><span class="p">,</span> <span class="n">max_wait</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">polling_interval</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span>
</span><span id="User.wait_until-590"><a href="#User.wait_until-590"><span class="linenos">590</span></a>    <span class="p">):</span>
</span><span id="User.wait_until-591"><a href="#User.wait_until-591"><span class="linenos">591</span></a>        <span class="sd">&quot;&quot;&quot;Checks condition repeatedly until either it is true,</span>
</span><span id="User.wait_until-592"><a href="#User.wait_until-592"><span class="linenos">592</span></a><span class="sd">        or the max_wait is exceeded.</span>
</span><span id="User.wait_until-593"><a href="#User.wait_until-593"><span class="linenos">593</span></a>
</span><span id="User.wait_until-594"><a href="#User.wait_until-594"><span class="linenos">594</span></a><span class="sd">        Raises a TimeoutError if the condition doesn&#39;t success within max_wait.</span>
</span><span id="User.wait_until-595"><a href="#User.wait_until-595"><span class="linenos">595</span></a>
</span><span id="User.wait_until-596"><a href="#User.wait_until-596"><span class="linenos">596</span></a><span class="sd">        Useful for determing whether a form has been successfully submitted.</span>
</span><span id="User.wait_until-597"><a href="#User.wait_until-597"><span class="linenos">597</span></a>
</span><span id="User.wait_until-598"><a href="#User.wait_until-598"><span class="linenos">598</span></a><span class="sd">        :param condition: The condition function to check.</span>
</span><span id="User.wait_until-599"><a href="#User.wait_until-599"><span class="linenos">599</span></a>
</span><span id="User.wait_until-600"><a href="#User.wait_until-600"><span class="linenos">600</span></a><span class="sd">        :param max_wait: Number of seconds to continue checking condition</span>
</span><span id="User.wait_until-601"><a href="#User.wait_until-601"><span class="linenos">601</span></a><span class="sd">        before throwing a TimeoutError.</span>
</span><span id="User.wait_until-602"><a href="#User.wait_until-602"><span class="linenos">602</span></a>
</span><span id="User.wait_until-603"><a href="#User.wait_until-603"><span class="linenos">603</span></a><span class="sd">        :param polling_interval: The number of seconds to sleep before</span>
</span><span id="User.wait_until-604"><a href="#User.wait_until-604"><span class="linenos">604</span></a><span class="sd">        checking the condition function again after it fails.</span>
</span><span id="User.wait_until-605"><a href="#User.wait_until-605"><span class="linenos">605</span></a>
</span><span id="User.wait_until-606"><a href="#User.wait_until-606"><span class="linenos">606</span></a><span class="sd">        e.g. self.wait_until(lambda: &#39;Successfully Submitted&#39; in self.text(&#39;//p[@id=&quot;form-output&quot;]))&quot;&quot;&quot;</span>
</span><span id="User.wait_until-607"><a href="#User.wait_until-607"><span class="linenos">607</span></a>        <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</span><span id="User.wait_until-608"><a href="#User.wait_until-608"><span class="linenos">608</span></a>        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span><span id="User.wait_until-609"><a href="#User.wait_until-609"><span class="linenos">609</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="User.wait_until-610"><a href="#User.wait_until-610"><span class="linenos">610</span></a>                <span class="k">if</span> <span class="n">condition</span><span class="p">():</span>
</span><span id="User.wait_until-611"><a href="#User.wait_until-611"><span class="linenos">611</span></a>                    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="User.wait_until-612"><a href="#User.wait_until-612"><span class="linenos">612</span></a>                    <span class="k">break</span>
</span><span id="User.wait_until-613"><a href="#User.wait_until-613"><span class="linenos">613</span></a>                <span class="k">elif</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">max_wait</span><span class="p">:</span>
</span><span id="User.wait_until-614"><a href="#User.wait_until-614"><span class="linenos">614</span></a>                    <span class="k">raise</span> <span class="ne">TimeoutError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;max_wait exceeded in wait_until(</span><span class="si">{</span><span class="n">condition</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</span><span id="User.wait_until-615"><a href="#User.wait_until-615"><span class="linenos">615</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="User.wait_until-616"><a href="#User.wait_until-616"><span class="linenos">616</span></a>                    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">polling_interval</span><span class="p">)</span>
</span><span id="User.wait_until-617"><a href="#User.wait_until-617"><span class="linenos">617</span></a>            <span class="k">except</span><span class="p">:</span>
</span><span id="User.wait_until-618"><a href="#User.wait_until-618"><span class="linenos">618</span></a>                <span class="k">if</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">max_wait</span><span class="p">:</span>
</span><span id="User.wait_until-619"><a href="#User.wait_until-619"><span class="linenos">619</span></a>                    <span class="k">raise</span> <span class="ne">TimeoutError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;max_wait exceeded in wait_until(</span><span class="si">{</span><span class="n">condition</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</span><span id="User.wait_until-620"><a href="#User.wait_until-620"><span class="linenos">620</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="User.wait_until-621"><a href="#User.wait_until-621"><span class="linenos">621</span></a>                    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">polling_interval</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Checks condition repeatedly until either it is true,
or the max_wait is exceeded.</p>

<p>Raises a TimeoutError if the condition doesn't success within max_wait.</p>

<p>Useful for determing whether a form has been successfully submitted.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><p><strong>condition</strong>:  The condition function to check.</p></li>
<li><p><strong>max_wait</strong>:  Number of seconds to continue checking condition
before throwing a TimeoutError.</p></li>
<li><p><strong>polling_interval</strong>:  The number of seconds to sleep before
checking the condition function again after it fails.</p></li>
</ul>

<p>e.g. self.wait_until(lambda: 'Successfully Submitted' in self.text('//p[@id="form-output"]))</p>
</div>


                            </div>
                            <div id="User.dismiss_alert" class="classattr">
                                        <input id="User.dismiss_alert-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">dismiss_alert</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="User.dismiss_alert-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.dismiss_alert"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.dismiss_alert-623"><a href="#User.dismiss_alert-623"><span class="linenos">623</span></a>    <span class="k">def</span> <span class="nf">dismiss_alert</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="User.dismiss_alert-624"><a href="#User.dismiss_alert-624"><span class="linenos">624</span></a>        <span class="sd">&quot;&quot;&quot;Dismiss alert dialog.&quot;&quot;&quot;</span>
</span><span id="User.dismiss_alert-625"><a href="#User.dismiss_alert-625"><span class="linenos">625</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">switch_to</span><span class="o">.</span><span class="n">alert</span><span class="o">.</span><span class="n">dismiss</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Dismiss alert dialog.</p>
</div>


                            </div>
                            <div id="User.solve_recaptcha_v3" class="classattr">
                                        <input id="User.solve_recaptcha_v3-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">solve_recaptcha_v3</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">outer_iframe_xpath</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;//iframe[@title=&quot;reCAPTCHA&quot;]&#39;</span>,</span><span class="param">	<span class="n">inner_iframe_xpath</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;//iframe[@title=&quot;recaptcha challenge expires in two minutes&quot;]&#39;</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="User.solve_recaptcha_v3-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#User.solve_recaptcha_v3"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="User.solve_recaptcha_v3-627"><a href="#User.solve_recaptcha_v3-627"><span class="linenos">627</span></a>    <span class="k">def</span> <span class="nf">solve_recaptcha_v3</span><span class="p">(</span>
</span><span id="User.solve_recaptcha_v3-628"><a href="#User.solve_recaptcha_v3-628"><span class="linenos">628</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="User.solve_recaptcha_v3-629"><a href="#User.solve_recaptcha_v3-629"><span class="linenos">629</span></a>        <span class="n">outer_iframe_xpath</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;//iframe[@title=&quot;reCAPTCHA&quot;]&#39;</span><span class="p">,</span>
</span><span id="User.solve_recaptcha_v3-630"><a href="#User.solve_recaptcha_v3-630"><span class="linenos">630</span></a>        <span class="n">inner_iframe_xpath</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;//iframe[@title=&quot;recaptcha challenge expires in two minutes&quot;]&#39;</span><span class="p">,</span>
</span><span id="User.solve_recaptcha_v3-631"><a href="#User.solve_recaptcha_v3-631"><span class="linenos">631</span></a>    <span class="p">):</span>
</span><span id="User.solve_recaptcha_v3-632"><a href="#User.solve_recaptcha_v3-632"><span class="linenos">632</span></a>        <span class="sd">&quot;&quot;&quot;Pass google recaptcha v3 by solving an audio puzzle.</span>
</span><span id="User.solve_recaptcha_v3-633"><a href="#User.solve_recaptcha_v3-633"><span class="linenos">633</span></a>
</span><span id="User.solve_recaptcha_v3-634"><a href="#User.solve_recaptcha_v3-634"><span class="linenos">634</span></a><span class="sd">        :param outer_iframe_xpath: Xpath to the iframe containing the recaptcha checkbox.</span>
</span><span id="User.solve_recaptcha_v3-635"><a href="#User.solve_recaptcha_v3-635"><span class="linenos">635</span></a><span class="sd">        If it&#39;s the recaptcha without the initial checkbox that just shows the image puzzle,</span>
</span><span id="User.solve_recaptcha_v3-636"><a href="#User.solve_recaptcha_v3-636"><span class="linenos">636</span></a><span class="sd">        pass None to this argument.</span>
</span><span id="User.solve_recaptcha_v3-637"><a href="#User.solve_recaptcha_v3-637"><span class="linenos">637</span></a>
</span><span id="User.solve_recaptcha_v3-638"><a href="#User.solve_recaptcha_v3-638"><span class="linenos">638</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="User.solve_recaptcha_v3-639"><a href="#User.solve_recaptcha_v3-639"><span class="linenos">639</span></a>        <span class="n">locator_method</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">locator_method</span>
</span><span id="User.solve_recaptcha_v3-640"><a href="#User.solve_recaptcha_v3-640"><span class="linenos">640</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">locator_method</span> <span class="o">=</span> <span class="s2">&quot;xpath&quot;</span>
</span><span id="User.solve_recaptcha_v3-641"><a href="#User.solve_recaptcha_v3-641"><span class="linenos">641</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="User.solve_recaptcha_v3-642"><a href="#User.solve_recaptcha_v3-642"><span class="linenos">642</span></a>            <span class="k">if</span> <span class="n">outer_iframe_xpath</span><span class="p">:</span>
</span><span id="User.solve_recaptcha_v3-643"><a href="#User.solve_recaptcha_v3-643"><span class="linenos">643</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">switch_to_iframe</span><span class="p">(</span><span class="n">outer_iframe_xpath</span><span class="p">)</span>
</span><span id="User.solve_recaptcha_v3-644"><a href="#User.solve_recaptcha_v3-644"><span class="linenos">644</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;recaptcha-anchor&quot;]&#39;</span><span class="p">)</span>
</span><span id="User.solve_recaptcha_v3-645"><a href="#User.solve_recaptcha_v3-645"><span class="linenos">645</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">switch_to_parent_frame</span><span class="p">()</span>
</span><span id="User.solve_recaptcha_v3-646"><a href="#User.solve_recaptcha_v3-646"><span class="linenos">646</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">switch_to_iframe</span><span class="p">(</span><span class="n">inner_iframe_xpath</span><span class="p">)</span>
</span><span id="User.solve_recaptcha_v3-647"><a href="#User.solve_recaptcha_v3-647"><span class="linenos">647</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;recaptcha-audio-button&quot;]&#39;</span><span class="p">)</span>
</span><span id="User.solve_recaptcha_v3-648"><a href="#User.solve_recaptcha_v3-648"><span class="linenos">648</span></a>            <span class="n">mp3_url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span>
</span><span id="User.solve_recaptcha_v3-649"><a href="#User.solve_recaptcha_v3-649"><span class="linenos">649</span></a>                <span class="s1">&#39;//a[@class=&quot;rc-audiochallenge-tdownload-link&quot;]&#39;</span>
</span><span id="User.solve_recaptcha_v3-650"><a href="#User.solve_recaptcha_v3-650"><span class="linenos">650</span></a>            <span class="p">)</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="s2">&quot;href&quot;</span><span class="p">)</span>
</span><span id="User.solve_recaptcha_v3-651"><a href="#User.solve_recaptcha_v3-651"><span class="linenos">651</span></a>            <span class="n">text</span> <span class="o">=</span> <span class="n">get_text_from_url</span><span class="p">(</span><span class="n">mp3_url</span><span class="p">,</span> <span class="s2">&quot;.mp3&quot;</span><span class="p">)</span>
</span><span id="User.solve_recaptcha_v3-652"><a href="#User.solve_recaptcha_v3-652"><span class="linenos">652</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;audio-response&quot;]&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
</span><span id="User.solve_recaptcha_v3-653"><a href="#User.solve_recaptcha_v3-653"><span class="linenos">653</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="s1">&#39;//*[@id=&quot;recaptcha-verify-button&quot;]&#39;</span><span class="p">)</span>
</span><span id="User.solve_recaptcha_v3-654"><a href="#User.solve_recaptcha_v3-654"><span class="linenos">654</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="User.solve_recaptcha_v3-655"><a href="#User.solve_recaptcha_v3-655"><span class="linenos">655</span></a>            <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="User.solve_recaptcha_v3-656"><a href="#User.solve_recaptcha_v3-656"><span class="linenos">656</span></a>            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Could not solve captcha&quot;</span><span class="p">)</span>
</span><span id="User.solve_recaptcha_v3-657"><a href="#User.solve_recaptcha_v3-657"><span class="linenos">657</span></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="User.solve_recaptcha_v3-658"><a href="#User.solve_recaptcha_v3-658"><span class="linenos">658</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">switch_to_parent_frame</span><span class="p">()</span>
</span><span id="User.solve_recaptcha_v3-659"><a href="#User.solve_recaptcha_v3-659"><span class="linenos">659</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">locator_method</span> <span class="o">=</span> <span class="n">locator_method</span>
</span></pre></div>


            <div class="docstring"><p>Pass google recaptcha v3 by solving an audio puzzle.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>outer_iframe_xpath</strong>:  Xpath to the iframe containing the recaptcha checkbox.
If it's the recaptcha without the initial checkbox that just shows the image puzzle,
pass None to this argument.</li>
</ul>
</div>


                            </div>
                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value">${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>